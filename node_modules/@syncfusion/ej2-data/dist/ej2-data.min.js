/*!
*  filename: ej2-data.min.js
*  version : 24.2.3
*  Copyright Syncfusion Inc. 2001 - 2023. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("SyncfusionBase")):"function"==typeof define&&define.amd?define(["SyncfusionBase"],t):"object"==typeof exports?exports.SyncfusionData=t(require("SyncfusionBase")):e.SyncfusionData=t(e.SyncfusionBase)}(this,function(e){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(t,r){t.exports=e},function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return i});var n=r(2),o=r(0),a=(r.n(o),function(){function e(e){return this.subQuery=null,this.isChild=!1,this.distincts=[],this.queries=[],this.key="",this.fKey="","string"==typeof e?this.fromTable=e:e&&e instanceof Array&&(this.lookups=e),this.expands=[],this.sortedColumns=[],this.groupedColumns=[],this.subQuery=null,this.isChild=!1,this.params=[],this.lazyLoad=[],this}return e.prototype.setKey=function(e){return this.key=e,this},e.prototype.using=function(e){return this.dataManager=e,this},e.prototype.execute=function(e,t,r,o){return e=e||this.dataManager,e?e.executeQuery(this,t,r,o):n.a.throwError('Query - execute() : dataManager needs to be is set using "using" function or should be passed as argument')},e.prototype.executeLocal=function(e){return e=e||this.dataManager,e?e.executeLocal(this):n.a.throwError('Query - executeLocal() : dataManager needs to be is set using "using" function or should be passed as argument')},e.prototype.clone=function(){var t=new e;return t.queries=this.queries.slice(0),t.key=this.key,t.isChild=this.isChild,t.dataManager=this.dataManager,t.fromTable=this.fromTable,t.params=this.params.slice(0),t.expands=this.expands.slice(0),t.sortedColumns=this.sortedColumns.slice(0),t.groupedColumns=this.groupedColumns.slice(0),t.subQuerySelector=this.subQuerySelector,t.subQuery=this.subQuery,t.fKey=this.fKey,t.isCountRequired=this.isCountRequired,t.distincts=this.distincts.slice(0),t.lazyLoad=this.lazyLoad.slice(0),t},e.prototype.from=function(e){return this.fromTable=e,this},e.prototype.addParams=function(e,t){return"function"==typeof t?this.params.push({key:e,fn:t}):this.params.push({key:e,value:t}),this},e.prototype.distinct=function(e){return this.distincts="string"==typeof e?[].slice.call([e],0):e.slice(0),this},e.prototype.expand=function(e){return this.expands="string"==typeof e?[].slice.call([e],0):e.slice(0),this},e.prototype.where=function(e,t,r,n,o,a){t=t?t.toLowerCase():null;var s=null;return"string"==typeof e?s=new i(e,t,r,n,o,a):e instanceof i&&(s=e),this.queries.push({fn:"onWhere",e:s}),this},e.prototype.search=function(e,t,r,o,a){"string"==typeof t&&(t=[t]),r&&"none"!==r||(r="contains");var i=n.a.fnOperators[r];return this.queries.push({fn:"onSearch",e:{fieldNames:t,operator:r,searchKey:e,ignoreCase:o,ignoreAccent:a,comparer:i}}),this},e.prototype.sortBy=function(e,t,r){return this.sortByForeignKey(e,t,r)},e.prototype.sortByForeignKey=function(t,a,i,s){var u,c,l=r.i(o.isNullOrUndefined)(s)?"ascending":s;if("string"==typeof t&&n.a.endsWith(t.toLowerCase()," desc")&&(t=t.replace(/ desc$/i,""),a="descending"),a&&"string"!=typeof a||(l=a?a.toLowerCase():"ascending",a=n.a.fnSort(a)),i){u=e.filterQueries(this.queries,"onSortBy");for(var d=0;d<u.length;d++)if("string"==typeof(c=u[d].e.fieldName)){if(c===t)return this}else if(c instanceof Array)for(var p=0;p<c.length;p++)if(c[p]===t||t.toLowerCase()===c[p]+" desc")return this}return this.queries.push({fn:"onSortBy",e:{fieldName:t,comparer:a,direction:l}}),this},e.prototype.sortByDesc=function(e){return this.sortBy(e,"descending")},e.prototype.group=function(e,t,r){return this.sortBy(e,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:e,comparer:t||null,format:r||null}}),this},e.prototype.page=function(e,t){return this.queries.push({fn:"onPage",e:{pageIndex:e,pageSize:t}}),this},e.prototype.range=function(e,t){return this.queries.push({fn:"onRange",e:{start:e,end:t}}),this},e.prototype.take=function(e){return this.queries.push({fn:"onTake",e:{nos:e}}),this},e.prototype.skip=function(e){return this.queries.push({fn:"onSkip",e:{nos:e}}),this},e.prototype.select=function(e){return"string"==typeof e&&(e=[].slice.call([e],0)),this.queries.push({fn:"onSelect",e:{fieldNames:e}}),this},e.prototype.hierarchy=function(e,t){return this.subQuerySelector=t,this.subQuery=e,this},e.prototype.foreignKey=function(e){return this.fKey=e,this},e.prototype.requiresCount=function(){return this.isCountRequired=!0,this},e.prototype.aggregate=function(e,t){return this.queries.push({fn:"onAggregates",e:{field:t,type:e}}),this},e.filterQueries=function(e,t){return e.filter(function(e){return e.fn===t})},e.filterQueryLists=function(e,t){for(var r=e.filter(function(e){return-1!==t.indexOf(e.fn)}),n={},o=0;o<r.length;o++)n[r[o].fn]||(n[r[o].fn]=r[o].e);return n},e}()),i=function(){function e(t,r,o,a,i,s){return void 0===a&&(a=!1),this.ignoreAccent=!1,this.isComplex=!1,"string"==typeof t?(this.field=t,this.operator=r.toLowerCase(),this.value=o,this.matchCase=s,this.ignoreCase=a,this.ignoreAccent=i,this.isComplex=!1,this.comparer=n.a.fnOperators.processOperator(this.operator)):(t instanceof e&&o instanceof e||o instanceof Array)&&(this.isComplex=!0,this.condition=r.toLowerCase(),this.predicates=[t],this.matchCase=t.matchCase,this.ignoreCase=t.ignoreCase,this.ignoreAccent=t.ignoreAccent,o instanceof Array?[].push.apply(this.predicates,o):this.predicates.push(o)),this}return e.and=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.combinePredicates([].slice.call(t,0),"and")},e.prototype.and=function(t,r,n,o,a){return e.combine(this,t,r,n,"and",o,a)},e.or=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.combinePredicates([].slice.call(t,0),"or")},e.prototype.or=function(t,r,n,o,a){return e.combine(this,t,r,n,"or",o,a)},e.ornot=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.combinePredicates([].slice.call(t,0),"or not")},e.prototype.ornot=function(t,r,n,o,a){return e.combine(this,t,r,n,"ornot",o,a)},e.andnot=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.combinePredicates([].slice.call(t,0),"and not")},e.prototype.andnot=function(t,r,n,o,a){return e.combine(this,t,r,n,"andnot",o,a)},e.fromJson=function(e){if(e instanceof Array){for(var t=[],r=0,n=e.length;r<n;r++)t.push(this.fromJSONData(e[r]));return t}var o=e;return this.fromJSONData(o)},e.prototype.validate=function(e){var t,r,o=this.predicates?this.predicates:[];if(!this.isComplex&&this.comparer)return this.condition&&-1!==this.condition.indexOf("not")?(this.condition=""===this.condition.split("not")[0]?void 0:this.condition.split("not")[0],!this.comparer.call(this,n.a.getObject(this.field,e),this.value,this.ignoreCase,this.ignoreAccent)):this.comparer.call(this,n.a.getObject(this.field,e),this.value,this.ignoreCase,this.ignoreAccent);r=this.condition&&-1!==this.condition.indexOf("not")?-1!==this.condition.indexOf("and"):"and"===this.condition;for(var a=0;a<o.length;a++)if(a>0&&this.condition&&-1!==this.condition.indexOf("not")&&(o[a].condition=o[a].condition?o[a].condition+"not":"not"),t=o[a].validate(e),r){if(!t)return!1}else if(t)return!0;return r},e.prototype.toJson=function(){var e,t;if(this.isComplex){e=[],t=this.predicates;for(var r=0;r<t.length;r++)e.push(t[r].toJson())}return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,ignoreAccent:this.ignoreAccent,condition:this.condition,predicates:e,matchCase:this.matchCase}},e.combinePredicates=function(t,r){if(1===t.length){if(!(t[0]instanceof Array))return t[0];t=t[0]}return new e(t[0],r,t.slice(1))},e.combine=function(t,r,o,a,i,s,u){return r instanceof e?e[i](t,r):"string"==typeof r?e[i](t,new e(r,o,a,s,u)):n.a.throwError("Predicate - "+i+" : invalid arguments")},e.fromJSONData=function(t){for(var r=t.predicates||[],n=r.length,o=[],a=0;a<n;a++)o.push(this.fromJSONData(r[a]));return t.isComplex?new e(o[0],t.condition,o.slice(1)):new e(t.field,t.operator,t.value,t.ignoreCase,t.ignoreAccent)},e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(0),o=(r.n(n),r(4)),a=r(1),i={GroupGuid:"{271bbba0-1ee7}"},s=function(){function e(){}return e.getValue=function(e,t){return"function"==typeof e?e.call(t||{}):e},e.endsWith=function(e,t){return e.slice&&e.slice(-t.length)===t},e.notEndsWith=function(e,t){return e.slice&&e.slice(-t.length)!==t},e.startsWith=function(e,t){return e.slice(0,t.length)===t},e.notStartsWith=function(e,t){return e.slice(0,t.length)!==t},e.wildCard=function(e,t){var r,n;if(-1!==t.indexOf("[")&&(t=t.split("[").join("[[]")),-1!==t.indexOf("(")&&(t=t.split("(").join("[(]")),-1!==t.indexOf(")")&&(t=t.split(")").join("[)]")),-1!==t.indexOf("\\")&&(t=t.split("\\").join("[\\\\]")),-1!==t.indexOf("*")){"*"!==t.charAt(0)&&(t="^"+t),"*"!==t.charAt(t.length-1)&&(t+="$"),r=t.split("*");for(var o=0;o<r.length;o++)-1===r[o].indexOf(".")?r[o]=r[o]+".*":r[o]=r[o]+"*";t=r.join("")}return-1===t.indexOf("%3f")&&-1===t.indexOf("?")||(n=-1!==t.indexOf("%3f")?t.split("%3f"):t.split("?"),t=n.join(".")),new RegExp(t,"g").test(e)},e.like=function(t,r){return-1!==r.indexOf("%")&&("%"===r.charAt(0)&&r.lastIndexOf("%")<2?(r=r.substring(1,r.length),e.startsWith(e.toLowerCase(t),e.toLowerCase(r))):"%"===r.charAt(r.length-1)&&r.indexOf("%")>r.length-3?(r=r.substring(0,r.length-1),e.endsWith(e.toLowerCase(t),e.toLowerCase(r))):r.lastIndexOf("%")!==r.indexOf("%")&&r.lastIndexOf("%")>r.indexOf("%")+1?(r=r.substring(r.indexOf("%")+1,r.lastIndexOf("%")),-1!==t.indexOf(r)):-1!==t.indexOf(r))},e.fnSort=function(t){return t=t?e.toLowerCase(t):"ascending","ascending"===t?this.fnAscending:this.fnDescending},e.fnAscending=function(e,t){return r.i(n.isNullOrUndefined)(e)&&r.i(n.isNullOrUndefined)(t)?-1:null===t||void 0===t?-1:"string"==typeof e?e.localeCompare(t):null===e||void 0===e?1:e-t},e.fnDescending=function(e,t){return r.i(n.isNullOrUndefined)(e)&&r.i(n.isNullOrUndefined)(t)?-1:null===t||void 0===t?1:"string"==typeof e?-1*e.localeCompare(t):null===e||void 0===e?-1:t-e},e.extractFields=function(e,t){for(var r={},n=0;n<t.length;n++)r=this.setValue(t[n],this.getObject(t[n],e),r);return r},e.select=function(e,t){for(var r=[],n=0;n<e.length;n++)r.push(this.extractFields(e[n],t));return r},e.group=function(t,o,a,s,u,c,l){s=s||1;var d=t;if(d.GroupGuid===i.GroupGuid){for(var p=this,f=0;f<d.length;f++)!function(e){if(r.i(n.isNullOrUndefined)(u))d[e].items=p.group(d[e].items,o,a,d.level+1,null,c,l),d[e].count=d[e].items.length;else{var t=-1,i=u.filter(function(t){return t.key===d[e].key});t=u.indexOf(i[0]),d[e].items=p.group(d[e].items,o,a,d.level+1,u[t].items,c,l),d[e].count=u[t].count}}(f);return d.childLevels+=1,d}var h={},g=[];g.GroupGuid=i.GroupGuid,g.level=s,g.childLevels=0,g.records=d;for(var y=this,v=0;v<d.length;v++)!function(e){var t=y.getVal(d,e,o);if(r.i(n.isNullOrUndefined)(c)||(t=c(t,o)),!h[t]&&(h[t]={key:t,count:0,items:[],aggregates:{},field:o},g.push(h[t]),!r.i(n.isNullOrUndefined)(u))){var i=u.filter(function(e){return e.key===h[t].key});h[t].count=i[0].count}h[t].count=r.i(n.isNullOrUndefined)(u)?h[t].count+=1:h[t].count,(!l||l&&a.length)&&h[t].items.push(d[e])}(v);if(a&&a.length)for(var v=0;v<g.length;v++)!function(t){for(var o={},i=void 0,s=a,c=0;c<a.length;c++)if(i=e.aggregates[a[c].type],r.i(n.isNullOrUndefined)(u))i&&(o[s[c].field+" - "+s[c].type]=i(g[t].items,s[c].field));else{var l=u.filter(function(e){return e.key===g[t].key});i&&(o[s[c].field+" - "+s[c].type]=i(l[0].items,s[c].field))}g[t].aggregates=o}(v);if(l&&g.length&&a.length)for(var v=0;v<g.length;v++)g[v].items=[];return d.length&&g||d},e.buildHierarchy=function(e,t,r,n,o){var a,i,s={};for(n.result&&(n=n.result),n.GroupGuid&&this.throwError("DataManager: Do not have support Grouping in hierarchy"),a=0;a<n.length;a++){var u=this.getObject(e,n[a]);i=s[u]||(s[u]=[]),i.push(n[a])}for(a=0;a<r.length;a++){var u=this.getObject(o||e,r[a]);r[a][t]=s[u]}},e.getFieldList=function(e,t,r){if(void 0===r&&(r=""),void 0===t||null===t)return this.getFieldList(e,[],r);for(var n=e,o=Object.keys(e),a=0,i=o;a<i.length;a++){var s=i[a];"object"!=typeof n[s]||n[s]instanceof Array?t.push(r+s):this.getFieldList(n[s],t,r+s+".")}return t},e.getObject=function(e,t){if(!e)return t;if(t){if(-1===e.indexOf(".")){var o=e.charAt(0).toLowerCase()+e.slice(1),a=e.charAt(0).toUpperCase()+e.slice(1);return r.i(n.isNullOrUndefined)(t[e])?r.i(n.isNullOrUndefined)(t[o])?r.i(n.isNullOrUndefined)(t[a])?null:t[a]:t[o]:t[e]}for(var i=t,s=e.split("."),u=0;u<s.length&&null!=i;u++){if(void 0===(i=i[s[u]])){var c=s[u].charAt(0).toUpperCase()+s[u].slice(1);i=t[c]||t[c.charAt(0).toLowerCase()+c.slice(1)]||null}t=i}return i}},e.setValue=function(e,t,o){var a,i,s=e.toString().split("."),u=o||{},c=u,l=s.length;for(a=0;a<l;a++)i=s[a],a+1===l?c[i]=void 0===t?void 0:t:r.i(n.isNullOrUndefined)(c[i])&&(c[i]={}),c=c[i];return u},e.sort=function(e,t,r){if(e.length<=1)return e;var n=parseInt((e.length/2).toString(),10),o=e.slice(0,n),a=e.slice(n);return o=this.sort(o,t,r),a=this.sort(a,t,r),this.merge(o,a,t,r)},e.ignoreDiacritics=function(t){return"string"!=typeof t?t:t.split("").map(function(t){return t in e.diacritics?e.diacritics[t]:t}).join("")},e.merge=function(e,t,r,n){for(var o,a=[];e.length>0||t.length>0;)o=e.length>0&&t.length>0?n?n(this.getVal(e,0,r),this.getVal(t,0,r),e[0],t[0])<=0?e:t:e[0][r]<e[0][r]?e:t:e.length>0?e:t,a.push(o.shift());return a},e.getVal=function(e,t,r){return r?this.getObject(r,e[t]):e[t]},e.toLowerCase=function(e){return e?"string"==typeof e?e.toLowerCase():e.toString():0===e||!1===e?e.toString():""},e.callAdaptorFunction=function(e,t,o,a){if(t in e){var i=e[t](o,a);r.i(n.isNullOrUndefined)(i)||(o=i)}return o},e.getAddParams=function(t,r,n){var o={};return e.callAdaptorFunction(t,"addParams",{dm:r,query:n,params:n.params,reqParams:o}),o},e.isPlainObject=function(e){return!!e&&e.constructor===Object},e.isCors=function(){var e=null;try{e=new window.XMLHttpRequest}catch(e){}return!!e&&"withCredentials"in e},e.getGuid=function(e){var t;return(e||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,function(e,r){if("crypto"in window&&"getRandomValues"in crypto){var n=new Uint8Array(1);window.crypto.getRandomValues(n),t=n[0]%16|0}else t=16*Math.random()|0;return"0123456789abcdef"[19===r?3&t|8:t]})},e.isNull=function(e){return void 0===e||null===e},e.getItemFromComparer=function(t,o,a){var i,s,u,c=0,l="string"==typeof e.getVal(t,0,o);if(t.length)for(;r.i(n.isNullOrUndefined)(i)&&c<t.length;)i=e.getVal(t,c,o),u=t[c++];for(;c<t.length;c++)s=e.getVal(t,c,o),r.i(n.isNullOrUndefined)(s)||(l&&(i=+i,s=+s),a(i,s)>0&&(i=s,u=t[c]));return u},e.distinct=function(t,o,a){a=!r.i(n.isNullOrUndefined)(a)&&a;var i,s=[],u={};return t.forEach(function(r,n){(i="object"==typeof t[n]?e.getVal(t,n,o):t[n])in u||(s.push(a?t[n]:i),u[i]=1)}),s},e.processData=function(e,t){var r=this.prepareQuery(e),n=new o.a(t);e.requiresCounts&&r.requiresCount();var a=n.executeLocal(r),i={result:e.requiresCounts?a.result:a,count:a.count,aggregates:JSON.stringify(a.aggregates)};return e.requiresCounts?i:a},e.prepareQuery=function(t){var o=this,i=new a.a;if(t.select&&i.select(t.select),t.where){e.parse.parseJson(t.where).filter(function(e){if(r.i(n.isNullOrUndefined)(e.condition))i.where(e.field,e.operator,e.value,e.ignoreCase,e.ignoreAccent);else{var t=[];e.field?t.push(new a.b(e.field,e.operator,e.value,e.ignoreCase,e.ignoreAccent)):t=t.concat(o.getPredicate(e.predicates)),"or"===e.condition?i.where(a.b.or(t)):"and"===e.condition&&i.where(a.b.and(t))}})}if(t.search){e.parse.parseJson(t.search).filter(function(e){return i.search(e.key,e.fields,e.operator,e.ignoreCase,e.ignoreAccent)})}return t.aggregates&&t.aggregates.filter(function(e){return i.aggregate(e.type,e.field)}),t.sorted&&t.sorted.filter(function(e){return i.sortBy(e.name,e.direction)}),t.skip&&i.skip(t.skip),t.take&&i.take(t.take),t.group&&t.group.filter(function(e){return i.group(e)}),i},e.getPredicate=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if(n.field)t.push(new a.b(n.field,n.operator,n.value,n.ignoreCase,n.ignoreAccent));else{for(var o=[],i=this.getPredicate(n.predicates),s=0,u=Object.keys(i);s<u.length;s++){var c=u[s];o.push(i[c])}t.push("or"===n.condition?a.b.or(o):a.b.and(o))}}return t},e.serverTimezoneOffset=null,e.timeZoneHandling=!0,e.throwError=function(e){try{throw new Error(e)}catch(e){throw e.message+"\n"+e.stack}},e.aggregates={sum:function(t,r){for(var n,o=0,a="number"!=typeof e.getVal(t,0,r),i=0;i<t.length;i++)n=e.getVal(t,i,r),isNaN(n)||null===n||(a&&(n=+n),o+=n);return o},average:function(t,r){return e.aggregates.sum(t,r)/t.length},min:function(t,r){var n;return"function"==typeof r&&(n=r,r=null),e.getObject(r,e.getItemFromComparer(t,r,n||e.fnAscending))},max:function(t,r){var n;return"function"==typeof r&&(n=r,r=null),e.getObject(r,e.getItemFromComparer(t,r,n||e.fnDescending))},truecount:function(e,t){return new o.a(e).executeLocal((new a.a).where(t,"equal",!0,!0)).length},falsecount:function(e,t){return new o.a(e).executeLocal((new a.a).where(t,"equal",!1,!0)).length},count:function(e,t){return e.length}},e.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},e.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},e.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof",doesnotendwith:"not endswith",doesnotstartwith:"not startswith",doesnotcontain:"not substringof",wildcard:"wildcard",like:"like"},e.odv4UniOperator={"$=":"endswith","^=":"startswith","*=":"contains",endswith:"endswith",startswith:"startswith",contains:"contains",doesnotendwith:"not endswith",doesnotstartwith:"not startswith",doesnotcontain:"not contains",wildcard:"wildcard",like:"like"},e.diacritics={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"},e.fnOperators={equal:function(t,r,n,o){return o&&(t=e.ignoreDiacritics(t),r=e.ignoreDiacritics(r)),n?e.toLowerCase(t)===e.toLowerCase(r):t===r},notequal:function(t,r,n,o){return o&&(t=e.ignoreDiacritics(t),r=e.ignoreDiacritics(r)),!e.fnOperators.equal(t,r,n)},lessthan:function(t,o,a){return a?e.toLowerCase(t)<e.toLowerCase(o):(r.i(n.isNullOrUndefined)(t)&&(t=void 0),t<o)},greaterthan:function(t,r,n){return n?e.toLowerCase(t)>e.toLowerCase(r):t>r},lessthanorequal:function(t,o,a){return a?e.toLowerCase(t)<=e.toLowerCase(o):(r.i(n.isNullOrUndefined)(t)&&(t=void 0),t<=o)},greaterthanorequal:function(t,r,n){return n?e.toLowerCase(t)>=e.toLowerCase(r):t>=r},contains:function(t,o,a,i){return i&&(t=e.ignoreDiacritics(t),o=e.ignoreDiacritics(o)),a?!r.i(n.isNullOrUndefined)(t)&&!r.i(n.isNullOrUndefined)(o)&&-1!==e.toLowerCase(t).indexOf(e.toLowerCase(o)):!r.i(n.isNullOrUndefined)(t)&&!r.i(n.isNullOrUndefined)(o)&&-1!==t.toString().indexOf(o)},doesnotcontain:function(t,o,a,i){return i&&(t=e.ignoreDiacritics(t),o=e.ignoreDiacritics(o)),a?!r.i(n.isNullOrUndefined)(t)&&!r.i(n.isNullOrUndefined)(o)&&-1===e.toLowerCase(t).indexOf(e.toLowerCase(o)):!r.i(n.isNullOrUndefined)(t)&&!r.i(n.isNullOrUndefined)(o)&&-1===t.toString().indexOf(o)},isnotnull:function(e){return null!==e&&void 0!==e},isnull:function(e){return null===e||void 0===e},startswith:function(t,r,n,o){return o&&(t=e.ignoreDiacritics(t),r=e.ignoreDiacritics(r)),n?t&&r&&e.startsWith(e.toLowerCase(t),e.toLowerCase(r)):t&&r&&e.startsWith(t,r)},doesnotstartwith:function(t,r,n,o){return o&&(t=e.ignoreDiacritics(t),r=e.ignoreDiacritics(r)),n?t&&r&&e.notStartsWith(e.toLowerCase(t),e.toLowerCase(r)):t&&r&&e.notStartsWith(t,r)},like:function(t,r,n,o){return o&&(t=e.ignoreDiacritics(t),r=e.ignoreDiacritics(r)),n?t&&r&&e.like(e.toLowerCase(t),e.toLowerCase(r)):t&&r&&e.like(t,r)},isempty:function(e){return void 0===e||""===e},isnotempty:function(e){return void 0!==e&&""!==e},wildcard:function(t,r,n,o){return o&&(t=e.ignoreDiacritics(t),r=e.ignoreDiacritics(r)),n?(t||"boolean"==typeof t)&&r&&"object"!=typeof t&&e.wildCard(e.toLowerCase(t),e.toLowerCase(r)):(t||"boolean"==typeof t)&&r&&e.wildCard(t,r)},endswith:function(t,r,n,o){return o&&(t=e.ignoreDiacritics(t),r=e.ignoreDiacritics(r)),n?t&&r&&e.endsWith(e.toLowerCase(t),e.toLowerCase(r)):t&&r&&e.endsWith(t,r)},doesnotendwith:function(t,r,n,o){return o&&(t=e.ignoreDiacritics(t),r=e.ignoreDiacritics(r)),n?t&&r&&e.notEndsWith(e.toLowerCase(t),e.toLowerCase(r)):t&&r&&e.notEndsWith(t,r)},processSymbols:function(t){var r=e.operatorSymbols[t];if(r){return e.fnOperators[r]}return e.throwError("Query - Process Operator : Invalid operator")},processOperator:function(t){var r=e.fnOperators[t];return r||e.fnOperators.processSymbols(t)}},e.parse={parseJson:function(t){return"string"!=typeof t||!/^[\s]*\[|^[\s]*\{(.)+:/g.test(t)&&-1!==t.indexOf('"')?t instanceof Array?e.parse.iterateAndReviveArray(t):"object"==typeof t&&null!==t&&e.parse.iterateAndReviveJson(t):t=JSON.parse(t,e.parse.jsonReviver),t},iterateAndReviveArray:function(t){for(var r=0;r<t.length;r++)"object"==typeof t[r]&&null!==t[r]?e.parse.iterateAndReviveJson(t[r]):"string"!=typeof t[r]||/^[\s]*\[|^[\s]*\{(.)+:|\"/g.test(t[r])&&-1!==t[r].toString().indexOf('"')?t[r]=e.parse.parseJson(t[r]):t[r]=e.parse.jsonReviver("",t[r])},iterateAndReviveJson:function(t){for(var r,n=Object.keys(t),o=0,a=n;o<a.length;o++){var i=a[o];e.startsWith(i,"__")||(r=t[i],"object"==typeof r?r instanceof Array?e.parse.iterateAndReviveArray(r):r&&e.parse.iterateAndReviveJson(r):t[i]=e.parse.jsonReviver(t[i],r))}},jsonReviver:function(t,r){if("string"==typeof r){var n=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(r),o=e.timeZoneHandling?e.serverTimezoneOffset:null;if(n)return e.dateParse.toTimeZone(new Date(parseInt(n[1],10)),o,!0);if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(r)){var a=r.indexOf("Z")>-1||r.indexOf("z")>-1,i=r.split(/[^0-9.]/);if(a){if(i[5].indexOf(".")>-1){var s=i[5].split(".");i[5]=s[0],i[6]=new Date(r).getUTCMilliseconds().toString()}else i[6]="00";r=e.dateParse.toTimeZone(new Date(parseInt(i[0],10),parseInt(i[1],10)-1,parseInt(i[2],10),parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5]?i[5]:"00",10),parseInt(i[6],10)),e.serverTimezoneOffset,!1)}else{var u=new Date(parseInt(i[0],10),parseInt(i[1],10)-1,parseInt(i[2],10),parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5]?i[5]:"00",10)),c=parseInt(i[6],10),l=parseInt(i[7],10);if(isNaN(c)&&isNaN(l))return u;r.indexOf("+")>-1?u.setHours(u.getHours()-c,u.getMinutes()-l):u.setHours(u.getHours()+c,u.getMinutes()+l),r=e.dateParse.toTimeZone(u,e.serverTimezoneOffset,!1)}null==e.serverTimezoneOffset&&(r=e.dateParse.addSelfOffset(r))}}return r},isJson:function(t){return"string"==typeof t[0]?t:e.parse.parseJson(t)},isGuid:function(e){return null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(e)},replacer:function(t,r){return e.isPlainObject(t)?e.parse.jsonReplacer(t,r):t instanceof Array?e.parse.arrayReplacer(t):t instanceof Date?e.parse.jsonReplacer({val:t},r).val:t},jsonReplacer:function(t,r){for(var n,o=Object.keys(t),a=0,i=o;a<i.length;a++){var s=i[a];if((n=t[s])instanceof Date){var u=n;null==e.serverTimezoneOffset?t[s]=e.dateParse.toTimeZone(u,null).toJSON():(u=new Date(+u+36e5*e.serverTimezoneOffset),t[s]=e.dateParse.toTimeZone(e.dateParse.addSelfOffset(u),null).toJSON())}}return t},arrayReplacer:function(t){for(var r=0;r<t.length;r++)e.isPlainObject(t[r])?t[r]=e.parse.jsonReplacer(t[r]):t[r]instanceof Date&&(t[r]=e.parse.jsonReplacer({date:t[r]}).date);return t},jsonDateReplacer:function(t,r){if("value"===t&&r){if("string"==typeof r){var n=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(r);if(n)r=e.dateParse.toTimeZone(new Date(parseInt(n[1],10)),null,!0);else if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(r)){var o=r.split(/[^0-9]/);r=e.dateParse.toTimeZone(new Date(parseInt(o[0],10),parseInt(o[1],10)-1,parseInt(o[2],10),parseInt(o[3],10),parseInt(o[4],10),parseInt(o[5],10)),null,!0)}}if(r instanceof Date)return r=e.dateParse.addSelfOffset(r),null===e.serverTimezoneOffset?e.dateParse.toTimeZone(e.dateParse.addSelfOffset(r),null).toJSON():(r=e.dateParse.toTimeZone(r,r.getTimezoneOffset()/60-e.serverTimezoneOffset,!1),r.toJSON())}return r}},e.dateParse={addSelfOffset:function(e){return new Date(+e-6e4*e.getTimezoneOffset())},toUTC:function(e){return new Date(+e+6e4*e.getTimezoneOffset())},toTimeZone:function(t,r,n){if(null===r)return t;var o=n?e.dateParse.toUTC(t):t;return new Date(+o-36e5*r)},toLocalTime:function(e){var t=e,r=-t.getTimezoneOffset(),n=r>=0?"+":"-",o=function(e){var t=Math.floor(Math.abs(e));return(t<10?"0":"")+t};return t.getFullYear()+"-"+o(t.getMonth()+1)+"-"+o(t.getDate())+"T"+o(t.getHours())+":"+o(t.getMinutes())+":"+o(t.getSeconds())+n+o(r/60)+":"+o(r%60)}},e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return u}),r.d(t,"b",function(){return c}),r.d(t,"c",function(){return l}),r.d(t,"d",function(){return d}),r.d(t,"e",function(){return p}),r.d(t,"f",function(){return f}),r.d(t,"g",function(){return h}),r.d(t,"h",function(){return g}),r.d(t,"i",function(){return y}),r.d(t,"j",function(){return v}),r.d(t,"k",function(){return m});var n=r(0),o=(r.n(n),r(2)),a=r(1),i=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),s={GroupGuid:"{271bbba0-1ee7}"},u=function(){function e(t){this.options={from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates",expand:"expand"},this.type=e,this.dataSource=t,this.pvt={}}return e.prototype.processResponse=function(e,t,r,n){return e},e}(),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.processQuery=function(e,t){for(var r,n,o,a=e.dataSource.json.slice(0),i=a.length,s=!0,u={},c=0,l=[],d=0;d<t.lazyLoad.length;d++)c++,u[t.lazyLoad[d].key]=t.lazyLoad[d].value;for(var p={},d=0;d<t.queries.length;d++)n=t.queries[d],"onPage"!==n.fn&&"onGroup"!==n.fn||!t.lazyLoad.length?(r=this[n.fn].call(this,a,n.e,t),"onAggregates"===n.fn?p[n.e.field+" - "+n.e.type]=r:a=void 0!==r?r:a,"onPage"!==n.fn&&"onSkip"!==n.fn&&"onTake"!==n.fn&&"onRange"!==n.fn||(s=!1),s&&(i=a.length)):("onGroup"===n.fn&&l.push(n.e),"onPage"===n.fn&&(o=n.e));if(c){var f={query:t,lazyLoad:u,result:a,group:l,page:o},h=this.lazyLoadGroup(f);a=h.result,i=h.count}return t.isCountRequired&&(a={result:a,count:i,aggregates:p}),a},t.prototype.lazyLoadGroup=function(e){var t=0,a=this.getAggregate(e.query),i=e.result;if(r.i(n.isNullOrUndefined)(e.lazyLoad.onDemandGroupInfo)){var s=e.group[0].fieldName;i=o.a.group(i,s,a,null,null,e.group[0].comparer,!0),t=i.length;var u=i;e.page&&(i=this.onPage(i,e.page,e.query)),this.formGroupResult(i,u)}else{for(var c=e.lazyLoad.onDemandGroupInfo,l=c.where.length-1;l>=0;l--)i=this.onWhere(i,c.where[l]);if(e.group.length!==c.level){var s=e.group[c.level].fieldName;i=o.a.group(i,s,a,null,null,e.group[0].comparer,!0)}t=i.length;var u=i;i=i.slice(c.skip),i=i.slice(0,c.take),e.group.length!==c.level&&this.formGroupResult(i,u)}return{result:i,count:t}},t.prototype.formGroupResult=function(e,t){if(e.length&&t.length){e.GroupGuid=t.GroupGuid,e.childLevels=t.childLevels,e.level=t.level,e.records=t.records}return e},t.prototype.getAggregate=function(e){var t=a.a.filterQueries(e.queries,"onAggregates"),r=[];if(t.length)for(var n=void 0,i=0;i<t.length;i++)n=t[i].e,r.push({type:n.type,field:o.a.getValue(n.field,e)});return r},t.prototype.batchRequest=function(e,t,r){var n,o=t.deletedRecords.length;for(n=0;n<t.addedRecords.length;n++)this.insert(e,t.addedRecords[n]);for(n=0;n<t.changedRecords.length;n++)this.update(e,r.key,t.changedRecords[n]);for(n=0;n<o;n++)this.remove(e,r.key,t.deletedRecords[n]);return t},t.prototype.onWhere=function(e,t){return e&&e.length?e.filter(function(e){if(t)return t.validate(e)}):e},t.prototype.onAggregates=function(e,t){var r=o.a.aggregates[t.type];return e&&r&&0!==e.length?r(e,t.field):null},t.prototype.onSearch=function(e,t){return e&&e.length?(0===t.fieldNames.length&&o.a.getFieldList(e[0],t.fieldNames),e.filter(function(e){for(var r=0;r<t.fieldNames.length;r++)if(t.comparer.call(e,o.a.getObject(t.fieldNames[r],e),t.searchKey,t.ignoreCase,t.ignoreAccent))return!0;return!1})):e},t.prototype.onSortBy=function(e,t,r){if(!e||!e.length)return e;var n,a=o.a.getValue(t.fieldName,r);if(!a)return e.sort(t.comparer);if(a instanceof Array){a=a.slice(0);for(var i=a.length-1;i>=0;i--)a[i]&&(n=t.comparer,o.a.endsWith(a[i]," desc")&&(n=o.a.fnSort("descending"),a[i]=a[i].replace(" desc","")),e=o.a.sort(e,a[i],n));return e}return o.a.sort(e,a,t.comparer)},t.prototype.onGroup=function(e,t,r){if(!e||!e.length)return e;var n=this.getAggregate(r);return o.a.group(e,o.a.getValue(t.fieldName,r),n,null,null,t.comparer)},t.prototype.onPage=function(e,t,r){var n=o.a.getValue(t.pageSize,r),a=(o.a.getValue(t.pageIndex,r)-1)*n,i=a+n;return e&&e.length?e.slice(a,i):e},t.prototype.onRange=function(e,t){return e&&e.length?e.slice(o.a.getValue(t.start),o.a.getValue(t.end)):e},t.prototype.onTake=function(e,t){return e&&e.length?e.slice(0,o.a.getValue(t.nos)):e},t.prototype.onSkip=function(e,t){return e&&e.length?e.slice(o.a.getValue(t.nos)):e},t.prototype.onSelect=function(e,t){return e&&e.length?o.a.select(e,o.a.getValue(t.fieldNames)):e},t.prototype.insert=function(e,t,o,a,i){return r.i(n.isNullOrUndefined)(i)?e.dataSource.json.push(t):e.dataSource.json.splice(i,0,t)},t.prototype.remove=function(e,t,r,n){var a,i=e.dataSource.json;for("object"!=typeof r||r instanceof Date||(r=o.a.getObject(t,r)),a=0;a<i.length&&o.a.getObject(t,i[a])!==r;a++);return a!==i.length?i.splice(a,1):null},t.prototype.update=function(e,t,o,a){var i,s,u=e.dataSource.json;for(r.i(n.isNullOrUndefined)(t)||(s=r.i(n.getValue)(t,o)),i=0;i<u.length&&(r.i(n.isNullOrUndefined)(t)||r.i(n.getValue)(t,u[i])!==s);i++);return i<u.length?r.i(n.merge)(u[i],o):null},t}(u),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.processQuery=function(e,t,i){var s,u,c=this.getQueryRequest(t),l=a.a.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),d=t.params,p=e.dataSource.url,f=null,h=this.options,g={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};"onPage"in l?(s=l.onPage,u=o.a.getValue(s.pageIndex,t),f=o.a.getValue(s.pageSize,t),u=(u-1)*f):"onRange"in l&&(s=l.onRange,u=s.start,f=s.end-s.start);for(var y=0;y<c.sorts.length;y++)s=o.a.getValue(c.sorts[y].e.fieldName,t),g.sorts.push(o.a.callAdaptorFunction(this,"onEachSort",{name:s,direction:c.sorts[y].e.direction},t));i&&(s=this.getFiltersFrom(i,t))&&g.filters.push(o.a.callAdaptorFunction(this,"onEachWhere",s.toJson(),t));for(var y=0;y<c.filters.length;y++){var v=o.a.callAdaptorFunction(this,"onEachWhere",c.filters[y].e.toJson(),t);this.getModuleName&&"ODataV4Adaptor"===this.getModuleName()&&!r.i(n.isNullOrUndefined)(c.filters[y].e.key)&&c.filters.length>1&&(v="("+v+")"),g.filters.push(v);for(var m="object"==typeof g.filters[y]?Object.keys(g.filters[y]):[],O=0,S=m;O<S.length;O++){var b=S[O];o.a.isNull(g[b])&&delete g[b]}}for(var y=0;y<c.searches.length;y++)s=c.searches[y].e,g.searches.push(o.a.callAdaptorFunction(this,"onEachSearch",{fields:s.fieldNames,operator:s.operator,key:s.searchKey,ignoreCase:s.ignoreCase},t));for(var y=0;y<c.groups.length;y++)g.groups.push(o.a.getValue(c.groups[y].e.fieldName,t));for(var y=0;y<c.aggregates.length;y++)s=c.aggregates[y].e,g.aggregates.push({type:s.type,field:o.a.getValue(s.field,t)});var A={};if(this.getRequestQuery(h,t,l,g,A),o.a.callAdaptorFunction(this,"addParams",{dm:e,query:t,params:d,reqParams:A}),t.lazyLoad.length)for(var y=0;y<t.lazyLoad.length;y++)A[t.lazyLoad[y].key]=t.lazyLoad[y].value;for(var C=Object.keys(A),w=0,x=C;w<x.length;w++){var b=x[w];(o.a.isNull(A[b])||""===A[b]||0===A[b].length)&&delete A[b]}h.skip in A&&h.take in A||null===f||(A[h.skip]=o.a.callAdaptorFunction(this,"onSkip",u,t),A[h.take]=o.a.callAdaptorFunction(this,"onTake",f,t));var N=this.pvt;return this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(A,o.a.parse.jsonDateReplacer),url:p,pvtData:N,type:"POST",contentType:"application/json; charset=utf-8"}:(s=this.convertToQueryString(A,t,e),s=(-1!==e.dataSource.url.indexOf("?")?"&":"/")+s,{type:"GET",url:s.length?p.replace(/\/*$/,s):p,pvtData:N})},t.prototype.getRequestQuery=function(e,t,r,n,a){var i=a;i[e.from]=t.fromTable,e.apply&&t.distincts.length&&(i[e.apply]="onDistinct"in this?o.a.callAdaptorFunction(this,"onDistinct",t.distincts):""),!t.distincts.length&&e.expand&&(i[e.expand]="onExpand"in this&&"onSelect"in r?o.a.callAdaptorFunction(this,"onExpand",{selects:o.a.getValue(r.onSelect.fieldNames,t),expands:t.expands},t):t.expands),i[e.select]="onSelect"in r&&!t.distincts.length?o.a.callAdaptorFunction(this,"onSelect",o.a.getValue(r.onSelect.fieldNames,t),t):"",i[e.count]=t.isCountRequired?o.a.callAdaptorFunction(this,"onCount",t.isCountRequired,t):"",i[e.search]=n.searches.length?o.a.callAdaptorFunction(this,"onSearch",n.searches,t):"",i[e.skip]="onSkip"in r?o.a.callAdaptorFunction(this,"onSkip",o.a.getValue(r.onSkip.nos,t),t):"",i[e.take]="onTake"in r?o.a.callAdaptorFunction(this,"onTake",o.a.getValue(r.onTake.nos,t),t):"",i[e.where]=n.filters.length||n.searches.length?o.a.callAdaptorFunction(this,"onWhere",n.filters,t):"",i[e.sortBy]=n.sorts.length?o.a.callAdaptorFunction(this,"onSortBy",n.sorts,t):"",i[e.group]=n.groups.length?o.a.callAdaptorFunction(this,"onGroup",n.groups,t):"",i[e.aggregates]=n.aggregates.length?o.a.callAdaptorFunction(this,"onAggregates",n.aggregates,t):"",i.param=[]},t.prototype.convertToQueryString=function(e,t,r){return""},t.prototype.processResponse=function(e,t,a,i,s,u){if(i&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("application/json")){var c=o.a.timeZoneHandling;t&&!t.timeZoneHandling&&(o.a.timeZoneHandling=!1),e=o.a.parse.parseJson(e),o.a.timeZoneHandling=c}var l=s,d=l.pvtData||{},p=e?e.groupDs:[];if(i&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("xml"))return a.isCountRequired?{result:[],count:0}:[];var f=JSON.parse(l.data);if(f&&"batch"===f.action&&e&&e.addedRecords)return u.addedRecords=e.addedRecords,u;e&&e.d&&(e=e.d);var h={};e&&"count"in e&&(h.count=e.count),h.result=e&&e.result?e.result:e;var g=!1;if(Array.isArray(e.result)&&e.result.length){if(r.i(n.isNullOrUndefined)(e.result[0].key)||(h.result=this.formRemoteGroupedData(h.result,1,d.groups.length-1)),a&&a.lazyLoad.length&&d.groups.length)for(var y=0;y<a.lazyLoad.length;y++)if("onDemandGroupInfo"===a.lazyLoad[y].key){var v=a.lazyLoad[y].value.level;d.groups.length===v&&(g=!0)}}return g||this.getAggregateResult(d,e,h,p,a),o.a.isNull(h.count)?h.result:{result:h.result,count:h.count,aggregates:h.aggregates}},t.prototype.formRemoteGroupedData=function(e,t,o){for(var a=0;a<e.length;a++)e[a].items.length&&Object.keys(e[a].items[0]).indexOf("key")>-1&&this.formRemoteGroupedData(e[a].items,t+1,o-1);return e.GroupGuid=s.GroupGuid,e.level=t,e.childLevels=o,e.records=e[0].items.length?this.getGroupedRecords(e,!r.i(n.isNullOrUndefined)(e[0].items.records)):[],e},t.prototype.getGroupedRecords=function(e,t){for(var r=[],n=0;n<e.length;n++)if(t)r=r.concat(e[n].items.records);else for(var o=0;o<e[n].items.length;o++)r.push(e[n].items[o]);return r},t.prototype.onGroup=function(e){return this.pvt.groups=e,e},t.prototype.onAggregates=function(e){this.pvt.aggregates=e},t.prototype.batchRequest=function(e,t,a,i,s){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.removeUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(r.i(n.extend)({},{changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:a[void 0],key:a[void 0]},o.a.getAddParams(this,e,i)))}},t.prototype.beforeSend=function(e,t){},t.prototype.insert=function(e,t,a,i){return{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(r.i(n.extend)({},{value:t,table:a,action:"insert"},o.a.getAddParams(this,e,i)))}},t.prototype.remove=function(e,t,a,i,s){return{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(r.i(n.extend)({},{key:a,keyColumn:t,table:i,action:"remove"},o.a.getAddParams(this,e,s)))}},t.prototype.update=function(e,t,a,i,s){return{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(r.i(n.extend)({},{value:a,action:"update",keyColumn:t,key:o.a.getObject(t,a),table:i},o.a.getAddParams(this,e,s)))}},t.prototype.getFiltersFrom=function(e,t){var r,n=t.fKey,i=n,s=t.key,u=[];"object"!=typeof e[0]&&(i=null);for(var c=0;c<e.length;c++)r="object"==typeof e[0]?o.a.getObject(s||i,e[c]):e[c],u.push(new a.b(n,"equal",r));return a.b.or(u)},t.prototype.getAggregateResult=function(e,t,i,s,u){var c=t;if(t&&t.result&&(c=t.result),e&&e.aggregates&&e.aggregates.length){var l=e.aggregates,d=void 0,p=c,f={};t.aggregate&&(p=t.aggregate);for(var h=0;h<l.length;h++)(d=o.a.aggregates[l[h].type])&&(f[l[h].field+" - "+l[h].type]=d(p,l[h].field));i.aggregates=f}var g=Array.isArray(t.result)&&t.result.length&&!r.i(n.isNullOrUndefined)(t.result[0].key);if(e&&e.groups&&e.groups.length&&!g){for(var y=e.groups,h=0;h<y.length;h++){r.i(n.isNullOrUndefined)(s)||(s=o.a.group(s,y[h]));var v=a.a.filterQueries(u.queries,"onGroup")[h].e;c=o.a.group(c,y[h],e.aggregates,null,s,v.comparer)}i.result=c}return i},t.prototype.getQueryRequest=function(e){var t={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};return t.sorts=a.a.filterQueries(e.queries,"onSortBy"),t.groups=a.a.filterQueries(e.queries,"onGroup"),t.filters=a.a.filterQueries(e.queries,"onWhere"),t.searches=a.a.filterQueries(e.queries,"onSearch"),t.aggregates=a.a.filterQueries(e.queries,"onAggregates"),t},t.prototype.addParams=function(e){var t=e.reqParams;e.params.length&&(t.params={});for(var r=0,n=e.params;r<n.length;r++){var o=n[r];if(t[o.key])throw new Error("Query() - addParams: Custom Param is conflicting other request arguments");t[o.key]=o.value,o.fn&&(t[o.key]=o.fn.call(e.query,o.key,e.query,e.dm)),t.params[o.key]=t[o.key]}},t}(u),d=function(e){function t(t){var o=e.call(this)||this;return o.options=r.i(n.extend)({},o.options,{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PUT"}),r.i(n.extend)(o.options,t||{}),o}return i(t,e),t.prototype.getModuleName=function(){return"ODataAdaptor"},t.prototype.onPredicate=function(e,a,i){var s,u,c="",l=e.value,d=typeof l,p=e.field?t.getField(e.field):null;if(l instanceof Date&&(l="datetime'"+o.a.parse.replacer(l)+"'"),"string"===d&&(l=l.replace(/'/g,"''"),e.ignoreCase&&(l=l.toLowerCase()),"like"!==e.operator&&(l=encodeURIComponent(l)),"wildcard"!==e.operator&&"like"!==e.operator&&(l="'"+l+"'"),i&&(p="cast("+p+", 'Edm.String')"),o.a.parse.isGuid(l)&&(u="guid"),e.ignoreCase&&(u||(p="tolower("+p+")"),l=l.toLowerCase())),"isempty"===e.operator||"isnull"===e.operator||"isnotempty"===e.operator||"isnotnull"===e.operator?(s=-1!==e.operator.indexOf("isnot")?o.a.odBiOperator.notequal:o.a.odBiOperator.equal,l="isnull"===e.operator||"isnotnull"===e.operator?null:"''"):s=o.a.odBiOperator[e.operator],s)return c+=p,c+=s,u&&(c+=u),c+l;if("like"===(s=r.i(n.isNullOrUndefined)(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?o.a.odUniOperator[e.operator]:o.a.odv4UniOperator[e.operator]))l=l,-1!==l.indexOf("%")&&("%"===l.charAt(0)&&l.lastIndexOf("%")<2?(l=l.substring(1,l.length),s=r.i(n.isNullOrUndefined)(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?o.a.odUniOperator.startswith:o.a.odv4UniOperator.startswith):"%"===l.charAt(l.length-1)&&l.indexOf("%")>l.length-3?(l=l.substring(0,l.length-1),s=r.i(n.isNullOrUndefined)(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?o.a.odUniOperator.endswith:o.a.odv4UniOperator.endswith):l.lastIndexOf("%")!==l.indexOf("%")&&l.lastIndexOf("%")>l.indexOf("%")+1?(l=l.substring(l.indexOf("%")+1,l.lastIndexOf("%")),s=r.i(n.isNullOrUndefined)(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?o.a.odUniOperator.contains:o.a.odv4UniOperator.contains):s=r.i(n.isNullOrUndefined)(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?o.a.odUniOperator.contains:o.a.odv4UniOperator.contains),l=encodeURIComponent(l),l="'"+l+"'";else if("wildcard"===s)if(l=l,-1!==l.indexOf("*")){var f=l.split("*"),h=void 0,g=0;if(0!==l.indexOf("*")&&-1===f[0].indexOf("%3f")&&-1===f[0].indexOf("?")&&(h=f[0],h="'"+h+"'",s=r.i(n.isNullOrUndefined)(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?o.a.odUniOperator.startswith:o.a.odv4UniOperator.startswith,c+=s+"(",c+=p+",",u&&(c+=u),c+=h+")",g++),l.lastIndexOf("*")!==l.length-1&&-1===f[f.length-1].indexOf("%3f")&&-1===f[f.length-1].indexOf("?")&&(h=f[f.length-1],h="'"+h+"'",s=r.i(n.isNullOrUndefined)(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?o.a.odUniOperator.endswith:o.a.odv4UniOperator.endswith,g>0&&(c+=" and "),c+=s+"(",c+=p+",",u&&(c+=u),c+=h+")",g++),f.length>2)for(var y=1;y<f.length-1;y++)if(-1===f[y].indexOf("%3f")&&-1===f[y].indexOf("?")){if(h=f[y],h="'"+h+"'",s=r.i(n.isNullOrUndefined)(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?o.a.odUniOperator.contains:o.a.odv4UniOperator.contains,g>0&&(c+=" and "),"substringof"===s||"not substringof"===s){var v=h;h=p,p=v}c+=s+"(",c+=p+",",u&&(c+=u),c+=h+")",g++}0===g?(s=r.i(n.isNullOrUndefined)(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?o.a.odUniOperator.contains:o.a.odv4UniOperator.contains,-1===l.indexOf("?")&&-1===l.indexOf("%3f")||(l=-1!==l.indexOf("?")?l.split("?").join(""):l.split("%3f").join("")),l="'"+l+"'"):s="wildcard"}else s=r.i(n.isNullOrUndefined)(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?o.a.odUniOperator.contains:o.a.odv4UniOperator.contains,-1===l.indexOf("?")&&-1===l.indexOf("%3f")||(l=-1!==l.indexOf("?")?l.split("?").join(""):l.split("%3f").join("")),l="'"+l+"'";if("substringof"===s||"not substringof"===s){var v=l;l=p,p=v}return"wildcard"!==s&&(c+=s+"(",c+=p+",",u&&(c+=u),c+=l+")"),c},t.prototype.addParams=function(t){e.prototype.addParams.call(this,t),delete t.reqParams.params},t.prototype.onComplexPredicate=function(e,t,r){for(var n=[],o=0;o<e.predicates.length;o++)n.push("("+this.onEachWhere(e.predicates[o],t,r)+")");return n.join(" "+e.condition+" ")},t.prototype.onEachWhere=function(e,t,r){return e.isComplex?this.onComplexPredicate(e,t,r):this.onPredicate(e,t,r)},t.prototype.onWhere=function(e){return this.pvt.search&&e.push(this.onEachWhere(this.pvt.search,null,!0)),e.join(" and ")},t.prototype.onEachSearch=function(e){e.fields&&0===e.fields.length&&o.a.throwError("Query() - Search : oData search requires list of field names to search");for(var t=this.pvt.search||[],r=0;r<e.fields.length;r++)t.push(new a.b(e.fields[r],e.operator,e.key,e.ignoreCase));this.pvt.search=t},t.prototype.onSearch=function(e){return this.pvt.search=a.b.or(this.pvt.search),""},t.prototype.onEachSort=function(e){var r=[];if(e.name instanceof Array)for(var n=0;n<e.name.length;n++)r.push(t.getField(e.name[n])+("descending"===e.direction?" desc":""));else r.push(t.getField(e.name)+("descending"===e.direction?" desc":""));return r.join(",")},t.prototype.onSortBy=function(e){return e.reverse().join(",")},t.prototype.onGroup=function(e){return this.pvt.groups=e,[]},t.prototype.onSelect=function(e){for(var r=0;r<e.length;r++)e[r]=t.getField(e[r]);return e.join(",")},t.prototype.onAggregates=function(e){return this.pvt.aggregates=e,""},t.prototype.onCount=function(e){return!0===e?"allpages":""},t.prototype.beforeSend=function(e,t,r){o.a.endsWith(r.url,this.options.batch)&&"post"===r.type.toLowerCase()?(t.headers.set("Accept",this.options.multipartAccept),t.headers.set("DataServiceVersion","2.0")):t.headers.set("Accept",this.options.accept),t.headers.set("DataServiceVersion","2.0"),t.headers.set("MaxDataServiceVersion","2.0")},t.prototype.processResponse=function(e,t,a,i,s,u){if(s&&"GET"===s.type&&!this.rootUrl&&e["odata.metadata"]){var c=e["odata.metadata"].split("/$metadata#");this.rootUrl=c[0],this.resourceTableName=c[1]}if(!r.i(n.isNullOrUndefined)(e.d)){var l=a&&a.isCountRequired?e.d.results:e.d;if(!r.i(n.isNullOrUndefined)(l))for(var d=0;d<l.length;d++)r.i(n.isNullOrUndefined)(l[d].__metadata)||delete l[d].__metadata}var p=s&&s.pvtData,f=this.processBatchResponse(e,a,i,s,u);if(f)return f;var h=i&&s.fetchRequest.headers.get("DataServiceVersion"),g=null,y=h&&parseInt(h,10)||2;if(a&&a.isCountRequired){(e.__count||e["odata.count"])&&(g=e.__count||e["odata.count"]),e.d&&(e=e.d),(e.__count||e["odata.count"])&&(g=e.__count||e["odata.count"])}3===y&&e.value&&(e=e.value),e.d&&(e=e.d),y<3&&e.results&&(e=e.results);var v={};return v.count=g,v.result=e,this.getAggregateResult(p,e,v,null,a),o.a.isNull(g)?v.result:{result:v.result,count:v.count,aggregates:v.aggregates}},t.prototype.convertToQueryString=function(e,t,r){var n=[],o=e.table||"";delete e.table,r.dataSource.requiresFormat&&(e.$format="json");for(var a=Object.keys(e),i=0,s=a;i<s.length;i++){var u=s[i];n.push(u+"="+e[u])}return n=n.join("&"),r.dataSource.url&&-1!==r.dataSource.url.indexOf("?")&&!o?n:n.length?o+"?"+n:o||""},t.prototype.localTimeReplacer=function(e,t){for(var a=0,i=r.i(n.isNullOrUndefined)(t)?[]:Object.keys(t);a<i.length;a++){var s=i[a];t[s]instanceof Date&&(t[s]=o.a.dateParse.toLocalTime(t[s]))}return t},t.prototype.insert=function(e,t,r){return{url:(e.dataSource.insertUrl||e.dataSource.url).replace(/\/*$/,r?"/"+r:""),data:JSON.stringify(t,this.options.localTime?this.localTimeReplacer:null)}},t.prototype.remove=function(e,t,r,n){var a;return a="string"!=typeof r||o.a.parse.isGuid(r)?"("+r+")":"('"+r+"')",{type:"DELETE",url:(e.dataSource.removeUrl||e.dataSource.url).replace(/\/*$/,n?"/"+n:"")+a}},t.prototype.update=function(e,t,a,i,s,u){"PATCH"!==this.options.updateType||r.i(n.isNullOrUndefined)(u)||(a=this.compareAndRemove(a,u,t));var c;return c="string"!=typeof a[t]||o.a.parse.isGuid(a[t])?"("+a[t]+")":"('"+a[t]+"')",{type:this.options.updateType,url:(e.dataSource.updateUrl||e.dataSource.url).replace(/\/*$/,i?"/"+i:"")+c,data:JSON.stringify(a,this.options.localTime?this.localTimeReplacer:null),accept:this.options.accept}},t.prototype.batchRequest=function(e,t,r,n,a){var i=r.guid=o.a.getGuid(this.options.batchPre),s=this.rootUrl?this.rootUrl+"/"+this.options.batch:e.dataSource.url.replace(/\/*$/,"/"+this.options.batch);r.url=this.resourceTableName?this.resourceTableName:r.url;var u={url:r.url,key:r.key,cid:1,cSet:o.a.getGuid(this.options.changeSet)},c="--"+i+"\n";return c+="Content-Type: multipart/mixed; boundary="+u.cSet.replace("--","")+"\n",this.pvt.changeSet=0,c+=this.generateInsertRequest(t.addedRecords,u,e),c+=this.generateUpdateRequest(t.changedRecords,u,e,a?a.changedRecords:[]),c+=this.generateDeleteRequest(t.deletedRecords,u,e),c+=u.cSet+"--\n",c+="--"+i+"--",{type:"POST",url:s,dataType:"json",contentType:"multipart/mixed; charset=UTF-8;boundary="+i,data:c}},t.prototype.generateDeleteRequest=function(e,t,r){if(!e)return"";var n={method:"DELETE ",url:function(e,t,r){var n=o.a.getObject(r,e[t]);if("number"==typeof n||o.a.parse.isGuid(n))return"("+n+")";if(n instanceof Date){return"("+e[t][r].toJSON()+")"}return"('"+n+"')"},data:function(e,t){return""}};return this.generateBodyContent(e,t,n,r)+"\n"},t.prototype.generateInsertRequest=function(e,t,r){if(!e)return"";var n={method:"POST ",url:function(e,t,r){return""},data:function(e,t){return JSON.stringify(e[t])+"\n\n"}};return this.generateBodyContent(e,t,n,r)},t.prototype.generateUpdateRequest=function(e,t,r,n){var a=this;if(!e)return"";e.forEach(function(e){return e=a.compareAndRemove(e,n.filter(function(r){return o.a.getObject(t.key,r)===o.a.getObject(t.key,e)})[0],t.key)});var i={method:this.options.updateType+" ",url:function(e,t,r){if("number"==typeof e[t][r]||o.a.parse.isGuid(e[t][r]))return"("+e[t][r]+")";if(e[t][r]instanceof Date){return"("+e[t][r].toJSON()+")"}return"('"+e[t][r]+"')"},data:function(e,t){return JSON.stringify(e[t])+"\n\n"}};return this.generateBodyContent(e,t,i,r)},t.getField=function(e){return e.replace(/\./g,"/")},t.prototype.generateBodyContent=function(e,t,o,a){for(var i="",s=0;s<e.length;s++)i+="\n"+t.cSet+"\n",i+=this.options.changeSetContent+"\n\n",i+=o.method,"POST "===o.method?i+=(a.dataSource.insertUrl||a.dataSource.crudUrl||t.url)+o.url(e,s,t.key)+" HTTP/1.1\n":"PUT "===o.method||"PATCH "===o.method?i+=(a.dataSource.updateUrl||a.dataSource.crudUrl||t.url)+o.url(e,s,t.key)+" HTTP/1.1\n":"DELETE "===o.method&&(i+=(a.dataSource.removeUrl||a.dataSource.crudUrl||t.url)+o.url(e,s,t.key)+" HTTP/1.1\n"),i+="Accept: "+this.options.accept+"\n",i+="Content-Id: "+this.pvt.changeSet+++"\n",i+=this.options.batchChangeSetContentType+"\n",r.i(n.isNullOrUndefined)(e[s]["@odata.etag"])?i+="\n":(i+="If-Match: "+e[s]["@odata.etag"]+"\n\n",delete e[s]["@odata.etag"]),i+=o.data(e,s);return i},t.prototype.processBatchResponse=function(e,t,a,i,s){if(a&&a.headers.get("Content-Type")&&-1!==a.headers.get("Content-Type").indexOf("xml"))return t.isCountRequired?{result:[],count:0}:[];if(i&&this.options.batch&&o.a.endsWith(i.url,this.options.batch)&&"post"===i.type.toLowerCase()){var u=a.headers.get("Content-Type"),c=void 0,l=void 0,d=e+"";if(u=u.substring(u.indexOf("=batchresponse")+1),d=d.split(u),d.length<2)return{};d=d[1];var p=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(d);p&&d.replace(p[0],"");var f=p?p[1]:"";d=d.split(f);for(var h=d.length;h>-1;h--)/\bContent-ID:/i.test(d[h])&&/\bHTTP.+201/.test(d[h])&&(c=parseInt(/\bContent-ID: (\d+)/i.exec(d[h])[1],10),s.addedRecords[c]&&(l=o.a.parse.parseJson(/^\{.+\}/m.exec(d[h])[0]),r.i(n.extend)({},s.addedRecords[c],this.processResponse(l))));return s}return null},t.prototype.compareAndRemove=function(e,t,a){var i=this;return r.i(n.isNullOrUndefined)(t)?e:(Object.keys(e).forEach(function(r){if(r!==a&&"@odata.etag"!==r)if(o.a.isPlainObject(e[r])){i.compareAndRemove(e[r],t[r]);var n=Object.keys(e[r]).filter(function(e){return"@odata.etag"!==e});0===n.length&&delete e[r]}else e[r]===t[r]?delete e[r]:e[r]&&t[r]&&e[r].valueOf()===t[r].valueOf()&&delete e[r]}),e)},t}(l),p=function(e){function t(t){var o=e.call(this,t)||this;return o.options=r.i(n.extend)({},o.options,{requestType:"get",accept:"application/json, text/javascript, */*; q=0.01",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$count",search:"$search",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PATCH",localTime:!1,apply:"$apply"}),r.i(n.extend)(o.options,t||{}),o}return i(t,e),t.prototype.getModuleName=function(){return"ODataV4Adaptor"},t.prototype.onCount=function(e){return!0===e?"true":""},t.prototype.onPredicate=function(t,r,n){var i="",s=t.value,u=s instanceof Date;if(r instanceof a.a)for(var c=this.getQueryRequest(r),l=0;l<c.filters.length;l++)c.filters[l].e.key===t.value&&(n=!0);return i=e.prototype.onPredicate.call(this,t,r,n),u&&(i=i.replace(/datetime'(.*)'$/,"$1")),o.a.parse.isGuid(s)&&(i=i.replace("guid","").replace(/'/g,"")),i},t.prototype.onEachSearch=function(e){var t=this.pvt.searches||[];t.push(e.key),this.pvt.searches=t},t.prototype.onSearch=function(e){return this.pvt.searches.join(" OR ")},t.prototype.onExpand=function(e){var t=this,r={},n={},o=e.expands.slice(),a=[];return e.selects.filter(function(e){return e.indexOf(".")>-1}).forEach(function(e){var n=e.split(".");if(n[0]in r||(r[n[0]]=[]),2===n.length)r[n[0]].length&&-1!==Object.keys(r).indexOf(n[0])?-1!==r[n[0]][0].indexOf("$expand")&&-1===r[n[0]][0].indexOf(";$select=")?r[n[0]][0]=r[n[0]][0]+";$select="+n[1]:r[n[0]][0]=r[n[0]][0]+","+n[1]:r[n[0]].push("$select="+n[1]);else{for(var o="$select="+n[n.length-1],a="",i="",s=1;s<n.length-1;s++)a=a+"$expand="+n[s]+"(",i+=")";var u=a+o+i;if(r[n[0]].length&&-1!==Object.keys(r).indexOf(n[0])&&t.expandQueryIndex(r[n[0]],!0)){var c=t.expandQueryIndex(r[n[0]]);r[n[0]][c]=r[n[0]][c]+u.replace("$expand=",",")}else r[n[0]].push(u)}}),Object.keys(r).forEach(function(e){-1===o.indexOf(e)&&o.push(e)}),o.forEach(function(e){n[e]=e in r?e+"("+r[e].join(";")+")":e}),Object.keys(n).forEach(function(e){return a.push(n[e])}),a.join(",")},t.prototype.expandQueryIndex=function(e,t){for(var r=0;r<e.length;r++)if(-1!==e[r].indexOf("$expand"))return!!t||r;return!t&&0},t.prototype.onDistinct=function(e){return"groupby(("+e.map(function(e){return d.getField(e)}).join(",")+"))"},t.prototype.onSelect=function(t){return e.prototype.onSelect.call(this,t.filter(function(e){return-1===e.indexOf(".")}))},t.prototype.beforeSend=function(e,t,r){"POST"!==r.type&&"PUT"!==r.type&&"PATCH"!==r.type||t.headers.set("Prefer","return=representation"),t.headers.set("Accept",this.options.accept)},t.prototype.processResponse=function(t,a,i,s,u,c){if(u&&"GET"===u.type&&!this.rootUrl&&(t["@odata.context"]||t["@context"])){var l=t["@odata.context"]?t["@odata.context"].split("/$metadata#"):t["@context"].split("/$metadata#");this.rootUrl=l[0],this.resourceTableName=l[1]}var d=u&&u.pvtData,p=e.prototype.processBatchResponse.call(this,t,i,s,u,c);if(p)return p;var f=null;i&&i.isCountRequired&&("@odata.count"in t?f=t["@odata.count"]:"@count"in t&&(f=t["@count"])),t=r.i(n.isNullOrUndefined)(t.value)?t:t.value;var h={};return h.count=f,h.result=t,this.getAggregateResult(d,t,h,null,i),o.a.isNull(f)?h.result:{result:h.result,count:f,aggregates:h.aggregates}},t}(d),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getModuleName=function(){return"WebApiAdaptor"},t.prototype.insert=function(e,t,r){return{type:"POST",url:e.dataSource.url,data:JSON.stringify(t)}},t.prototype.remove=function(e,t,r,n){return{type:"DELETE",url:e.dataSource.url+"/"+r,data:JSON.stringify(r)}},t.prototype.update=function(e,t,r,n){return{type:"PUT",url:e.dataSource.url,data:JSON.stringify(r)}},t.prototype.batchRequest=function(e,t,r){var n=this,a=r.guid=o.a.getGuid(this.options.batchPre),i=e.dataSource.url.replace(/\/*$/,"/"+this.options.batch);r.url=this.resourceTableName?this.resourceTableName:r.url;for(var s=[],u=0,c=t.addedRecords.length;u<c;u++)!function(n,o){t.addedRecords.forEach(function(o,i){var u={method:"POST ",url:function(e,t,r){return""},data:function(e,t){return JSON.stringify(e[t])+"\n\n"}};s.push("--"+a),s.push("Content-Type: application/http; msgtype=request",""),s.push("POST /api/"+(e.dataSource.insertUrl||e.dataSource.crudUrl||r.url)+u.url(t.addedRecords,n,r.key)+" HTTP/1.1"),s.push("Content-Type: application/json; charset=utf-8"),s.push("Host: "+location.host),s.push("",o?JSON.stringify(o):"")})}(u);for(var u=0,c=t.changedRecords.length;u<c;u++)!function(o,i){t.changedRecords.forEach(function(i,u){var c={method:n.options.updateType+" ",url:function(e,t,r){return""},data:function(e,t){return JSON.stringify(e[t])+"\n\n"}};s.push("--"+a),s.push("Content-Type: application/http; msgtype=request",""),s.push("PUT /api/"+(e.dataSource.updateUrl||e.dataSource.crudUrl||r.url)+c.url(t.changedRecords,o,r.key)+" HTTP/1.1"),s.push("Content-Type: application/json; charset=utf-8"),s.push("Host: "+location.host),s.push("",i?JSON.stringify(i):"")})}(u);for(var u=0,c=t.deletedRecords.length;u<c;u++)!function(n,i){t.deletedRecords.forEach(function(i,u){var c={mtd:"DELETE ",url:function(e,t,r){var n=o.a.getObject(r,e[t]);if("number"==typeof n||o.a.parse.isGuid(n))return"/"+n;if(n instanceof Date){return"/"+e[t][r].toJSON()}return"/'"+n+"'"},data:function(e,t){return""}};s.push("--"+a),s.push("Content-Type: application/http; msgtype=request",""),s.push("DELETE /api/"+(e.dataSource.removeUrl||e.dataSource.crudUrl||r.url)+c.url(t.deletedRecords,n,r.key)+" HTTP/1.1"),s.push("Content-Type: application/json; charset=utf-8"),s.push("Host: "+location.host),s.push("",i?JSON.stringify(i):"")})}(u);return s.push("--"+a+"--",""),{type:"POST",url:i,contentType:"multipart/mixed; boundary="+a,data:s.join("\r\n")}},t.prototype.beforeSend=function(e,t,r){t.headers.set("Accept","application/json, text/javascript, */*; q=0.01")},t.prototype.processResponse=function(e,t,r,n,a,i){var s=a&&a.pvtData,u=null,c={};if(a&&"post"!==a.type.toLowerCase()){var l=n&&a.fetchRequest.headers.get("DataServiceVersion"),d=l&&parseInt(l,10)||2;r&&r.isCountRequired&&(o.a.isNull(e.Count)||(u=e.Count)),d<3&&e.Items&&(e=e.Items),c.count=u,c.result=e,this.getAggregateResult(s,e,c,null,r)}return c.result=c.result||e,o.a.isNull(u)?c.result:{result:c.result,count:c.count,aggregates:c.aggregates}},t}(d),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.processQuery=function(e,t,r){var n=(new l).processQuery(e,t,r),a=o.a.parse.parseJson(n.data),i={};if(a.param)for(var s=0;s<a.param.length;s++){var u=a.param[s],c=Object.keys(u)[0];i[c]=u[c]}i.value=a;return{data:JSON.stringify(i),url:n.url,pvtData:n.pvtData,type:"POST",contentType:"application/json; charset=utf-8"}},t}(l),g=function(e){function t(){var t=e.call(this)||this;return r.i(n.setValue)("beforeSend",l.prototype.beforeSend,t),t}return i(t,e),t.prototype.insert=function(e,t,a,i,s){return this.pvt.position=s,this.updateType="add",{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(r.i(n.extend)({},{value:t,table:a,action:"insert"},o.a.getAddParams(this,e,i)))}},t.prototype.remove=function(t,a,i,s,u){return e.prototype.remove.call(this,t,a,i),{type:"POST",url:t.dataSource.removeUrl||t.dataSource.crudUrl||t.dataSource.url,data:JSON.stringify(r.i(n.extend)({},{key:i,keyColumn:a,table:s,action:"remove"},o.a.getAddParams(this,t,u)))}},t.prototype.update=function(e,t,a,i,s){return this.updateType="update",this.updateKey=t,{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(r.i(n.extend)({},{value:a,action:"update",keyColumn:t,key:a[t],table:i},o.a.getAddParams(this,e,s)))}},t.prototype.processResponse=function(t,r,n,a,i,s,u){var c;if(t="batch"===(i?JSON.parse(i.data):t).action?o.a.parse.parseJson(t):t,"add"===this.updateType&&e.prototype.insert.call(this,r,t,null,null,this.pvt.position),"update"===this.updateType&&e.prototype.update.call(this,r,this.updateKey,t),this.updateType=void 0,t.added)for(c=0;c<t.added.length;c++)e.prototype.insert.call(this,r,t.added[c]);if(t.changed)for(c=0;c<t.changed.length;c++)e.prototype.update.call(this,r,u.key,t.changed[c]);if(t.deleted)for(c=0;c<t.deleted.length;c++)e.prototype.remove.call(this,r,u.key,t.deleted[c]);return t},t.prototype.batchRequest=function(e,t,a,i,s){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(r.i(n.extend)({},{changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:a.url,key:a.key},o.a.getAddParams(this,e,i)))}},t.prototype.addParams=function(e){(new l).addParams(e)},t}(c),y=function(e){function t(t){var o=e.call(this)||this;return o.options=r.i(n.extend)({},o.options,{getData:new Function,addRecord:new Function,updateRecord:new Function,deleteRecord:new Function,batchUpdate:new Function}),r.i(n.extend)(o.options,t||{}),o}return i(t,e),t.prototype.getModuleName=function(){return"CustomDataAdaptor"},t}(l),v=function(e){function t(t){var r=e.call(this)||this;return r.opt=t,r.schema=r.opt.response,r.query=r.opt.query,r.getVariables=r.opt.getVariables?r.opt.getVariables:function(){},r.getQuery=function(){return r.query},r}return i(t,e),t.prototype.getModuleName=function(){return"GraphQLAdaptor"},t.prototype.processQuery=function(t,r){var n=e.prototype.processQuery.apply(this,arguments),o=JSON.parse(n.data),a=["skip","take","sorted","table","select","where","search","requiresCounts","aggregates","params"],i={};a.filter(function(e){i[e]="searchwhereparams".indexOf(e)>-1?JSON.stringify(o[e]):o[e]});var s=this.getVariables()||{};s.datamanager=i;var u=JSON.stringify({query:this.getQuery(),variables:s});return n.data=u,n},t.prototype.processResponse=function(e,t,a,i,s){var u,c,l=e,d=r.i(n.getValue)(this.schema.result,l.data);this.schema.count&&(u=r.i(n.getValue)(this.schema.count,l.data)),this.schema.aggregates&&(c=r.i(n.getValue)(this.schema.aggregates,l.data),c=r.i(n.isNullOrUndefined)(c)?c:o.a.parse.parseJson(c));var p=s.pvtData||{},f={result:d,aggregates:c},h=f;return p&&p.groups&&p.groups.length&&this.getAggregateResult(p,h,f,null,a),r.i(n.isNullOrUndefined)(u)?f.result:{result:f.result,count:u,aggregates:c}},t.prototype.insert=function(){var t=e.prototype.insert.apply(this,arguments);return this.generateCrudData(t,"insert")},t.prototype.update=function(){var t=e.prototype.update.apply(this,arguments);return this.generateCrudData(t,"update")},t.prototype.remove=function(){var t=e.prototype.remove.apply(this,arguments);return this.generateCrudData(t,"remove")},t.prototype.batchRequest=function(t,r,n,o,a){var i=e.prototype.batchRequest.apply(this,arguments),s=JSON.parse(i.data);return s.key=n.key,i.data=JSON.stringify(s),this.generateCrudData(i,"batch")},t.prototype.generateCrudData=function(e,t){var r=JSON.parse(e.data);return e.data=JSON.stringify({query:this.opt.getMutation(t),variables:r}),e},t}(l),m=function(e){function t(t,a,i){var s=e.call(this)||this;s.isCrudAction=!1,s.isInsertAction=!1,r.i(n.isNullOrUndefined)(t)||(s.cacheAdaptor=t),s.pageSize=i,s.guidId=o.a.getGuid("cacheAdaptor");var u={keys:[],results:[]};window.localStorage.setItem(s.guidId,JSON.stringify(u));var c=s.guidId;return r.i(n.isNullOrUndefined)(a)||setInterval(function(){for(var e=o.a.parse.parseJson(window.localStorage.getItem(c)),t=[],r=0;r<e.results.length;r++){var n=+new Date,i=+new Date(e.results[r].timeStamp);e.results[r].timeStamp=n-i,n-i>a&&t.push(r)}for(var r=0;r<t.length;r++)e.results.splice(t[r],1),e.keys.splice(t[r],1);window.localStorage.removeItem(c),window.localStorage.setItem(c,JSON.stringify(e))},a),s}return i(t,e),t.prototype.generateKey=function(e,t){var r=this.getQueryRequest(t),n=a.a.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),o=e;"onPage"in n&&(o+=n.onPage.pageIndex),r.sorts.forEach(function(e){o+=e.e.direction+e.e.fieldName}),r.groups.forEach(function(e){o+=e.e.fieldName}),r.searches.forEach(function(e){o+=e.e.searchKey});for(var i=0;i<r.filters.length;i++){var s=r.filters[i];if(s.e.isComplex){var u=t.clone();u.queries=[];for(var c=0;c<s.e.predicates.length;c++)u.queries.push({fn:"onWhere",e:s.e.predicates[c],filter:t.queries.filter});o+=s.e.condition+this.generateKey(e,u)}else o+=s.e.field+s.e.operator+s.e.value}return o},t.prototype.processQuery=function(e,t,r){var n=this.generateKey(e.dataSource.url,t),a=o.a.parse.parseJson(window.localStorage.getItem(this.guidId)),i=a?a.results[a.keys.indexOf(n)]:null;return null==i||this.isCrudAction||this.isInsertAction?(this.isCrudAction=null,this.isInsertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):i},t.prototype.processResponse=function(e,t,r,n,a,i){if(this.isInsertAction||a&&this.cacheAdaptor.options.batch&&o.a.endsWith(a.url,this.cacheAdaptor.options.batch)&&"post"===a.type.toLowerCase())return this.cacheAdaptor.processResponse(e,t,r,n,a,i);e=this.cacheAdaptor.processResponse.apply(this.cacheAdaptor,[].slice.call(arguments,0));var s=r?this.generateKey(t.dataSource.url,r):t.dataSource.url,u={};u=o.a.parse.parseJson(window.localStorage.getItem(this.guidId));var c=u.keys.indexOf(s);for(-1!==c&&(u.results.splice(c,1),u.keys.splice(c,1)),u.results[u.keys.push(s)-1]={keys:s,result:e.result,timeStamp:new Date,count:e.count};u.results.length>this.pageSize;)u.results.splice(0,1),u.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(u)),e},t.prototype.beforeSend=function(e,t,a){!r.i(n.isNullOrUndefined)(this.cacheAdaptor.options.batch)&&o.a.endsWith(a.url,this.cacheAdaptor.options.batch)&&"post"===a.type.toLowerCase()&&t.headers.set("Accept",this.cacheAdaptor.options.multipartAccept),e.dataSource.crossDomain||t.headers.set("Accept",this.cacheAdaptor.options.accept)},t.prototype.update=function(e,t,r,n){return this.isCrudAction=!0,this.cacheAdaptor.update(e,t,r,n)},t.prototype.insert=function(e,t,r){return this.isInsertAction=!0,this.cacheAdaptor.insert(e,t,r)},t.prototype.remove=function(e,t,r,n){return this.isCrudAction=!0,this.cacheAdaptor.remove(e,t,r,n)},t.prototype.batchRequest=function(e,t,r){return this.cacheAdaptor.batchRequest(e,t,r)},t}(l)},function(e,t,r){"use strict";r.d(t,"a",function(){return s}),r.d(t,"b",function(){return u});var n=r(0),o=(r.n(n),r(2)),a=r(1),i=r(3),s=function(){function e(e,t,s){var u=this;this.dateParse=!0,this.timeZoneHandling=!0,this.persistQuery={},this.isInitialLoad=!1,this.requests=[],this.isInitialLoad=!0,e||this.dataSource||(e=[]),s=s||e.adaptor,e&&!1===e.timeZoneHandling&&(this.timeZoneHandling=e.timeZoneHandling);var c;return e instanceof Array?c={json:e,offline:!0}:"object"==typeof e?(e.json||(e.json=[]),e.enablePersistence||(e.enablePersistence=!1),e.id||(e.id=""),e.ignoreOnPersist||(e.ignoreOnPersist=[]),c={url:e.url,insertUrl:e.insertUrl,removeUrl:e.removeUrl,updateUrl:e.updateUrl,crudUrl:e.crudUrl,batchUrl:e.batchUrl,json:e.json,headers:e.headers,accept:e.accept,data:e.data,timeTillExpiration:e.timeTillExpiration,cachingPageSize:e.cachingPageSize,enableCaching:e.enableCaching,requestType:e.requestType,key:e.key,crossDomain:e.crossDomain,jsonp:e.jsonp,dataType:e.dataType,offline:void 0!==e.offline?e.offline:!(e.adaptor instanceof i.h||e.adaptor instanceof i.i)&&!e.url,requiresFormat:e.requiresFormat,enablePersistence:e.enablePersistence,id:e.id,ignoreOnPersist:e.ignoreOnPersist}):o.a.throwError("DataManager: Invalid arguments"),void 0!==c.requiresFormat||o.a.isCors()||(c.requiresFormat=!!r.i(n.isNullOrUndefined)(c.crossDomain)||c.crossDomain),void 0===c.dataType&&(c.dataType="json"),this.dataSource=c,this.defaultQuery=t,this.dataSource.enablePersistence&&this.dataSource.id&&window.addEventListener("unload",this.setPersistData.bind(this)),c.url&&c.offline&&!c.json.length?(this.isDataAvailable=!1,this.adaptor=s||new i.d,this.dataSource.offline=!1,this.ready=this.executeQuery(t||new a.a),this.ready.then(function(e){u.dataSource.offline=!0,u.isDataAvailable=!0,c.json=e.result,u.adaptor=new i.b})):this.adaptor=c.offline?new i.b:new i.d,!c.jsonp&&this.adaptor instanceof i.d&&(c.jsonp="callback"),this.adaptor=s||this.adaptor,c.enableCaching&&(this.adaptor=new i.k(this.adaptor,c.timeTillExpiration,c.cachingPageSize)),this}return e.prototype.getPersistedData=function(e){var t=localStorage.getItem(e||this.dataSource.id);return JSON.parse(t)},e.prototype.setPersistData=function(e,t,r){localStorage.setItem(t||this.dataSource.id,JSON.stringify(r||this.persistQuery))},e.prototype.setPersistQuery=function(e){var t=this,o=this.getPersistedData();if(this.isInitialLoad&&o&&Object.keys(o).length){this.persistQuery=o,this.persistQuery.queries=this.persistQuery.queries.filter(function(e){if(t.dataSource.ignoreOnPersist&&t.dataSource.ignoreOnPersist.length&&e.fn&&t.dataSource.ignoreOnPersist.some(function(t){return e.fn===t}))return!1;if("onWhere"===e.fn){var r=e.e;if(r&&r.isComplex&&r.predicates instanceof Array){var n=r.predicates.map(function(e){if(e.predicates&&e.predicates instanceof Array){var t=e.predicates.map(function(e){var t=e.field,r=e.operator,n=e.value,o=e.ignoreCase,i=e.ignoreAccent,s=e.matchCase;return new a.b(t,r,n,o,i,s)});return"and"===e.condition?a.b.and(t):a.b.or(t)}var r=e.field,n=e.operator,o=e.value,i=e.ignoreCase,s=e.ignoreAccent,u=e.matchCase;return new a.b(r,n,o,i,s,u)});e.e=new a.b(n[0],r.condition,n.slice(1))}}return!0});var i=r.i(n.extend)(new a.a,this.persistQuery);return this.isInitialLoad=!1,i}return this.persistQuery=e,this.isInitialLoad=!1,e},e.prototype.setDefaultQuery=function(e){return this.defaultQuery=e,this},e.prototype.executeLocal=function(t){this.defaultQuery||t instanceof a.a||o.a.throwError("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||o.a.throwError("DataManager - executeLocal() : Json data is required to execute"),this.dataSource.enablePersistence&&this.dataSource.id&&(t=this.setPersistQuery(t)),t=t||this.defaultQuery;var i=this.adaptor.processQuery(this,t);if(t.subQuery){var s=t.subQuery.fromTable,u=t.subQuery.lookups,c=t.isCountRequired?i.result:i;u&&u instanceof Array&&o.a.buildHierarchy(t.subQuery.fKey,s,c,u,t.subQuery.key);for(var l=0;l<c.length;l++)c[l][s]instanceof Array&&(c[l]=r.i(n.extend)({},{},c[l]),c[l][s]=this.adaptor.processResponse(t.subQuery.using(new e(c[l][s].slice(0))).executeLocal(),this,t))}return this.adaptor.processResponse(i,this,t)},e.prototype.executeQuery=function(t,i,s,c){var l=this;this.dataSource.enablePersistence&&this.dataSource.id&&(t=this.setPersistQuery(t)),"function"==typeof t&&(c=s,s=i,i=t,t=null),t||(t=this.defaultQuery),t instanceof a.a||o.a.throwError("DataManager - executeQuery() : A query is required to execute");var d=new u,p={query:t};if(!this.dataSource.offline&&void 0!==this.dataSource.url&&""!==this.dataSource.url||!r.i(n.isNullOrUndefined)(this.adaptor.makeRequest)||this.isCustomDataAdaptor(this.adaptor)){var f=this.adaptor.processQuery(this,t);r.i(n.isNullOrUndefined)(this.adaptor.makeRequest)?!r.i(n.isNullOrUndefined)(f.url)||this.isCustomDataAdaptor(this.adaptor)?(this.requests=[],this.makeRequest(f,d,p,t)):(p=e.getDeferedArgs(t,f,p),d.resolve(p)):this.adaptor.makeRequest(f,d,p,t)}else e.nextTick(function(){var r=l.executeLocal(t);p=e.getDeferedArgs(t,r,p),d.resolve(p)});return(i||s)&&d.promise.then(i,s),c&&d.promise.then(c,c),d.promise},e.getDeferedArgs=function(e,t,r){return e.isCountRequired?(r.result=t.result,r.count=t.count,r.aggregates=t.aggregates):r.result=t,r},e.nextTick=function(e){(window.setImmediate||window.setTimeout)(e,0)},e.prototype.extendRequest=function(e,t,o){return r.i(n.extend)({},{type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,processData:!1,onSuccess:t,onFailure:o},e)},e.prototype.makeRequest=function(e,t,a,i){var s=this,c=!!i.subQuerySelector,l=function(e){a.error=e,t.reject(a)},d=function(e,r,n,o,i,s,u){a.xhr=n,a.count=r?parseInt(r.toString(),10):0,a.result=e,a.request=o,a.aggregates=s,a.actual=i,a.virtualSelectRecords=u,t.resolve(a)},p=function(e,t){var r=new u,n={parent:a};i.subQuery.isChild=!0;var p=s.adaptor.processQuery(s,i.subQuery,e?s.adaptor.processResponse(e):t),f=s.makeRequest(p,r,n,i.subQuery);return c||r.then(function(t){e&&(o.a.buildHierarchy(i.subQuery.fKey,i.subQuery.fromTable,e,t,i.subQuery.key),d(e,t.count,t.xhr))},l),f},f=function(e,t){if(s.isGraphQLAdaptor(s.adaptor)&&!r.i(n.isNullOrUndefined)(e.errors))return l(e.errors);s.isCustomDataAdaptor(s.adaptor)&&(t=r.i(n.extend)({},s.fetchReqOption,t)),-1===t.contentType.indexOf("xml")&&s.dateParse&&(e=o.a.parse.parseJson(e));var a=s.adaptor.processResponse(e,s,i,t.fetchRequest,t),u=0,f=null,h=e.virtualSelectRecords;if(i.isCountRequired&&(u=a.count,f=a.aggregates,a=a.result),!i.subQuery)return void d(a,u,t.fetchRequest,t.type,e,f,h);c||p(a,t)},h=this.extendRequest(e,f,l);if(this.isCustomDataAdaptor(this.adaptor)){this.fetchReqOption=h;var g=h;this.adaptor.options.getData({data:g.data,onSuccess:g.onSuccess,onFailure:g.onFailure})}else{var y=new n.Fetch(h);y.beforeSend=function(){s.beforeSend(y.fetchRequest,y)},h=y.send(),h.catch(function(e){return!0}),this.requests.push(y)}if(c){var v=void 0,m=i.subQuerySelector.call(this,{query:i.subQuery,parent:i});m&&m.length?(v=Promise.all([h,p(null,m)]),v.then(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],n=s.adaptor.processResponse(r[0],s,i,s.requests[0].fetchRequest,s.requests[0]),a=0;i.isCountRequired&&(a=n.count,n=n.result);var u=s.adaptor.processResponse(r[1],s,i.subQuery,s.requests[1].fetchRequest,s.requests[1]);a=0,i.subQuery.isCountRequired&&(a=u.count,u=u.result),o.a.buildHierarchy(i.subQuery.fKey,i.subQuery.fromTable,n,u,i.subQuery.key),c=!1,d(n,a,s.requests[0].fetchRequest)})):c=!1}return h},e.prototype.beforeSend=function(e,t){this.adaptor.beforeSend(this,e,t);for(var r,n=this.dataSource.headers,o=0;n&&o<n.length;o++){r=[];for(var a=Object.keys(n[o]),i=0,s=a;i<s.length;i++){var u=s[i];r.push(u),e.headers.set(u,n[o][u])}}},e.prototype.saveChanges=function(e,t,o,i,s){var c=this;o instanceof a.a&&(i=o,o=null);var l={url:o,key:t||this.dataSource.key},d=this.adaptor.batchRequest(this,e,l,i||new a.a,s);if(this.dataSource.offline)return d;if(r.i(n.isNullOrUndefined)(this.adaptor.dofetchRequest)){if(this.isCustomDataAdaptor(this.adaptor))return this.dofetchRequest(d,this.adaptor.options.batchUpdate);var p=new u,f=new n.Fetch(d);return f.beforeSend=function(){c.beforeSend(f.fetchRequest,f)},f.onSuccess=function(t,o){c.isGraphQLAdaptor(c.adaptor)&&(r.i(n.isNullOrUndefined)(t.errors)||f.onFailure(JSON.stringify(t.errors))),p.resolve(c.adaptor.processResponse(t,c,null,o.fetchRequest,o,e,l))},f.onFailure=function(e){p.reject([{error:e}])},f.send().catch(function(e){return!0}),p.promise}return this.adaptor.dofetchRequest(d)},e.prototype.insert=function(e,t,o,i){t instanceof a.a&&(o=t,t=null);var s=this.adaptor.insert(this,e,t,o,i);return this.dataSource.offline?s:r.i(n.isNullOrUndefined)(this.adaptor.dofetchRequest)?this.dofetchRequest(s,this.adaptor.options.addRecord):this.adaptor.dofetchRequest(s)},e.prototype.remove=function(e,t,i,s){"object"==typeof t&&(t=o.a.getObject(e,t)),i instanceof a.a&&(s=i,i=null);var u=this.adaptor.remove(this,e,t,i,s);if(this.dataSource.offline)return u;if(r.i(n.isNullOrUndefined)(this.adaptor.dofetchRequest)){var c=this.adaptor.options.deleteRecord;return this.dofetchRequest(u,c)}return this.adaptor.dofetchRequest(u)},e.prototype.update=function(e,t,o,i,s){o instanceof a.a&&(i=o,o=null);var u=this.adaptor.update(this,e,t,o,i,s);if(this.dataSource.offline)return u;if(r.i(n.isNullOrUndefined)(this.adaptor.dofetchRequest)){var c=this.adaptor.options.updateRecord;return this.dofetchRequest(u,c)}return this.adaptor.dofetchRequest(u)},e.prototype.isCustomDataAdaptor=function(e){return this.adaptor.getModuleName&&"CustomDataAdaptor"===this.adaptor.getModuleName()},e.prototype.isGraphQLAdaptor=function(e){return this.adaptor.getModuleName&&"GraphQLAdaptor"===this.adaptor.getModuleName()},e.prototype.successFunc=function(e,t){if(this.isGraphQLAdaptor(this.adaptor)){var a=JSON.parse(e);r.i(n.isNullOrUndefined)(a.errors)||this.failureFunc(JSON.stringify(a.errors))}this.isCustomDataAdaptor(this.adaptor)&&(t=r.i(n.extend)({},this.fetchReqOption,t));try{o.a.parse.parseJson(e)}catch(t){e=[]}e=this.adaptor.processResponse(o.a.parse.parseJson(e),this,null,t.fetchRequest,t),this.fetchDeffered.resolve(e)},e.prototype.failureFunc=function(e){this.fetchDeffered.reject([{error:e}])},e.prototype.dofetchRequest=function(e,t){var o=this;if(e=r.i(n.extend)({},{type:"POST",contentType:"application/json; charset=utf-8",processData:!1},e),this.fetchDeffered=new u,this.isCustomDataAdaptor(this.adaptor))this.fetchReqOption=e,t.call(this,{data:e.data,onSuccess:this.successFunc.bind(this),onFailure:this.failureFunc.bind(this)});else{var a=new n.Fetch(e);a.beforeSend=function(){o.beforeSend(a.fetchRequest,a)},a.onSuccess=this.successFunc.bind(this),a.onFailure=this.failureFunc.bind(this),a.send().catch(function(e){return!0})}return this.fetchDeffered.promise},e.prototype.clearPersistence=function(){window.removeEventListener("unload",this.setPersistData.bind(this)),this.dataSource.enablePersistence=!1,this.persistQuery={},window.localStorage.setItem(this.dataSource.id,"[]")},e}(),u=function(){function e(){var e=this;this.promise=new Promise(function(t,r){e.resolve=t,e.reject=r}),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)}return e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4);r.d(t,"DataManager",function(){return n.a}),r.d(t,"Deferred",function(){return n.b});var o=r(1);r.d(t,"Query",function(){return o.a}),r.d(t,"Predicate",function(){return o.b});var a=r(3);r.d(t,"Adaptor",function(){return a.a}),r.d(t,"JsonAdaptor",function(){return a.b}),r.d(t,"UrlAdaptor",function(){return a.c}),r.d(t,"ODataAdaptor",function(){return a.d}),r.d(t,"ODataV4Adaptor",function(){return a.e}),r.d(t,"WebApiAdaptor",function(){return a.f}),r.d(t,"WebMethodAdaptor",function(){return a.g}),r.d(t,"RemoteSaveAdaptor",function(){return a.h}),r.d(t,"CustomDataAdaptor",function(){return a.i}),r.d(t,"GraphQLAdaptor",function(){return a.j}),r.d(t,"CacheAdaptor",function(){return a.k});var i=r(2);r.d(t,"DataUtil",function(){return i.a})}])});