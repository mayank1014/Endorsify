/*!
*  filename: ej2-navigations.min.js
*  version : 24.2.8
*  Copyright Syncfusion Inc. 2001 - 2023. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("SyncfusionBase"),require("SyncfusionPopups"),require("SyncfusionButtons"),require("SyncfusionLists"),require("SyncfusionData"),require("SyncfusionInputs")):"function"==typeof define&&define.amd?define(["SyncfusionBase","SyncfusionPopups","SyncfusionButtons","SyncfusionLists","SyncfusionData","SyncfusionInputs"],t):"object"==typeof exports?exports.SyncfusionNavigations=t(require("SyncfusionBase"),require("SyncfusionPopups"),require("SyncfusionButtons"),require("SyncfusionLists"),require("SyncfusionData"),require("SyncfusionInputs")):e.SyncfusionNavigations=t(e.SyncfusionBase,e.SyncfusionPopups,e.SyncfusionButtons,e.SyncfusionLists,e.SyncfusionData,e.SyncfusionInputs)}(this,function(e,t,i,s,n,r){return function(e){function t(s){if(i[s])return i[s].exports;var n=i[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};return t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,s){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:s})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=28)}([function(t,i){t.exports=e},function(e,i){e.exports=t},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var s=i(0),n=(i.n(s),this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}()),r=this&&this.__decorate||function(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},o=function(e){function t(t,i){return e.call(this,t,i)||this}return n(t,e),t.prototype.preRender=function(){this.browser=s.Browser.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=s.Browser.isDevice,this.customStep=!0;var e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=i.i(s.getUniqueID)("hscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add("e-rtl")},t.prototype.render=function(){this.touchModule=new s.Touch(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),s.EventHandler.add(this.scrollEle,"scroll",this.scrollHandler,this),this.isDevice?(this.element.classList.add("e-scroll-device"),this.createOverlay(this.element)):this.createNavIcon(this.element),this.setScrollState()},t.prototype.setScrollState=function(){i.i(s.isNullOrUndefined)(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetWidth,this.customStep=!1):this.customStep=!0},t.prototype.initialize=function(){var e=this.createElement("div",{className:"e-hscroll-content"}),t=this.createElement("div",{className:"e-hscroll-bar"});t.setAttribute("tabindex","-1");for(var i=this.element,s=[].slice.call(i.children),n=0,r=s;n<r.length;n++){var o=r[n];e.appendChild(o)}t.appendChild(e),i.appendChild(t),t.style.overflowX="hidden",this.scrollEle=t,this.scrollItems=e},t.prototype.getPersistData=function(){var e=["scrollStep"];return this.addOnPersist(e)},t.prototype.getModuleName=function(){return"hScroll"},t.prototype.destroy=function(){var t=this.element;t.style.display="",t.classList.remove("e-hscroll"),t.classList.remove("e-scroll-device"),t.classList.remove("e-rtl");var n=i.i(s.selectAll)(".e-"+t.id+"_nav.e-scroll-nav",t),r=i.i(s.selectAll)(".e-scroll-overlay",t);[].slice.call(r).forEach(function(e){i.i(s.detach)(e)});for(var o=0,a=[].slice.call(this.scrollItems.children);o<a.length;o++){var l=a[o];t.appendChild(l)}this.uniqueId&&this.element.removeAttribute("id"),i.i(s.detach)(this.scrollEle),n.length>0&&(i.i(s.detach)(n[0]),i.i(s.isNullOrUndefined)(n[1])||i.i(s.detach)(n[1])),s.EventHandler.remove(this.scrollEle,"scroll",this.scrollHandler),this.touchModule.destroy(),this.touchModule=null,e.prototype.destroy.call(this)},t.prototype.disable=function(e){var t=i.i(s.selectAll)(".e-scroll-nav:not(.e-overlay)",this.element);e?this.element.classList.add("e-overlay"):this.element.classList.remove("e-overlay"),[].slice.call(t).forEach(function(t){t.setAttribute("tabindex",e?"-1":"0")})},t.prototype.createOverlay=function(e){var t=e.id.concat("_nav"),i=this.createElement("div",{className:"e-scroll-overlay e-scroll-right-overlay"}),s="e-"+e.id.concat("_nav e-scroll-nav e-scroll-right-nav"),n=this.createElement("div",{id:t.concat("_right"),className:s}),r=this.createElement("div",{className:"e-nav-right-arrow e-nav-arrow e-icons"});n.appendChild(r);var o=this.createElement("div",{className:"e-scroll-overlay e-scroll-left-overlay"});this.ieCheck&&n.classList.add("e-ie-align"),e.appendChild(i),e.appendChild(n),e.insertBefore(o,e.firstChild),this.eventBinding([n])},t.prototype.createNavIcon=function(e){var t=e.id.concat("_nav"),i="e-"+e.id.concat("_nav e-scroll-nav e-scroll-right-nav"),s={role:"button",id:t.concat("_right"),"aria-label":"Scroll right"},n=this.createElement("div",{className:i,attrs:s});n.setAttribute("aria-disabled","false");var r=this.createElement("div",{className:"e-nav-right-arrow e-nav-arrow e-icons"}),o="e-"+e.id.concat("_nav e-scroll-nav e-scroll-left-nav"),a={role:"button",id:t.concat("_left"),"aria-label":"Scroll left"},l=this.createElement("div",{className:o+" e-overlay",attrs:a});l.setAttribute("aria-disabled","true");var d=this.createElement("div",{className:"e-nav-left-arrow e-nav-arrow e-icons"});l.appendChild(d),n.appendChild(r),e.appendChild(n),e.insertBefore(l,e.firstChild),this.ieCheck&&(n.classList.add("e-ie-align"),l.classList.add("e-ie-align")),this.eventBinding([n,l])},t.prototype.onKeyPress=function(e){var t=this;if("Enter"===e.key){var i=function(){t.keyTimeout=!0,t.eleScrolling(10,e.target,!0)};this.keyTimer=window.setTimeout(function(){i()},100)}},t.prototype.onKeyUp=function(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},t.prototype.eventBinding=function(e){var t=this;[].slice.call(e).forEach(function(e){new s.Touch(e,{tapHold:t.tabHoldHandler.bind(t),tapHoldThreshold:500}),e.addEventListener("keydown",t.onKeyPress.bind(t)),e.addEventListener("keyup",t.onKeyUp.bind(t)),e.addEventListener("mouseup",t.repeatScroll.bind(t)),e.addEventListener("touchend",t.repeatScroll.bind(t)),e.addEventListener("contextmenu",function(e){e.preventDefault()}),s.EventHandler.add(e,"click",t.clickEventHandler,t)})},t.prototype.repeatScroll=function(){clearInterval(this.timeout)},t.prototype.tabHoldHandler=function(e){var t=this,i=e.originalEvent.target;i=this.contains(i,"e-scroll-nav")?i.firstElementChild:i;var s=function(){t.eleScrolling(10,i,!0)};this.timeout=window.setInterval(function(){s()},50)},t.prototype.contains=function(e,t){return e.classList.contains(t)},t.prototype.eleScrolling=function(e,t,i){var s=this.element,n=t.classList;n.contains("e-scroll-nav")&&(n=t.querySelector(".e-nav-arrow").classList),this.contains(s,"e-rtl")&&this.browserCheck&&(e=-e),!this.contains(s,"e-rtl")||this.browserCheck||this.ieCheck?n.contains("e-nav-right-arrow")?this.frameScrollRequest(e,"add",i):this.frameScrollRequest(e,"",i):n.contains("e-nav-left-arrow")?this.frameScrollRequest(e,"add",i):this.frameScrollRequest(e,"",i)},t.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},t.prototype.swipeHandler=function(e){var t,i=this.scrollEle;t=e.velocity<=1?e.distanceX/(10*e.velocity):e.distanceX/e.velocity;var s=.5,n=function(){var r=Math.sin(s);r<=0?window.cancelAnimationFrame(r):("Left"===e.swipeDirection?i.scrollLeft+=t*r:"Right"===e.swipeDirection&&(i.scrollLeft-=t*r),s-=.5,window.requestAnimationFrame(n))};n()},t.prototype.scrollUpdating=function(e,t){"add"===t?this.scrollEle.scrollLeft+=e:this.scrollEle.scrollLeft-=e,this.enableRtl&&this.scrollEle.scrollLeft>0&&(this.scrollEle.scrollLeft=0)},t.prototype.frameScrollRequest=function(e,t,n){var r=this;if(n)return void this.scrollUpdating(e,t);this.customStep||[].slice.call(i.i(s.selectAll)(".e-scroll-overlay",this.element)).forEach(function(t){e-=t.offsetWidth});var o=function(){var i,s;r.contains(r.element,"e-rtl")&&r.browserCheck?(i=-e,s=-10):(i=e,s=10),i<10?window.cancelAnimationFrame(s):(r.scrollUpdating(s,t),e-=s,window.requestAnimationFrame(o))};o()},t.prototype.touchHandler=function(e){var t=this.scrollEle,i=e.distanceX;this.ieCheck&&this.contains(this.element,"e-rtl")&&(i=-i),"Left"===e.scrollDirection?t.scrollLeft=t.scrollLeft+i:"Right"===e.scrollDirection&&(t.scrollLeft=t.scrollLeft-i)},t.prototype.arrowDisabling=function(e,t){if(this.isDevice){var n=i.i(s.isNullOrUndefined)(e)?t:e,r=n.querySelector(".e-nav-arrow");i.i(s.isNullOrUndefined)(e)?i.i(s.classList)(r,["e-nav-right-arrow"],["e-nav-left-arrow"]):i.i(s.classList)(r,["e-nav-left-arrow"],["e-nav-right-arrow"])}else e&&t&&(e.classList.add("e-overlay"),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),t.classList.remove("e-overlay"),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0"));this.repeatScroll()},t.prototype.scrollHandler=function(e){var t=e.target,i=t.offsetWidth,s=(this.element,this.element.querySelector(".e-scroll-left-nav")),n=this.element.querySelector(".e-scroll-right-nav"),r=this.element.querySelector(".e-scroll-left-overlay"),o=this.element.querySelector(".e-scroll-right-overlay"),a=t.scrollLeft;if(a<=0&&(a=-a),this.isDevice&&(!this.enableRtl||this.browserCheck||this.ieCheck||(r=this.element.querySelector(".e-scroll-right-overlay"),o=this.element.querySelector(".e-scroll-left-overlay")),r.style.width=a<40?a+"px":"40px",t.scrollWidth-Math.ceil(i+a)<40?o.style.width=t.scrollWidth-Math.ceil(i+a)+"px":o.style.width="40px"),0===a)this.arrowDisabling(s,n);else if(Math.ceil(i+a+.1)>=t.scrollWidth)this.arrowDisabling(n,s);else{var l=this.element.querySelector(".e-scroll-nav.e-overlay");l&&(l.classList.remove("e-overlay"),l.setAttribute("aria-disabled","false"),l.setAttribute("tabindex","0"))}},t.prototype.onPropertyChanged=function(e,t){for(var i=0,s=Object.keys(e);i<s.length;i++){switch(s[i]){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")}}},r([i.i(s.Property)(null)],t.prototype,"scrollStep",void 0),t=r([s.NotifyPropertyChanges],t)}(s.Component)},function(e,t,i){"use strict";i.d(t,"a",function(){return g}),i.d(t,"c",function(){return y}),i.d(t,"d",function(){return b}),i.d(t,"b",function(){return C});var s=i(0),n=(i.n(s),i(6)),r=(i.n(n),i(1)),o=(i.n(r),i(2)),a=i(4),l=i(7),d=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),h=this&&this.__decorate||function(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},c="e-focused",p="e-menu-header",u="e-selected",f="e-menu-item",m="e-menu-hide",v="e-menu-popup",g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),h([i.i(s.Property)("id")],t.prototype,"itemId",void 0),h([i.i(s.Property)("parentId")],t.prototype,"parentId",void 0),h([i.i(s.Property)("text")],t.prototype,"text",void 0),h([i.i(s.Property)("iconCss")],t.prototype,"iconCss",void 0),h([i.i(s.Property)("url")],t.prototype,"url",void 0),h([i.i(s.Property)("separator")],t.prototype,"separator",void 0),h([i.i(s.Property)("items")],t.prototype,"children",void 0),t}(s.ChildProperty),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),h([i.i(s.Property)(null)],t.prototype,"iconCss",void 0),h([i.i(s.Property)("")],t.prototype,"id",void 0),h([i.i(s.Property)(!1)],t.prototype,"separator",void 0),h([i.i(s.Collection)([],t)],t.prototype,"items",void 0),h([i.i(s.Property)("")],t.prototype,"text",void 0),h([i.i(s.Property)("")],t.prototype,"url",void 0),t}(s.ChildProperty),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),h([i.i(s.Property)("SlideDown")],t.prototype,"effect",void 0),h([i.i(s.Property)(400)],t.prototype,"duration",void 0),h([i.i(s.Property)("ease")],t.prototype,"easing",void 0),t}(s.ChildProperty),C=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.navIdx=[],n.animation=new s.Animation({}),n.isTapHold=!1,n.tempItem=[],n.showSubMenuOn="Auto",n}return d(t,e),t.prototype.preRender=function(){if(!this.isMenu){var e=void 0;if("EJS-CONTEXTMENU"===this.element.tagName){e=this.createElement("ul",{id:i.i(s.getUniqueID)(this.getModuleName()),className:"e-control e-lib e-"+this.getModuleName()});var t=i.i(s.getValue)("ej2_instances",this.element);i.i(s.removeClass)([this.element],["e-control","e-lib","e-"+this.getModuleName()]),this.clonedElement=this.element,this.element=e,i.i(s.setValue)("ej2_instances",t,this.element)}else{e=this.createElement("ul",{id:i.i(s.getUniqueID)(this.getModuleName())}),i.i(s.append)([].slice.call(this.element.cloneNode(!0).children),e);var n=this.element.nextElementSibling;n?this.element.parentElement.insertBefore(e,n):this.element.parentElement.appendChild(e),this.clonedElement=e}this.clonedElement.style.display="none"}if("EJS-MENU"===this.element.tagName){for(var r=this.element,o=i.i(s.getValue)("ej2_instances",r),e=this.createElement("ul"),a=this.createElement("EJS-MENU",{className:"e-"+this.getModuleName()+"-wrapper"}),l=0,d=r.attributes.length;l<d;l++)e.setAttribute(r.attributes[l].nodeName,r.attributes[l].nodeValue);r.parentNode.insertBefore(a,r),i.i(s.detach)(r),r=e,a.appendChild(r),i.i(s.setValue)("ej2_instances",o,r),this.clonedElement=a,this.element=r,this.element.id||(this.element.id=i.i(s.getUniqueID)(this.getModuleName()))}},t.prototype.render=function(){var e=this;this.initialize(),this.renderItems(),this.wireEvents(),this.renderComplete();var t=this.getWrapper();this.template&&this.enableScrolling&&(this.isReact||this.isAngular)&&requestAnimationFrame(function(){i.i(l.a)(e.createElement,t,e.element,"hscroll",e.enableRtl)})},t.prototype.initialize=function(){var e=this.getWrapper();e||(e=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"}),this.isMenu?this.element.parentElement.insertBefore(e,this.element):document.body.appendChild(e)),this.cssClass&&i.i(s.addClass)([e],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.enableRtl&&e.classList.add("e-rtl"),e.appendChild(this.element),this.isMenu&&this.hamburgerMode&&(this.target||this.createHeaderContainer(e)),this.defaultOption=this.showItemOnClick},t.prototype.renderItems=function(){if(!this.items.length){var e=n.ListBase.createJsonFromElement(this.element,{fields:{child:"items"}});this.setProperties({items:e},!0),i.i(s.isBlazor)()&&!this.isMenu?this.element=this.removeChildElement(this.element):this.element.innerHTML=""}var t=this.createItems(this.items);if(i.i(s.append)(Array.prototype.slice.call(t.children),this.element),this.element.classList.add("e-menu-parent"),this.isMenu){if(!this.hamburgerMode&&this.element.classList.contains("e-vertical")&&this.setBlankIconStyle(this.element),this.enableScrolling){var r=this.getWrapper();this.element.classList.contains("e-vertical")?i.i(l.a)(this.createElement,r,this.element,"vscroll",this.enableRtl):i.i(l.a)(this.createElement,r,this.element,"hscroll",this.enableRtl)}}else this.element.parentElement.setAttribute("role","dialog"),this.element.parentElement.setAttribute("aria-label","context menu")},t.prototype.wireEvents=function(){var e=this.getWrapper();if(this.target){for(var t=void 0,n=i.i(s.selectAll)(this.target),o=0,a=n.length;o<a;o++)t=n[o],this.isMenu?s.EventHandler.add(t,"click",this.menuHeaderClickHandler,this):s.Browser.isIos?new s.Touch(t,{tapHold:this.touchHandler.bind(this)}):s.EventHandler.add(t,"contextmenu",this.cmenuHandler,this);if(this.targetElement=t,!this.isMenu){s.EventHandler.add(this.targetElement,"mousewheel DOMMouseScroll",this.scrollHandler,this);for(var l=0,d=i.i(r.getScrollableParent)(this.targetElement);l<d.length;l++){var h=d[l];s.EventHandler.add(h,"mousewheel DOMMouseScroll",this.scrollHandler,this)}}}s.Browser.isDevice||(this.delegateMoverHandler=this.moverHandler.bind(this),this.delegateMouseDownHandler=this.mouseDownHandler.bind(this),s.EventHandler.add(this.isMenu?document:e,"mouseover",this.delegateMoverHandler,this),s.EventHandler.add(document,"mousedown",this.delegateMouseDownHandler,this)),this.delegateClickHandler=this.clickHandler.bind(this),s.EventHandler.add(document,"click",this.delegateClickHandler,this),this.wireKeyboardEvent(e),this.rippleFn=i.i(s.rippleEffect)(e,{selector:"."+f})},t.prototype.wireKeyboardEvent=function(e){var t={downarrow:"downarrow",uparrow:"uparrow",enter:"enter",leftarrow:"leftarrow",rightarrow:"rightarrow",escape:"escape"};this.isMenu&&(t.home="home",t.end="end",t.tab="tab"),new s.KeyboardEvents(e,{keyAction:this.keyBoardHandler.bind(this),keyConfigs:t})},t.prototype.mouseDownHandler=function(e){i.i(s.closest)(e.target,".e-"+this.getModuleName()+"-wrapper")===this.getWrapper()||i.i(s.closest)(e.target,".e-"+this.getModuleName()+"-popup")||this.closeMenu(this.isMenu?null:this.navIdx.length,e)},t.prototype.keyHandler=function(e){38!==e.keyCode&&40!==e.keyCode||e.target&&(e.target.classList.contains("e-contextmenu")||e.target.classList.contains("e-menu-item"))&&e.preventDefault()},t.prototype.keyBoardHandler=function(e){var t="",n=e.target,r=this.isMenu&&!this.hamburgerMode&&!this.element.classList.contains("e-vertical")&&this.navIdx.length<1;if(e.preventDefault(),this.enableScrolling&&13===e.keyCode&&n.classList.contains("e-scroll-nav")&&this.removeLIStateByClass([c,u],[i.i(s.closest)(n,".e-"+this.getModuleName()+"-wrapper")]),r)switch(e.action){case"rightarrow":t="rightarrow",e.action="downarrow";break;case"leftarrow":t="leftarrow",e.action="uparrow";break;case"downarrow":t="downarrow",e.action="rightarrow";break;case"uparrow":t="uparrow",e.action=""}else if(this.enableRtl)switch(e.action){case"leftarrow":r=!0,t="leftarrow",e.action="rightarrow";break;case"rightarrow":r=!0,t="rightarrow",e.action="leftarrow"}switch(e.action){case"downarrow":case"uparrow":case"end":case"home":case"tab":this.upDownKeyHandler(e);break;case"rightarrow":this.rightEnterKeyHandler(e);break;case"leftarrow":this.leftEscKeyHandler(e);break;case"enter":this.hamburgerMode&&"SPAN"===n.tagName&&n.classList.contains("e-menu-icon")?this.menuHeaderClickHandler(e):this.rightEnterKeyHandler(e);break;case"escape":this.leftEscKeyHandler(e)}r&&(e.action=t)},t.prototype.upDownKeyHandler=function(e){var t=this.getUlByNavIdx(),i="downarrow"===e.action||"home"===e.action||"tab"===e.action?0:t.childElementCount-1,s=i,n=this.getLIByClass(t,c);n&&("end"!==e.action&&"home"!==e.action&&(s=this.getIdx(t,n)),n.classList.remove(c),"end"!==e.action&&"home"!==e.action&&("downarrow"===e.action?s++:s--,s===("downarrow"===e.action?t.childElementCount:-1)&&(s=i)));var r=t.children[s];s=this.isValidLI(r,s,e.action),t.children[s].classList.add(c),t.children[s].focus()},t.prototype.isValidLI=function(e,t,i){var s=this.getUlByNavIdx(),n="downarrow"===i||"home"===i||"tab"===i?0:s.childElementCount-1;return(e.classList.contains("e-separator")||e.classList.contains("e-disabled")||e.classList.contains(m))&&("downarrow"===i&&t===s.childElementCount-1?t=n:"uparrow"===i&&0===t?t=n:"downarrow"===i||"rightarrow"===i?t++:t--),e=s.children[t],(e.classList.contains("e-separator")||e.classList.contains("e-disabled")||e.classList.contains(m))&&(t=this.isValidLI(e,t,i)),t},t.prototype.getUlByNavIdx=function(e){var t=this;if(void 0===e&&(e=this.navIdx.length),this.isMenu){var n=[this.getWrapper()].concat([].slice.call(i.i(s.selectAll)("."+v)))[e],r=[];return i.i(s.selectAll)("."+v).forEach(function(e){(t.element.id===e.id.split("-")[2]||e.id.split("-")[2]+"-"+e.id.split("-")[3])&&r.push(e)}),n=[this.getWrapper()].concat([].slice.call(r))[e],i.i(s.isNullOrUndefined)(n)?null:i.i(s.select)(".e-menu-parent",n)}return this.getWrapper().children[e]},t.prototype.rightEnterKeyHandler=function(e){var t,i=this.getUlByNavIdx(),s=this.getLIByClass(i,c);if(s){var n=this.getIdx(i,s),r=this.navIdx.concat(n),o=this.getItem(r);if(o.items.length)this.navIdx.push(n),this.keyType="right",this.action=e.action,this.openMenu(s,o,-1,-1,e);else if("enter"===e.action){this.isMenu&&0===this.navIdx.length?this.removeLIStateByClass([u],[this.getWrapper()]):s.classList.remove(c),s.classList.add(u),t={element:s,item:o,event:e},this.trigger("select",t);var a=s.querySelector(".e-menu-url");if(o.url&&a)switch(a.getAttribute("target")){case"_blank":window.open(o.url,"_blank");break;case"_parent":window.parent.location.href=o.url;break;default:window.location.href=o.url}this.closeMenu(null,e);var l=this.getLIByClass(this.getUlByNavIdx(),u);l&&(l.classList.add(c),l.focus())}}},t.prototype.leftEscKeyHandler=function(e){this.navIdx.length?(this.keyType="left",this.closeMenu(this.navIdx.length,e)):"escape"===e.action&&this.closeMenu(null,e)},t.prototype.scrollHandler=function(e){this.closeMenu(null,e)},t.prototype.touchHandler=function(e){this.isTapHold=!0,this.cmenuHandler(e.originalEvent)},t.prototype.cmenuHandler=function(e){e.preventDefault(),this.currentTarget=e.target,this.isCMenu=!0,this.pageX=e.changedTouches?e.changedTouches[0].pageX+1:e.pageX+1,this.pageY=e.changedTouches?e.changedTouches[0].pageY+1:e.pageY+1,this.closeMenu(null,e),this.isCMenu&&(this.canOpen(e.target)&&this.openMenu(null,null,this.pageY,this.pageX,e),this.isCMenu=!1)},t.prototype.closeMenu=function(e,t,n){var o=this;if(void 0===e&&(e=0),void 0===t&&(t=null),this.isMenuVisible()){var d,h,p=void 0,f=this.getWrapper(),m=void 0,g=this.getPopups(),y=!1,b=this.isMenu?g.length+1:f.childElementCount,C=this.isMenu&&1!==b?i.i(s.select)(".e-ul",g[b-2]):i.i(s.selectAll)(".e-menu-parent",f)[b-1];if(this.isMenu&&C.classList.contains("e-menu")&&(p=this.getLIByClass(C,u),p&&p.classList.remove(u),y=!0),!y){var S=t&&t.target&&this.getLI(t.target);this.cli=S||C.children[0],d=this.navIdx.length?this.getItem(this.navIdx):null,h=d?d.items:this.items,m={element:C,parentItem:d,items:h,event:t,cancel:!1,isFocused:!0},this.trigger("beforeClose",m,function(p){var m,g,y,b="",x=!p.cancel;(x||o.isCMenu)&&(o.isMenu?(m=i.i(s.closest)(C,"."+v),o.hamburgerMode&&(m.parentElement.style.minHeight="",i.i(s.closest)(C,".e-menu-item").setAttribute("aria-expanded","false")),o.unWireKeyboardEvent(m),i.i(l.b)(i.i(s.getInstance)(m.children[0],a.a),m.children[0]),y=i.i(s.getInstance)(m,r.Popup),y.hide(),b=m.id,y.destroy(),i.i(s.detach)(m)):o.toggleAnimation(C,!1),g={element:C,parentItem:d,items:h},o.trigger("onClose",g),o.navIdx.pop(),0===o.navIdx.length&&t&&"keyup"===t.type&&(o.showSubMenu=!1),o.isMenu||(s.EventHandler.remove(C,"keydown",o.keyHandler),"right"===o.keyType&&(o.keyType=""))),o.updateReactTemplate();var I,E,N,w=o.getWrapper()&&o.getUlByNavIdx();o.isCMenu&&(o.canOpen(t.target)&&o.openMenu(null,null,o.pageY,o.pageX,t),o.isCMenu=!1),o.isMenu&&w&&b.length?(I=new RegExp("(.*)-ej2menu-"+o.element.id+"-popup").exec(b)[1],E=w.querySelector('[id="'+I+'"]'),N=S&&w.querySelector('[id="'+S.id+'"]')):w&&(E=w.querySelector(".e-menu-item.e-selected"),N=S&&w.querySelector('[id="'+S.id+'"]'));var O=S&&S.querySelectorAll(".e-menu-item");if(x&&o.hamburgerMode&&e&&!O.length)o.afterCloseMenu(t);else if(x&&!o.hamburgerMode&&E&&!N&&"left"!==o.keyType&&(o.navIdx.length||!o.isMenu&&0===o.navIdx.length)){var L=t&&(t.target.classList.contains("e-vscroll")||t.target.classList.contains("e-scroll-nav"))?i.i(s.closest)(t.target,".e-menu-wrapper"):null;L?(L=L.querySelector(".e-menu-item"),(o.showItemOnClick||L&&o.getIndex(L.id,!0).length<=o.navIdx.length)&&o.closeMenu(o.navIdx[o.navIdx.length-1],t,!0)):t&&t.target.classList.contains("e-nav-arrow")||o.closeMenu(o.navIdx[o.navIdx.length-1],t)}else if(x&&!n&&!e&&(o.hamburgerMode&&o.navIdx.length||1===o.navIdx.length&&S&&w!==S.parentElement))o.closeMenu(null,t);else if(x&&i.i(s.isNullOrUndefined)(e)&&o.navIdx.length)o.closeMenu(null,t);else if(!x||o.isMenu||e||0!==o.navIdx.length||o.isMenusClosed)if(x&&o.isMenu&&t&&t.target&&0!==o.navIdx.length&&i.i(s.closest)(t.target,".e-menu-parent.e-control"))o.closeMenu(0,t);else if(x&&!o.isMenu&&i.i(s.selectAll)(".e-menu-parent",f)[e-1]&&3===t.which)o.closeMenu(null,t);else{if(!x||"right"!==o.keyType&&"click"!==o.keyType){var k=o.getUlByNavIdx(),A=o.getLIByClass(k,u);if(A&&(A.setAttribute("aria-expanded","false"),A.classList.remove(u),(p.isFocused&&S||"left"===o.keyType)&&(A.classList.add(c),t.target&&t.target.classList.contains("e-edit-template")||A.focus())),!x&&o.hamburgerMode&&S&&"false"===S.getAttribute("aria-expanded")&&"true"===S.getAttribute("aria-haspopup")){i.i(s.closest)(S,".e-menu-parent.e-control")?o.navIdx=[]:o.navIdx.pop(),o.navIdx.push(o.cliIdx);var P=o.getItem(o.navIdx);S.setAttribute("aria-expanded","true"),o.openMenu(S,P,-1,-1,t)}}else o.afterCloseMenu(t);o.navIdx.length<1&&("Hover"!==o.showSubMenuOn&&"Click"!==o.showSubMenuOn||(o.showItemOnClick=o.defaultOption,o.showSubMenuOn="Auto"))}else o.isMenusClosed=!0,o.closeMenu(0,t);o.removeStateWrapper()})}}},t.prototype.updateReactTemplate=function(){if(this.isReact&&this.template&&0===this.navIdx.length){var e=this.portals.splice(0,this.items.length);this.clearTemplate(["template"]),this.portals=e,this.renderReactTemplates()}},t.prototype.getMenuItemModel=function(e,t){if(i.i(s.isNullOrUndefined)(e))return null;i.i(s.isNullOrUndefined)(t)&&(t=0);var n=this.getFields(t);return{text:e[n.text],id:e[n.id],items:e[n.child],separator:e[n.separator],iconCss:e[n.iconCss],url:e[n.url]}},t.prototype.getPopups=function(){var e=this,t=[];return[].slice.call(document.querySelectorAll("."+v)).forEach(function(n){!i.i(s.isNullOrUndefined)(n.querySelector("."+f))&&e.getIndex(n.querySelector("."+f).id,!0).length&&t.push(n)}),t},t.prototype.isMenuVisible=function(){return this.navIdx.length>0||this.element.classList.contains("e-contextmenu")&&i.i(s.isVisible)(this.element).valueOf()},t.prototype.canOpen=function(e){var t=!0;if(this.filter){t=!1;for(var n=this.filter.split(" "),r=0,o=n.length;r<o;r++)if(i.i(s.closest)(e,"."+n[r])){t=!0;break}}return t},t.prototype.openMenu=function(e,t,n,o,a,l){var d=this;void 0===n&&(n=0),void 0===o&&(o=0),void 0===a&&(a=null),void 0===l&&(l=this.targetElement);var h=this.getWrapper();this.lItem=e;var c=""!==this.element.id?this.element.id:"menu";if(this.isMenusClosed=!1,i.i(s.isNullOrUndefined)(n)&&(n=-1),i.i(s.isNullOrUndefined)(o)&&(o=-1),e){if(this.uList=this.createItems(t[this.getField("children",this.navIdx.length-1)]),!this.isMenu&&s.Browser.isDevice){h.lastChild.style.display="none";var u={text:t[this.getField("text")].toString(),iconCss:"e-icons e-previous"},f=new y(this.items[0],"items",u,!0),m=this.createItems([f]).children[0];m.classList.add(p),this.uList.insertBefore(m,this.uList.children[0])}this.isMenu?(this.popupWrapper=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper "+v,id:e.id+"-ej2menu-"+c+"-popup"}),this.hamburgerMode?(n=e.offsetHeight,e.appendChild(this.popupWrapper)):document.body.appendChild(this.popupWrapper),this.isNestedOrVertical=this.element.classList.contains("e-vertical")||1!==this.navIdx.length,this.popupObj=this.generatePopup(this.popupWrapper,this.uList,e,this.isNestedOrVertical),this.template&&this.renderReactTemplates(),this.hamburgerMode?this.calculateIndentSize(this.uList,e):(this.cssClass&&i.i(s.addClass)([this.popupWrapper],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.popupObj.hide()),this.hamburgerMode||this.showItemOnClick||!this.hoverDelay?this.triggerBeforeOpen(e,this.uList,t,a,0,0,"menu"):(window.clearInterval(this.timer),this.timer=window.setTimeout(function(){d.triggerBeforeOpen(e,d.uList,t,a,0,0,"menu")},this.hoverDelay))):(this.uList.style.zIndex=this.element.style.zIndex,h.appendChild(this.uList),!this.showItemOnClick&&this.hoverDelay?(window.clearInterval(this.timer),this.timer=window.setTimeout(function(){d.triggerBeforeOpen(e,d.uList,t,a,n,o,"none")},this.hoverDelay)):this.triggerBeforeOpen(e,this.uList,t,a,n,o,"none"))}else if(this.uList=this.element,this.uList.style.zIndex=i.i(r.getZindexPartial)(l||this.element).toString(),i.i(s.isNullOrUndefined)(a)){var g=document.createEvent("MouseEvents");g.initEvent("click",!0,!1);var b=this.copyObject(g,{});b.target=b.srcElement=l,b.currentTarget=l,this.triggerBeforeOpen(e,this.uList,t,b,n,o,"none")}else this.triggerBeforeOpen(e,this.uList,t,a,n,o,"none")},t.prototype.copyObject=function(e,t){for(var i in e)t[""+i]=e[""+i];return t},t.prototype.calculateIndentSize=function(e,t){var i=getComputedStyle(t),s=parseInt(i.textIndent,10);this.navIdx.length<2&&!t.classList.contains("e-blankicon")?s*=2:s+=s/4,e.style.textIndent=s+"px";var n=e.querySelectorAll(".e-blankicon");if(n&&n.length)for(var r=e.querySelector(".e-menu-icon"),o=getComputedStyle(r),a=parseInt(o.marginRight,10)+r.offsetWidth+s,l=0;l<n.length;l++)n[l].style.textIndent=a+"px"},t.prototype.generatePopup=function(e,t,n,o){var a=this,l=new r.Popup(e,{actionOnScroll:this.hamburgerMode?"none":"reposition",relateTo:n,collision:this.hamburgerMode?{X:"none",Y:"none"}:{X:o||this.enableRtl?"none":"flip",Y:"fit"},position:o&&!this.hamburgerMode?{X:"right",Y:"top"}:{X:"left",Y:"bottom"},targetType:"relative",enableRtl:this.enableRtl,content:t,open:function(){var e=i.i(s.select)(".e-menu-vscroll",l.element);e&&(e.style.height="inherit",e.style.maxHeight="");var t=i.i(s.select)(".e-ul",l.element);l.element.style.maxHeight="",t.focus(),a.triggerOpen(t)}});return l},t.prototype.createHeaderContainer=function(e){e=e||this.getWrapper();var t=this.createElement("span",{className:"e-"+this.getModuleName()+"-header"}),i=this.enableHtmlSanitizer?s.SanitizeHtmlHelper.sanitize(this.title):this.title,n=this.createElement("span",{className:"e-"+this.getModuleName()+"-title",innerHTML:i}),r=this.createElement("span",{className:"e-icons e-"+this.getModuleName()+"-icon",attrs:{tabindex:"0"}});t.appendChild(n),t.appendChild(r),e.insertBefore(t,this.element)},t.prototype.openHamburgerMenu=function(e){this.hamburgerMode&&this.triggerBeforeOpen(null,this.element,null,e,0,0,"hamburger")},t.prototype.closeHamburgerMenu=function(e){var t=this,i={element:this.element,parentItem:null,event:e,items:this.items,cancel:!1};this.trigger("beforeClose",i,function(i){i.cancel||(t.closeMenu(null,e),t.element.classList.add("e-hide-menu"),t.trigger("onClose",{element:t.element,parentItem:null,items:t.items}))})},t.prototype.callFit=function(e,t,s,n,o){return i.i(r.fit)(e,null,{X:t,Y:s},{top:n,left:o})},t.prototype.triggerBeforeOpen=function(e,t,n,r,o,a,d){var h=this,p=e?n[this.getField("children",this.navIdx.length-1)]:this.items,m={element:t,items:p,parentItem:n,event:r,cancel:!1,top:o,left:a,showSubMenuOn:"Auto"},v=d;this.trigger("beforeOpen",m,function(o){switch(v){case"menu":h.hamburgerMode||("Auto"!==o.showSubMenuOn&&(h.showItemOnClick=!h.defaultOption,h.showSubMenuOn=o.showSubMenuOn),h.top=o.top,h.left=o.left),h.popupWrapper.style.display="block",h.hamburgerMode||(h.popupWrapper.style.maxHeight=h.popupWrapper.getBoundingClientRect().height+"px",h.enableScrolling&&i.i(l.a)(h.createElement,h.popupWrapper,h.uList,"vscroll",h.enableRtl),h.checkScrollOffset(r)),h.hamburgerMode||h.left||h.top?(h.popupObj.collision={X:"none",Y:"none"},h.popupWrapper.style.display=""):(h.popupObj.refreshPosition(h.lItem,!0),h.left=parseInt(h.popupWrapper.style.left,10),h.top=parseInt(h.popupWrapper.style.top,10),h.enableRtl&&(h.left=h.isNestedOrVertical?h.left-h.popupWrapper.offsetWidth-h.lItem.parentElement.offsetWidth+2:h.left-h.popupWrapper.offsetWidth+h.lItem.offsetWidth),h.template&&(h.isReact||h.isAngular)?requestAnimationFrame(function(){h.collision(),h.popupWrapper.style.display=""}):(h.collision(),h.popupWrapper.style.display=""));break;case"none":h.top=o.top,h.left=o.left;break;case"hamburger":o.cancel||(h.element.classList.remove("e-hide-menu"),h.triggerOpen(h.element))}if("hamburger"!==v)if(o.cancel)h.isMenu?(h.popupObj.destroy(),i.i(s.detach)(h.popupWrapper)):t.className.indexOf("e-ul")>-1&&i.i(s.detach)(t),h.navIdx.pop();else if(h.isMenu)if(h.hamburgerMode)h.popupWrapper.style.top=h.top+"px",h.popupWrapper.style.left="0px",h.toggleAnimation(h.popupWrapper);else{h.setBlankIconStyle(h.popupWrapper),h.wireKeyboardEvent(h.popupWrapper),i.i(s.rippleEffect)(h.popupWrapper,{selector:"."+f}),h.popupWrapper.style.left=h.left+"px",h.popupWrapper.style.top=h.top+"px";var a="None"!==h.animationSettings.effect?{name:h.animationSettings.effect,duration:h.animationSettings.duration,timingFunction:h.animationSettings.easing}:null;h.popupObj.show(a,h.lItem)}else h.setBlankIconStyle(h.uList),h.setPosition(h.lItem,h.uList,h.top,h.left),h.toggleAnimation(h.uList);if("right"===h.keyType){var d=h.getUlByNavIdx();if(e.classList.remove(c),h.isMenu&&1===h.navIdx.length&&h.removeLIStateByClass([u],[h.getWrapper()]),e.classList.add(u),"enter"===h.action){var p={element:e,item:n,event:r};h.trigger("select",p)}e.focus(),d=h.getUlByNavIdx();var m=h.isValidLI(d.children[0],0,h.action);d.children[m].classList.add(c),d.children[m].focus()}})},t.prototype.collision=function(){var e;if(e=i.i(r.isCollide)(this.popupWrapper,null,this.left,this.top),(this.isNestedOrVertical||this.enableRtl)&&(e.indexOf("right")>-1||e.indexOf("left")>-1)){this.popupObj.collision.X="none";var t=i.i(s.closest)(this.lItem,".e-"+this.getModuleName()+"-wrapper").offsetWidth;this.left=this.enableRtl?i.i(r.calculatePosition)(this.lItem,this.isNestedOrVertical?"right":"left","top").left:this.left-this.popupWrapper.offsetWidth-t+2}e=i.i(r.isCollide)(this.popupWrapper,null,this.left,this.top),(e.indexOf("left")>-1||e.indexOf("right")>-1)&&(this.left=this.callFit(this.popupWrapper,!0,!1,this.top,this.left).left),this.popupWrapper.style.left=this.left+"px"},t.prototype.setBlankIconStyle=function(e){var t=[].slice.call(e.getElementsByClassName("e-blankicon"));if(t.length){var i=e.querySelector(".e-menu-item:not(.e-blankicon):not(.e-separator)");if(i){var s=i.querySelector(".e-menu-icon");if(s){var n=this.enableRtl?{padding:"paddingRight",margin:"marginLeft"}:{padding:"paddingLeft",margin:"marginRight"},r=getComputedStyle(s),o=parseInt(r.fontSize,10);parseInt(r.width,10)&&parseInt(r.width,10)>o&&(o=parseInt(r.width,10));var a=o+parseInt(r[n.margin],10)+parseInt(getComputedStyle(i)[n.padding],10)+"px";t.forEach(function(e){e.style[n.padding]=a})}}}},t.prototype.checkScrollOffset=function(e){var t=this.getWrapper();if(t.children[0].classList.contains("e-menu-hscroll")&&1===this.navIdx.length){var n=i.i(s.isNullOrUndefined)(e)?this.element:i.i(s.closest)(e.target,"."+f),r=i.i(s.select)(".e-hscroll-bar",t);r.scrollLeft>n.offsetLeft&&(r.scrollLeft-=r.scrollLeft-n.offsetLeft);var o=r.scrollLeft+r.offsetWidth,a=n.offsetLeft+n.offsetWidth;o<a&&(r.scrollLeft+=a-o)}},t.prototype.setPosition=function(e,t,n,o){if(this.toggleVisiblity(t),t===this.element||o>-1&&n>-1){var a=i.i(r.isCollide)(t,null,o,n);if(a.indexOf("right")>-1&&(o-=t.offsetWidth),a.indexOf("bottom")>-1){var l=this.callFit(t,!1,!0,n,o);if((n=l.top-20)<0){var d=pageYOffset+document.documentElement.clientHeight-t.getBoundingClientRect().height;d>-1&&(n=d)}}if(a=i.i(r.isCollide)(t,null,o,n),a.indexOf("left")>-1){var l=this.callFit(t,!0,!1,n,o);o=l.left}}else if(s.Browser.isDevice)n=Number(this.element.style.top.replace("px","")),o=Number(this.element.style.left.replace("px",""));else{var h=this.enableRtl?"left":"right",l=i.i(r.calculatePosition)(e,h,"top");n=l.top,o=l.left;var a=i.i(r.isCollide)(t,null,this.enableRtl?o-t.offsetWidth:o,n),c=a.indexOf("left")>-1||a.indexOf("right")>-1;c&&(l=i.i(r.calculatePosition)(e,this.enableRtl?"right":"left","top"),o=l.left),(this.enableRtl||c)&&(o=this.enableRtl&&c?o:o-t.offsetWidth),a.indexOf("bottom")>-1&&(l=this.callFit(t,!1,!0,n,o),n=l.top)}this.toggleVisiblity(t,!1),t.style.top=n+"px",t.style.left=o+"px"},t.prototype.toggleVisiblity=function(e,t){void 0===t&&(t=!0),e.style.visibility=t?"hidden":"",e.style.display=t?"block":"none"},t.prototype.createItems=function(e){var t=this,r=this.navIdx?this.navIdx.length:0,o=this.getFields(r),a=this.hasField(e,this.getField("iconCss",r)),l={showIcon:a,moduleName:"menu",fields:o,template:this.template,itemNavigable:!0,itemCreating:function(e){e.curData[e.fields[o.id]]||(e.curData[e.fields[o.id]]=i.i(s.getUniqueID)("menuitem")),i.i(s.isNullOrUndefined)(e.curData.htmlAttributes)&&(e.curData.htmlAttributes={}),s.Browser.isIE?(e.curData.htmlAttributes.role="menuitem",e.curData.htmlAttributes.tabindex="-1"):Object.assign(e.curData.htmlAttributes,{role:"menuitem",tabindex:"-1"}),t.isMenu&&!e.curData[t.getField("separator",r)]&&(e.curData.htmlAttributes["aria-label"]=e.curData[e.fields.text]?e.curData[e.fields.text]:e.curData[e.fields.id]),""===e.curData[e.fields[o.iconCss]]&&(e.curData[e.fields[o.iconCss]]=null)},itemCreated:function(e){if(e.curData[t.getField("separator",r)]&&(e.item.classList.add("e-separator"),e.item.setAttribute("role","separator")),!a||e.curData[e.fields.iconCss]||e.curData[t.getField("separator",r)]||e.item.classList.add("e-blankicon"),e.curData[e.fields.child]&&e.curData[e.fields.child].length){var i=t.createElement("span",{className:"e-icons e-caret"});e.item.appendChild(i),e.item.setAttribute("aria-haspopup","true"),e.item.setAttribute("aria-expanded","false"),e.item.classList.add("e-menu-caret-icon")}t.isMenu&&t.template&&(e.item.setAttribute("id",e.curData[e.fields.id].toString()),e.item.removeAttribute("data-uid"),e.item.classList.contains("e-level-1")&&e.item.classList.remove("e-level-1"),e.item.classList.contains("e-has-child")&&e.item.classList.remove("e-has-child"),e.item.removeAttribute("aria-level"));var s={item:e.curData,element:e.item};t.trigger("beforeItemRender",s)}};this.setProperties({items:this.items},!0),this.isMenu&&(l.templateID=this.element.id+"Template");var d=n.ListBase.createList(this.createElement,e,l,!this.template,this);return d.setAttribute("tabindex","0"),this.isMenu?d.setAttribute("role","menu"):d.setAttribute("role","menubar"),d},t.prototype.moverHandler=function(e){var t=e.target;this.liTrgt=t;var n=this.getLI(t),r=n?i.i(s.closest)(n,".e-"+this.getModuleName()+"-wrapper"):this.getWrapper(),o=this.getWrapper(),a=new RegExp("-ej2menu-(.*)-popup"),l=!1;if(r){if((""!==r.id?a.exec(r.id)[1]:r.querySelector("ul").id)!==this.element.id){if(this.removeLIStateByClass([c,u],[this.getWrapper()]),!this.navIdx.length)return;l=!0}n&&i.i(s.closest)(n,".e-"+this.getModuleName()+"-wrapper")&&!l?(this.removeLIStateByClass([c],this.isMenu?[r].concat(this.getPopups()):[r]),this.removeLIStateByClass([c],this.isMenu?[o].concat(this.getPopups()):[o]),n.classList.add(c),this.showItemOnClick||this.clickHandler(e)):this.isMenu&&this.showItemOnClick&&!l&&this.removeLIStateByClass([c],[r].concat(this.getPopups())),this.isMenu&&(this.showItemOnClick||t.parentElement===r||i.i(s.closest)(t,".e-"+this.getModuleName()+"-popup")||n&&(!n||this.getIndex(n.id,!0).length)||"Hover"===this.showSubMenuOn?l&&!this.showItemOnClick&&this.navIdx.length&&(this.isClosed=!0,this.closeMenu(null,e)):(this.removeLIStateByClass([c],[r]),this.navIdx.length&&(this.isClosed=!0,this.closeMenu(null,e))),this.isClosed||this.removeStateWrapper(),this.isClosed=!1)}},t.prototype.removeStateWrapper=function(){if(this.liTrgt){var e=i.i(s.closest)(this.liTrgt,".e-menu-vscroll");"DIV"===this.liTrgt.tagName&&e&&this.removeLIStateByClass([c,u],[e])}},t.prototype.removeLIStateByClass=function(e,t){for(var n,r=0;r<t.length;r++)!function(r){e.forEach(function(e){(n=i.i(s.select)("."+e,t[r]))&&n.classList.remove(e)})}(r)},t.prototype.getField=function(e,t){void 0===t&&(t=0);var i=this.fields[""+e];return"string"==typeof i?i:i[t]?i[t].toString():i[i.length-1].toString()},t.prototype.getFields=function(e){return void 0===e&&(e=0),{id:this.getField("itemId",e),iconCss:this.getField("iconCss",e),text:this.getField("text",e),url:this.getField("url",e),child:this.getField("children",e),separator:this.getField("separator",e)}},t.prototype.hasField=function(e,t){for(var i=0,s=e.length;i<s;i++)if(e[i][""+t])return!0;return!1},t.prototype.menuHeaderClickHandler=function(e){i.i(s.closest)(e.target,".e-menu-wrapper").querySelector("ul.e-menu-parent").id===this.element.id&&(this.element.className.indexOf("e-hide-menu")>-1?this.openHamburgerMenu(e):this.closeHamburgerMenu(e))},t.prototype.clickHandler=function(e){if(this.isTapHold)this.isTapHold=!1;else{var t=this.getWrapper(),n=e.target,r=this.cli=this.getLI(n),o=new RegExp("-ej2menu-(.*)-popup"),a=r?i.i(s.closest)(r,".e-"+this.getModuleName()+"-wrapper"):null,l=r&&a&&(this.isMenu?this.getIndex(r.id,!0).length>0:t.firstElementChild.id===a.firstElementChild.id);if(s.Browser.isDevice&&this.isMenu&&(this.removeLIStateByClass([c],[t].concat(this.getPopups())),this.mouseDownHandler(e)),r&&a&&this.isMenu){var d=a.id?o.exec(a.id)[1]:a.querySelector(".e-menu-parent").id;if(this.element.id!==d)return}if(l&&"click"===e.type&&!r.classList.contains(p)){this.setLISelected(r);var h=this.getIndex(r.id,!0),m=this.getItem(h),g={element:r,item:m,event:e};this.trigger("select",g)}if(l&&("mouseover"===e.type||s.Browser.isDevice||this.showItemOnClick)){var y=void 0;if(r.classList.contains(p)){y=t.children[this.navIdx.length-1],this.toggleAnimation(y);var b=this.getLIByClass(y,u);b&&b.classList.remove(u),i.i(s.detach)(r.parentNode),this.navIdx.pop()}else if(!r.classList.contains("e-separator")){this.showSubMenu=!0;var C=r.parentNode;if(i.i(s.isNullOrUndefined)(C))return;if(this.cliIdx=this.getIdx(C,r),this.isMenu||!s.Browser.isDevice){var S=this.isMenu?Array.prototype.indexOf.call([t].concat(this.getPopups()),i.i(s.closest)(C,".e-"+this.getModuleName()+"-wrapper")):this.getIdx(t,C);if(this.navIdx[S]===this.cliIdx&&(this.showSubMenu=!1),S!==this.navIdx.length&&("mouseover"!==e.type||this.showSubMenu)){var b=this.getLIByClass(C,u);b&&b.classList.remove(u),this.isClosed=!0,this.keyType="click",this.showItemOnClick&&this.setLISelected(r),this.closeMenu(S+1,e),this.showItemOnClick&&this.setLISelected(r)}}this.isClosed||this.afterCloseMenu(e),this.isClosed=!1}}else if(this.isMenu&&"DIV"===n.tagName&&this.navIdx.length&&i.i(s.closest)(n,".e-menu-vscroll")){var x=i.i(s.closest)(n,"."+v),I=Array.prototype.indexOf.call(this.getPopups(),x)+1;I<this.navIdx.length&&(this.closeMenu(I+1,e),x&&this.removeLIStateByClass([c,u],[x]))}else this.isMenu&&this.hamburgerMode&&"SPAN"===n.tagName&&n.classList.contains("e-menu-icon")?this.menuHeaderClickHandler(e):"UL"===n.tagName&&(this.isMenu?!n.parentElement.classList.contains("e-menu-wrapper")||this.getIndex(n.querySelector("."+f).id,!0).length:n.parentElement===t)||(r||this.removeLIStateByClass([u],[t]),r&&r.querySelector(".e-caret")||this.closeMenu(null,e))}},t.prototype.afterCloseMenu=function(e){if(!i.i(s.isNullOrUndefined)(e)){var t;if(this.showSubMenu){t=this.showItemOnClick&&0===this.navIdx.length?i.i(s.closest)(e.target,".e-menu-parent.e-control"):i.i(s.closest)(this.element,".e-menu-parent.e-control");var n=this.navIdx.concat(this.cliIdx),r=this.getItem(n);if(r&&r[this.getField("children",n.length-1)]&&r[this.getField("children",n.length-1)].length?(("mouseover"===e.type||s.Browser.isDevice&&this.isMenu)&&this.setLISelected(this.cli),(!this.hamburgerMode&&t||this.hamburgerMode&&"false"===this.cli.getAttribute("aria-expanded"))&&(this.cli.setAttribute("aria-expanded","true"),this.navIdx.push(this.cliIdx),this.openMenu(this.cli,r,null,null,e))):"mouseover"!==e.type&&this.closeMenu(null,e),!t){var o=this.getUlByNavIdx(),a=this.getLIByClass(o,u);a&&(a.setAttribute("aria-expanded","false"),a.classList.remove(u))}}this.keyType=""}},t.prototype.setLISelected=function(e){var t=this.getLIByClass(e.parentElement,u);t&&t.classList.remove(u),this.isMenu||e.classList.remove(c),e.classList.add(u)},t.prototype.getLIByClass=function(e,t){for(var i=0,s=e.children.length;i<s;i++)if(e.children[i].classList.contains(t))return e.children[i];return null},t.prototype.getItemIndex=function(e,t){var i;i="string"==typeof e?e:e.id;var s=!1!==t;return this.getIndex(i,s)},t.prototype.setItem=function(e,t,i){var s;s=i?t||e.id:t||e.text;var n=this.getIndex(s,i),r=this.getItem(n);Object.assign(r,e)},t.prototype.getItem=function(e){e=e.slice();var t=e.pop();return this.getItems(e)[t]},t.prototype.getItems=function(e){for(var t=this.items,i=0;i<e.length;i++)t=t[e[i]][this.getField("children",i)];return t},t.prototype.setItems=function(e,t){var i=this.getItems(t);i.splice(0,i.length);for(var s=0;s<e.length;s++)i.splice(s,0,e[s])},t.prototype.getIdx=function(e,t,i){void 0===i&&(i=!0);var s=Array.prototype.indexOf.call(e.children,t);return i&&e.children[0].classList.contains(p)&&s--,s},t.prototype.getLI=function(e){return"LI"===e.tagName&&e.classList.contains("e-menu-item")?e:i.i(s.closest)(e,"li.e-menu-item")},t.prototype.updateItemsByNavIdx=function(){for(var e=this.items,t=0,i=0;i<this.navIdx.length&&(e=e[i].items);i++){t++;var s=this.getUlByNavIdx(t);if(!s)break;this.updateItem(s,e)}},t.prototype.removeChildElement=function(e){for(;e.firstElementChild;)e.removeChild(e.firstElementChild);return e},t.prototype.onPropertyChanged=function(e,t){for(var n=this,r=this.getWrapper(),d=this,h=0,c=Object.keys(e);h<c.length;h++){var p=c[h];!function(h){switch(h){case"cssClass":t.cssClass&&i.i(s.removeClass)([r],t.cssClass.split(" ")),e.cssClass&&i.i(s.addClass)([r],e.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":d.enableRtl?r.classList.add("e-rtl"):r.classList.remove("e-rtl");break;case"showItemOnClick":d.unWireEvents(),d.showItemOnClick=e.showItemOnClick,d.wireEvents();break;case"enableScrolling":if(e.enableScrolling){var c;d.element.classList.contains("e-vertical")?i.i(l.a)(d.createElement,r,d.element,"vscroll",d.enableRtl):i.i(l.a)(d.createElement,r,d.element,"hscroll",d.enableRtl),d.getPopups().forEach(function(e){c=i.i(s.select)(".e-ul",e),i.i(l.a)(n.createElement,e,c,"vscroll",n.enableRtl)})}else{var p=r.children[0];d.element.classList.contains("e-vertical")?i.i(l.b)(i.i(s.getInstance)(p,a.a),p):i.i(l.b)(i.i(s.getInstance)(p,o.a),p),r.style.overflow="",r.appendChild(d.element),d.getPopups().forEach(function(e){p=e.children[0],i.i(l.b)(i.i(s.getInstance)(p,a.a),p),e.style.overflow=""})}break;case"items":var u=void 0,f=void 0,m=void 0;if(d.isReact&&d.template&&d.clearTemplate(["template"]),Object.keys(t.items).length)for(var v=Object.keys(e.items),g=0;g<v.length;g++)f=d.getChangedItemIndex(e,[],Number(v[g])),f.length<=d.getWrapper().children.length&&(u=f.pop(),m=d.getItems(f),d.insertAfter([m[u]],m[u].text),d.removeItem(m,f,u),d.setItems(m,f)),f.length=0;else{if(d.updateItem(d.element,d.items),d.enableScrolling&&d.element.parentElement.classList.contains("e-custom-scroll")&&(d.element.classList.contains("e-vertical")?i.i(l.a)(d.createElement,r,d.element,"vscroll",d.enableRtl):i.i(l.a)(d.createElement,r,d.element,"hscroll",d.enableRtl)),!d.hamburgerMode)for(var g=1,y=r.childElementCount;g<y;g++)i.i(s.detach)(r.lastElementChild);d.navIdx=[]}}}(p)}},t.prototype.updateItem=function(e,t){if(i.i(s.isBlazor)()&&!this.isMenu)e=this.removeChildElement(e);else{if(this.enableScrolling){var n=this.getWrapper(),r=n.children[0];this.element.classList.contains("e-vertical")?i.i(l.b)(i.i(s.getInstance)(r,a.a),r):i.i(l.b)(i.i(s.getInstance)(r,o.a),r)}e.innerHTML=""}[].slice.call(this.createItems(t).children).forEach(function(t){e.appendChild(t)})},t.prototype.getChangedItemIndex=function(e,t,i){t.push(i);var s=Object.keys(e.items[i]).pop();if("items"===s){var n=e.items[i],r=Object.keys(n.items).pop();r&&this.getChangedItemIndex(n,t,Number(r))}else"isParentArray"===s&&t.length>1&&t.pop();return t},t.prototype.removeItem=function(e,t,n){e.splice(n,1);var r=this.getWrapper().children;t.length<r.length&&i.i(s.detach)(r[t.length].children[n])},t.prototype.unWireEvents=function(e){void 0===e&&(e=this.target);var t=this.getWrapper();if(e){for(var n=void 0,o=void 0,a=i.i(s.selectAll)(e),l=0,d=a.length;l<d;l++)n=a[l],this.isMenu?s.EventHandler.remove(n,"click",this.menuHeaderClickHandler):s.Browser.isIos?(o=i.i(s.getInstance)(n,s.Touch))&&o.destroy():s.EventHandler.remove(n,"contextmenu",this.cmenuHandler);if(!this.isMenu){s.EventHandler.remove(this.targetElement,"mousewheel DOMMouseScroll",this.scrollHandler);for(var h=0,c=i.i(r.getScrollableParent)(this.targetElement);h<c.length;h++){var p=c[h];s.EventHandler.remove(p,"mousewheel DOMMouseScroll",this.scrollHandler)}}}s.Browser.isDevice||(s.EventHandler.remove(this.isMenu?document:t,"mouseover",this.delegateMoverHandler),s.EventHandler.remove(document,"mousedown",this.delegateMouseDownHandler)),s.EventHandler.remove(document,"click",this.delegateClickHandler),this.unWireKeyboardEvent(t),this.rippleFn()},t.prototype.unWireKeyboardEvent=function(e){var t=i.i(s.getInstance)(e,s.KeyboardEvents);t&&t.destroy()},t.prototype.toggleAnimation=function(e,t){var i=this;void 0===t&&(t=!0);var s,n;"None"!==this.animationSettings.effect&&t?this.animation.animate(e,{name:this.animationSettings.effect,duration:this.animationSettings.duration,timingFunction:this.animationSettings.easing,begin:function(e){i.hamburgerMode?(n=e.element.parentElement,e.element.style.position="absolute",s=n.offsetHeight,e.element.style.maxHeight=e.element.offsetHeight+"px",n.style.maxHeight=""):(e.element.style.display="block",e.element.style.maxHeight=e.element.getBoundingClientRect().height+"px")},progress:function(e){i.hamburgerMode&&(n.style.minHeight=s+e.element.offsetHeight+"px")},end:function(e){i.hamburgerMode?(e.element.style.position="",e.element.style.maxHeight="",n.style.minHeight="",e.element.style.top="0px",e.element.children[0].focus(),i.triggerOpen(e.element.children[0])):i.end(e.element,t)}}):this.end(e,t)},t.prototype.triggerOpen=function(e){var t=this.navIdx.length?this.getItem(this.navIdx):null,i={element:e,parentItem:t,items:t?t.items:this.items};this.trigger("onOpen",i),this.isMenu||s.EventHandler.add(e,"keydown",this.keyHandler,this)},t.prototype.end=function(e,t){if(t)if(e.style.display="block",e.style.maxHeight="",this.triggerOpen(e),e.querySelector("."+c))e.querySelector("."+c).focus();else{var n=this.getWrapper().children[this.getIdx(this.getWrapper(),e)-1];this.currentTarget?this.currentTarget.classList.contains("e-numerictextbox")||this.currentTarget.classList.contains("e-textbox")||"INPUT"===this.currentTarget.tagName||(n?n.querySelector("."+u).focus():this.element.focus()):n?n.querySelector("."+u).focus():this.element.focus()}else if(e===this.element){var r=this.getLIByClass(this.element,c);r&&r.classList.remove(c);var o=this.getLIByClass(this.element,u);o&&o.classList.remove(u),e.style.display="none"}else i.i(s.detach)(e)},t.prototype.getPersistData=function(){return""},t.prototype.getWrapper=function(){return i.i(s.closest)(this.element,".e-"+this.getModuleName()+"-wrapper")},t.prototype.getIndex=function(e,t,i,s,n,r){void 0===i&&(i=this.items),void 0===s&&(s=[]),void 0===n&&(n=!1),void 0===r&&(r=0);var o;r=n?r+1:0;for(var a=0,l=i.length;a<l;a++){if(o=i[a],(t?o[this.getField("itemId",r)]:o[this.getField("text",r)])===e){s.push(a);break}if(o[this.getField("children",r)]&&o[this.getField("children",r)].length){if(s=this.getIndex(e,t,o[this.getField("children",r)],s,!0,r),-1!==s[s.length-1]){s.unshift(a);break}a!==l-1&&s.pop()}else a===l-1&&s.push(-1)}return n||-1!==s[0]?s:[]},t.prototype.enableItems=function(e,t,n){void 0===t&&(t=!0);for(var r,o,a,l,d="e-disabled",h=0;h<e.length;h++){if(a=this.getIndex(e[h],n),this.navIdx.length){if(1!==a.length){l=!1;for(var c=0,p=a.length-1;c<p;c++)if(a[c]!==this.navIdx[c]){l=!0;break}if(l)continue}}else if(1!==a.length)continue;o=a.pop(),r=this.getUlByNavIdx(a.length),r&&!i.i(s.isNullOrUndefined)(o)&&(t?this.isMenu?(r.children[o].classList.remove(d),r.children[o].removeAttribute("aria-disabled")):s.Browser.isDevice&&!r.classList.contains("e-contextmenu")?r.children[o+1].classList.remove(d):r.children[o].classList.remove(d):this.isMenu?(r.children[o].classList.add(d),r.children[o].setAttribute("aria-disabled","true")):s.Browser.isDevice&&!r.classList.contains("e-contextmenu")?r.children[o+1].classList.add(d):r.children[o].classList.add(d))}},t.prototype.showItems=function(e,t){this.showHideItems(e,!1,t)},t.prototype.hideItems=function(e,t){this.showHideItems(e,!0,t)},t.prototype.showHideItems=function(e,t,i){for(var s,n,r,o,a=0;a<e.length;a++)if(r=this.getIndex(e[a],i),n=r.pop(),s=this.getUlByNavIdx(r.length),o=this.getItems(r),s){var l=i?s.children[n].id:o[n].text.toString();t&&l===e[a]?s.children[n].classList.add(m):t||l!==e[a]||s.children[n].classList.remove(m)}},t.prototype.removeItems=function(e,t){for(var n,r,o,a=0;a<e.length;a++)r=this.getIndex(e[a],t),n=r.pop(),o=this.getItems(r),i.i(s.isNullOrUndefined)(n)||this.removeItem(o,r,n)},t.prototype.insertAfter=function(e,t,i){this.insertItems(e,t,i)},t.prototype.insertBefore=function(e,t,i){this.insertItems(e,t,i,!1)},t.prototype.insertItems=function(e,t,n,r){void 0===r&&(r=!0);for(var o,a,l,d,h,c=0;c<e.length;c++){l=this.getIndex(t,n),a=l.pop(),d=this.getItems(l),h=new y(d[0],"items",e[c],!0),d.splice(r?a+1:a,0,h);var p=this.isMenu?[this.getWrapper()].concat(this.getPopups()):[].slice.call(this.getWrapper().children);if(!i.i(s.isNullOrUndefined)(a)&&l.length<p.length){a=r?a+1:a,o=this.createItems(d).children[a];var u=this.isMenu?i.i(s.select)(".e-menu-parent",p[l.length]):p[l.length];u.insertBefore(o,u.children[a])}}},t.prototype.removeAttributes=function(){var e=this;["top","left","display","z-index"].forEach(function(t){e.element.style.removeProperty(t)}),["role","tabindex","class","style"].forEach(function(t){"class"===t&&e.element.classList.contains("e-menu-parent")&&e.element.classList.remove("e-menu-parent"),-1!==["class","style"].indexOf(t)&&e.element.getAttribute(t)||e.element.removeAttribute(t),e.isMenu&&"class"===t&&e.element.classList.contains("e-vertical")&&e.element.classList.remove("e-vertical")})},t.prototype.destroy=function(){var t=this.getWrapper();if(t){if(this.unWireEvents(),this.isMenu)this.closeMenu(),i.i(s.isBlazor)()&&!this.isMenu?this.element=this.removeChildElement(this.element):this.element.innerHTML="",this.removeAttributes(),t.parentNode.insertBefore(this.element,t),this.clonedElement=null;else{if(this.clonedElement.style.display="","EJS-CONTEXTMENU"===this.clonedElement.tagName)i.i(s.addClass)([this.clonedElement],["e-control","e-lib","e-"+this.getModuleName()]),this.element=this.clonedElement;else if(this.refreshing&&this.clonedElement.childElementCount&&"LI"===this.clonedElement.children[0].tagName&&this.setProperties({items:[]},!0),document.getElementById(this.clonedElement.id)){var n=this.clonedElement.nextElementSibling;n&&n!==t?this.clonedElement.parentElement.insertBefore(this.element,n):this.clonedElement.parentElement.appendChild(this.element),i.i(s.isBlazor)()&&!this.isMenu?this.element=this.removeChildElement(this.element):this.element.innerHTML="",i.i(s.append)([].slice.call(this.clonedElement.children),this.element),i.i(s.detach)(this.clonedElement),this.removeAttributes()}this.clonedElement=null}this.isMenu&&this.clonedElement?(i.i(s.detach)(this.element),t.style.display="",t.classList.remove("e-"+this.getModuleName()+"-wrapper"),t.removeAttribute("data-ripple")):i.i(s.detach)(t),e.prototype.destroy.call(this),this.template&&this.clearTemplate(["template"])}this.rippleFn=null},h([i.i(s.Event)()],t.prototype,"beforeItemRender",void 0),h([i.i(s.Event)()],t.prototype,"beforeOpen",void 0),h([i.i(s.Event)()],t.prototype,"onOpen",void 0),h([i.i(s.Event)()],t.prototype,"beforeClose",void 0),h([i.i(s.Event)()],t.prototype,"onClose",void 0),h([i.i(s.Event)()],t.prototype,"select",void 0),h([i.i(s.Event)()],t.prototype,"created",void 0),h([i.i(s.Property)("")],t.prototype,"cssClass",void 0),h([i.i(s.Property)(0)],t.prototype,"hoverDelay",void 0),h([i.i(s.Property)(!1)],t.prototype,"showItemOnClick",void 0),h([i.i(s.Property)("")],t.prototype,"target",void 0),h([i.i(s.Property)("")],t.prototype,"filter",void 0),h([i.i(s.Property)(null)],t.prototype,"template",void 0),h([i.i(s.Property)(!1)],t.prototype,"enableScrolling",void 0),h([i.i(s.Property)(!1)],t.prototype,"enableHtmlSanitizer",void 0),h([i.i(s.Complex)({itemId:"id",text:"text",parentId:"parentId",iconCss:"iconCss",url:"url",separator:"separator",children:"items"},g)],t.prototype,"fields",void 0),h([i.i(s.Collection)([],y)],t.prototype,"items",void 0),h([i.i(s.Complex)({duration:400,easing:"ease",effect:"SlideDown"},b)],t.prototype,"animationSettings",void 0),t=h([s.NotifyPropertyChanges],t)}(s.Component)},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var s=i(0),n=(i.n(s),this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}()),r=this&&this.__decorate||function(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},o=function(e){function t(t,i){return e.call(this,t,i)||this}return n(t,e),t.prototype.preRender=function(){this.browser=s.Browser.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=s.Browser.isDevice,this.customStep=!0;var e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=i.i(s.getUniqueID)("vscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add("e-rtl")},t.prototype.render=function(){this.touchModule=new s.Touch(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),s.EventHandler.add(this.scrollEle,"scroll",this.scrollEventHandler,this),this.isDevice?(this.element.classList.add("e-scroll-device"),this.createOverlayElement(this.element)):this.createNavIcon(this.element),this.setScrollState(),s.EventHandler.add(this.element,"wheel",this.wheelEventHandler,this)},t.prototype.setScrollState=function(){i.i(s.isNullOrUndefined)(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetHeight,this.customStep=!1):this.customStep=!0},t.prototype.initialize=function(){var e=i.i(s.createElement)("div",{className:"e-vscroll-content"}),t=i.i(s.createElement)("div",{className:"e-vscroll-bar"});t.setAttribute("tabindex","-1");for(var n=this.element,r=[].slice.call(n.children),o=0,a=r;o<a.length;o++){var l=a[o];e.appendChild(l)}t.appendChild(e),n.appendChild(t),t.style.overflow="hidden",this.scrollEle=t,this.scrollItems=e},t.prototype.getPersistData=function(){var e=["scrollStep"];return this.addOnPersist(e)},t.prototype.getModuleName=function(){return"vScroll"},t.prototype.destroy=function(){var t=this.element;t.style.display="",i.i(s.removeClass)([this.element],["e-vscroll","e-scroll-device","e-rtl"]);var n=i.i(s.selectAll)(".e-"+t.id+"_nav.e-scroll-nav",t),r=i.i(s.selectAll)(".e-scroll-overlay",t);[].slice.call(r).forEach(function(e){i.i(s.detach)(e)});for(var o=0,a=[].slice.call(this.scrollItems.children);o<a.length;o++){var l=a[o];t.appendChild(l)}this.uniqueId&&this.element.removeAttribute("id"),i.i(s.detach)(this.scrollEle),n.length>0&&(i.i(s.detach)(n[0]),i.i(s.isNullOrUndefined)(n[1])||i.i(s.detach)(n[1])),s.EventHandler.remove(this.scrollEle,"scroll",this.scrollEventHandler),this.touchModule.destroy(),this.touchModule=null,e.prototype.destroy.call(this)},t.prototype.disable=function(e){var t=i.i(s.selectAll)(".e-scroll-nav:not(.e-overlay)",this.element);e?this.element.classList.add("e-overlay"):this.element.classList.remove("e-overlay"),[].slice.call(t).forEach(function(t){t.setAttribute("tabindex",e?"-1":"0")})},t.prototype.createOverlayElement=function(e){var t=e.id.concat("_nav"),n=i.i(s.createElement)("div",{className:"e-scroll-overlay e-scroll-down-overlay"}),r="e-"+e.id.concat("_nav e-scroll-nav e-scroll-down-nav"),o=i.i(s.createElement)("div",{id:t.concat("down"),className:r}),a=i.i(s.createElement)("div",{className:"e-nav-down-arrow e-nav-arrow e-icons"});o.appendChild(a);var l=i.i(s.createElement)("div",{className:"e-scroll-overlay e-scroll-up-overlay"});this.ieCheck&&o.classList.add("e-ie-align"),e.appendChild(n),e.appendChild(o),e.insertBefore(l,e.firstChild),this.eventBinding([o])},t.prototype.createNavIcon=function(e){var t=e.id.concat("_nav"),n="e-"+e.id.concat("_nav e-scroll-nav e-scroll-down-nav"),r=i.i(s.createElement)("div",{id:t.concat("_down"),className:n});r.setAttribute("aria-disabled","false");var o=i.i(s.createElement)("div",{className:"e-nav-down-arrow e-nav-arrow e-icons"}),a="e-"+e.id.concat("_nav e-scroll-nav e-scroll-up-nav"),l=i.i(s.createElement)("div",{id:t.concat("_up"),className:a+" e-overlay"});l.setAttribute("aria-disabled","true");var d=i.i(s.createElement)("div",{className:"e-nav-up-arrow e-nav-arrow e-icons"});l.appendChild(d),r.appendChild(o),r.setAttribute("tabindex","0"),e.appendChild(r),e.insertBefore(l,e.firstChild),this.ieCheck&&(r.classList.add("e-ie-align"),l.classList.add("e-ie-align")),this.eventBinding([r,l])},t.prototype.onKeyPress=function(e){var t=this;if("Enter"===e.key){var i=function(){t.keyTimeout=!0,t.eleScrolling(10,e.target,!0)};this.keyTimer=window.setTimeout(function(){i()},100)}},t.prototype.onKeyUp=function(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},t.prototype.eventBinding=function(e){var t=this;[].slice.call(e).forEach(function(e){new s.Touch(e,{tapHold:t.tabHoldHandler.bind(t),tapHoldThreshold:500}),e.addEventListener("keydown",t.onKeyPress.bind(t)),e.addEventListener("keyup",t.onKeyUp.bind(t)),e.addEventListener("mouseup",t.repeatScroll.bind(t)),e.addEventListener("touchend",t.repeatScroll.bind(t)),e.addEventListener("contextmenu",function(e){e.preventDefault()}),s.EventHandler.add(e,"click",t.clickEventHandler,t)})},t.prototype.repeatScroll=function(){clearInterval(this.timeout)},t.prototype.tabHoldHandler=function(e){var t=this,i=e.originalEvent.target;i=this.contains(i,"e-scroll-nav")?i.firstElementChild:i;var s=function(){t.eleScrolling(10,i,!0)};this.timeout=window.setInterval(function(){s()},50)},t.prototype.contains=function(e,t){return e.classList.contains(t)},t.prototype.eleScrolling=function(e,t,i){var s=t.classList;s.contains("e-scroll-nav")&&(s=t.querySelector(".e-nav-arrow").classList),s.contains("e-nav-down-arrow")?this.frameScrollRequest(e,"add",i):s.contains("e-nav-up-arrow")&&this.frameScrollRequest(e,"",i)},t.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},t.prototype.wheelEventHandler=function(e){e.preventDefault(),this.frameScrollRequest(this.scrollStep,e.deltaY>0?"add":"",!1)},t.prototype.swipeHandler=function(e){var t,i=this.scrollEle;t=e.velocity<=1?e.distanceY/(10*e.velocity):e.distanceY/e.velocity;var s=.5,n=function(){var r=Math.sin(s);r<=0?window.cancelAnimationFrame(r):("Up"===e.swipeDirection?i.scrollTop+=t*r:"Down"===e.swipeDirection&&(i.scrollTop-=t*r),s-=.02,window.requestAnimationFrame(n))};n()},t.prototype.scrollUpdating=function(e,t){"add"===t?this.scrollEle.scrollTop+=e:this.scrollEle.scrollTop-=e},t.prototype.frameScrollRequest=function(e,t,n){var r=this;if(n)return void this.scrollUpdating(e,t);this.customStep||[].slice.call(i.i(s.selectAll)(".e-scroll-overlay",this.element)).forEach(function(t){e-=t.offsetHeight});var o=function(){e<10?window.cancelAnimationFrame(10):(r.scrollUpdating(10,t),e-=10,window.requestAnimationFrame(o))};o()},t.prototype.touchHandler=function(e){var t=this.scrollEle,i=e.distanceY;"Up"===e.scrollDirection?t.scrollTop=t.scrollTop+i:"Down"===e.scrollDirection&&(t.scrollTop=t.scrollTop-i)},t.prototype.arrowDisabling=function(e,t){if(this.isDevice){var n=i.i(s.isNullOrUndefined)(e)?t:e,r=n.querySelector(".e-nav-arrow");i.i(s.isNullOrUndefined)(e)?i.i(s.classList)(r,["e-nav-down-arrow"],["e-nav-up-arrow"]):i.i(s.classList)(r,["e-nav-up-arrow"],["e-nav-down-arrow"])}else e.classList.add("e-overlay"),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),t.classList.remove("e-overlay"),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0");this.repeatScroll()},t.prototype.scrollEventHandler=function(e){var t=e.target,i=t.offsetHeight,s=this.element.querySelector(".e-scroll-up-nav"),n=this.element.querySelector(".e-scroll-down-nav"),r=this.element.querySelector(".e-scroll-up-overlay"),o=this.element.querySelector(".e-scroll-down-overlay"),a=t.scrollTop;if(a<=0&&(a=-a),this.isDevice&&(r.style.height=a<40?a+"px":"40px",t.scrollHeight-Math.ceil(i+a)<40?o.style.height=t.scrollHeight-Math.ceil(i+a)+"px":o.style.height="40px"),0===a)this.arrowDisabling(s,n);else if(Math.ceil(i+a+.1)>=t.scrollHeight)this.arrowDisabling(n,s);else{var l=this.element.querySelector(".e-scroll-nav.e-overlay");l&&(l.classList.remove("e-overlay"),l.setAttribute("aria-disabled","false"),l.setAttribute("tabindex","0"))}},t.prototype.onPropertyChanged=function(e,t){for(var i=0,s=Object.keys(e);i<s.length;i++){switch(s[i]){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")}}},r([i.i(s.Property)(null)],t.prototype,"scrollStep",void 0),t=r([s.NotifyPropertyChanges],t)}(s.Component)},function(e,t){e.exports=i},function(e,t){e.exports=s},function(e,t,i){"use strict";function s(e,t,i,s,r,o){var a,l,d=t.parentElement;if("vscroll"===s?(a=o||t.getBoundingClientRect().height,l=i.getBoundingClientRect().height):(a=t.getBoundingClientRect().width,l=i.getBoundingClientRect().width),a<l)return n(e,t,i,s,r,o);if(d){var h=d.getBoundingClientRect().width;return h<a&&"hscroll"===s?(l=h,t.style.maxWidth=h+"px",n(e,t,i,s,r,o)):i}return i}function n(e,t,s,n,r,d){var h=e("div",{className:"e-menu-"+n});t.appendChild(h),h.appendChild(s),d?(h.style.overflow="hidden",h.style.height=d+"px"):(h.style.maxHeight=t.style.maxHeight,t.style.overflow="hidden");var c;return"vscroll"===n?(c=new a.a({enableRtl:r},h),c.scrollStep=i.i(o.select)(".e-"+n+"-bar",t).offsetHeight/2):(c=new l.a({enableRtl:r},h),c.scrollStep=i.i(o.select)(".e-"+n+"-bar",t).offsetWidth),h}function r(e,t,s){if(e){var n=i.i(o.select)(".e-menu-parent",t);n?s&&s!==n||(e.destroy(),t.parentElement.appendChild(n),i.i(o.detach)(t)):(e.destroy(),i.i(o.detach)(t))}}t.a=s,t.b=r;var o=i(0),a=(i.n(o),i(4)),l=i(2)},function(e,t,i){"use strict";i.d(t,"a",function(){return s}),i.d(t,"c",function(){return l}),i.d(t,"d",function(){return a}),i.d(t,"b",function(){return d});var s,n=i(0),r=(i.n(n),this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}()),o=this&&this.__decorate||function(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o};!function(e){e.NotStarted="NotStarted",e.InProgress="InProgress",e.Completed="Completed"}(s||(s={}));var a,l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),o([i.i(n.Property)("")],t.prototype,"cssClass",void 0),o([i.i(n.Property)(!1)],t.prototype,"disabled",void 0),o([i.i(n.Property)("")],t.prototype,"iconCss",void 0),o([i.i(n.Property)(null)],t.prototype,"isValid",void 0),o([i.i(n.Property)("")],t.prototype,"label",void 0),o([i.i(n.Property)(!1)],t.prototype,"optional",void 0),o([i.i(n.Property)(s.NotStarted)],t.prototype,"status",void 0),o([i.i(n.Property)("")],t.prototype,"text",void 0),t}(n.ChildProperty);!function(e){e.Horizontal="Horizontal",e.Vertical="Vertical"}(a||(a={}));var d=function(e){function t(t,i){return e.call(this,t,i)||this}return r(t,e),t.prototype.preRender=function(){},t.prototype.getModuleName=function(){return"stepperBase"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.render=function(){},t.prototype.updateOrientaion=function(e){(e.classList.contains("e-horizontal")||e.classList.contains("e-vertical"))&&(e.classList.contains("e-horizontal")?e.classList.remove("e-horizontal"):e.classList.remove("e-vertical")),e.classList.add("e-"+this.orientation.toLocaleLowerCase())},t.prototype.renderProgressBar=function(e){this.progressStep=this.createElement("div",{className:"e-stepper-progressbar"}),this.progressbar=this.createElement("div",{className:"e-progressbar-value"}),this.progressStep.appendChild(this.progressbar),e.prepend(this.progressStep),this.progressbar.style.setProperty("--progress-value","0%");var t=e.querySelector("li").querySelector(".e-step-label-container");if(e.classList.contains("e-vertical"))if(e.classList.contains("e-label-bottom")||e.classList.contains("e-label-top")){var i=e.querySelector(".e-stepper-steps");this.progressStep.style.setProperty("--progress-position",i.offsetWidth/2+"px")}else this.progressStep.style.setProperty("--progress-position",this.progressBarPosition/2-1+"px");t&&t.classList.contains("e-label-before")&&this.progressStep.style.setProperty("--progress-position",this.progressBarPosition-1+5+"px"),e.classList.contains("e-horizontal")&&this.setProgressPosition(e)},t.prototype.setProgressPosition=function(e,t){var i=e.querySelector(".e-step-container"),s=i.firstElementChild;if(1!=t){var n=0;n=e.classList.contains("e-label-before")?i.offsetParent.offsetHeight-s.offsetHeight/2-1:s.offsetHeight/2,this.progressStep.style.setProperty("--progress-top-position",n+"px")}var r=e.querySelector(".e-stepper-steps").lastChild.firstChild;if(e.classList.contains("e-rtl")){var o=s.offsetLeft+s.offsetWidth-e.querySelector(".e-stepper-steps").offsetWidth;this.progressStep.style.setProperty("--progress-left-position",Math.abs(o)+"px"),this.progressStep.style.setProperty("--progress-bar-width",Math.abs(r.offsetLeft-s.offsetLeft)+"px")}else this.progressStep.style.setProperty("--progress-left-position",s.offsetLeft+1+"px"),this.progressStep.style.setProperty("--progress-bar-width",r.offsetWidth+r.offsetLeft-2-(s.offsetLeft+2)+"px")},t.prototype.onPropertyChanged=function(e,t){},o([i.i(n.Collection)([],l)],t.prototype,"steps",void 0),o([i.i(n.Property)("")],t.prototype,"cssClass",void 0),o([i.i(n.Property)(!1)],t.prototype,"readOnly",void 0),o([i.i(n.Property)(a.Horizontal)],t.prototype,"orientation",void 0),o([i.i(n.Event)()],t.prototype,"created",void 0),t=o([n.NotifyPropertyChanges],t)}(n.Component)},function(e,t,i){"use strict";i.d(t,"b",function(){return u}),i.d(t,"a",function(){return f});var s=i(0),n=(i.n(s),i(1)),r=(i.n(n),i(5)),o=(i.n(r),i(2)),a=i(4),l=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),d=this&&this.__decorate||function(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},h="e-toolbar-items",c="e-toolbar-item",p="e-toolbar-popup",u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),d([i.i(s.Property)("")],t.prototype,"id",void 0),d([i.i(s.Property)("")],t.prototype,"text",void 0),d([i.i(s.Property)("auto")],t.prototype,"width",void 0),d([i.i(s.Property)("")],t.prototype,"cssClass",void 0),d([i.i(s.Property)(!1)],t.prototype,"showAlwaysInPopup",void 0),d([i.i(s.Property)(!1)],t.prototype,"disabled",void 0),d([i.i(s.Property)("")],t.prototype,"prefixIcon",void 0),d([i.i(s.Property)("")],t.prototype,"suffixIcon",void 0),d([i.i(s.Property)(!0)],t.prototype,"visible",void 0),d([i.i(s.Property)("None")],t.prototype,"overflow",void 0),d([i.i(s.Property)("")],t.prototype,"template",void 0),d([i.i(s.Property)("Button")],t.prototype,"type",void 0),d([i.i(s.Property)("Both")],t.prototype,"showTextOn",void 0),d([i.i(s.Property)(null)],t.prototype,"htmlAttributes",void 0),d([i.i(s.Property)("")],t.prototype,"tooltipText",void 0),d([i.i(s.Property)("Left")],t.prototype,"align",void 0),d([i.i(s.Event)()],t.prototype,"click",void 0),d([i.i(s.Property)(-1)],t.prototype,"tabIndex",void 0),t}(s.ChildProperty),f=function(e){function t(t,i){var s=e.call(this,t,i)||this;return s.resizeContext=s.resize.bind(s),s.orientationChangeContext=s.orientationChange.bind(s),s.keyConfigs={moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow",popupOpen:"enter",popupClose:"escape",tab:"tab",home:"home",end:"end"},s}return l(t,e),t.prototype.destroy=function(){var t=this;(this.isReact||this.isAngular)&&this.clearTemplate();var n=this.element.querySelectorAll(".e-control.e-btn");for([].slice.call(n).forEach(function(e){i.i(s.isNullOrUndefined)(e)||i.i(s.isNullOrUndefined)(e.ej2_instances)||i.i(s.isNullOrUndefined)(e.ej2_instances[0])||e.ej2_instances[0].isDestroyed||e.ej2_instances[0].destroy()}),this.unwireEvents(),this.tempId.forEach(function(e){i.i(s.isNullOrUndefined)(t.element.querySelector(e))||(document.body.appendChild(t.element.querySelector(e)).style.display="none")}),this.destroyItems();this.element.lastElementChild;)this.element.removeChild(this.element.lastElementChild);this.trgtEle&&(this.element.appendChild(this.ctrlTem),this.trgtEle=null,this.ctrlTem=null),this.popObj&&(this.popObj.destroy(),i.i(s.detach)(this.popObj.element)),this.activeEle&&(this.activeEle=null),this.popObj=null,this.tbarAlign=null,this.tbarItemsCol=[],this.remove(this.element,"e-toolpop"),this.cssClass&&i.i(s.removeClass)([this.element],this.cssClass.split(" ")),this.element.removeAttribute("style"),["aria-disabled","aria-orientation","role"].forEach(function(e){return t.element.removeAttribute(e)}),e.prototype.destroy.call(this)},t.prototype.preRender=function(){var e={enableCollision:this.enableCollision,scrollStep:this.scrollStep};this.trigger("beforeCreate",e),this.enableCollision=e.enableCollision,this.scrollStep=e.scrollStep,this.scrollModule=null,this.popObj=null,this.tempId=[],this.tbarItemsCol=this.items,this.isVertical=!!this.element.classList.contains("e-vertical"),this.isExtendedOpen=!1,this.popupPriCount=0,this.enableRtl&&this.add(this.element,"e-rtl")},t.prototype.wireEvents=function(){s.EventHandler.add(this.element,"click",this.clickHandler,this),window.addEventListener("resize",this.resizeContext),window.addEventListener("orientationchange",this.orientationChangeContext),this.allowKeyboard&&this.wireKeyboardEvent()},t.prototype.wireKeyboardEvent=function(){this.keyModule=new s.KeyboardEvents(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs}),s.EventHandler.add(this.element,"keydown",this.docKeyDown,this),this.updateTabIndex("0")},t.prototype.updateTabIndex=function(e){var t=this.element.querySelector("."+c+":not(.e-overlay ):not(.e-separator ):not(.e-hidden )");if(!i.i(s.isNullOrUndefined)(t)&&!i.i(s.isNullOrUndefined)(t.firstElementChild)){var n=t.firstElementChild.getAttribute("data-tabindex");n&&"-1"===n&&"INPUT"!==t.firstElementChild.tagName&&t.firstElementChild.setAttribute("tabindex",e)}},t.prototype.unwireKeyboardEvent=function(){this.keyModule&&(s.EventHandler.remove(this.element,"keydown",this.docKeyDown),this.keyModule.destroy(),this.keyModule=null)},t.prototype.docKeyDown=function(e){if("INPUT"!==e.target.tagName){var t=!i.i(s.isNullOrUndefined)(this.popObj)&&i.i(s.isVisible)(this.popObj.element)&&"Extended"!==this.overflowMode;9===e.keyCode&&!0===e.target.classList.contains("e-hor-nav")&&t&&this.popObj.hide({name:"FadeOut",duration:100});(40===e.keyCode||38===e.keyCode||35===e.keyCode||36===e.keyCode)&&e.preventDefault()}},t.prototype.unwireEvents=function(){s.EventHandler.remove(this.element,"click",this.clickHandler),this.destroyScroll(),this.unwireKeyboardEvent(),window.removeEventListener("resize",this.resizeContext),window.removeEventListener("orientationchange",this.orientationChangeContext),s.EventHandler.remove(document,"scroll",this.docEvent),s.EventHandler.remove(document,"click",this.docEvent)},t.prototype.clearProperty=function(){this.tbarEle=[],this.tbarAlgEle={lefts:[],centers:[],rights:[]}},t.prototype.docEvent=function(e){var t=i.i(s.closest)(e.target,".e-popup");this.popObj&&i.i(s.isVisible)(this.popObj.element)&&!t&&"Popup"===this.overflowMode&&this.popObj.hide({name:"FadeOut",duration:100})},t.prototype.destroyScroll=function(){this.scrollModule&&(this.tbarAlign&&this.add(this.scrollModule.element,"e-tbar-pos"),this.scrollModule.destroy(),this.scrollModule=null)},t.prototype.destroyItems=function(){if(this.element&&[].slice.call(this.element.querySelectorAll("."+c)).forEach(function(e){i.i(s.detach)(e)}),this.tbarAlign){var e=this.element.querySelector("."+h);[].slice.call(e.children).forEach(function(e){i.i(s.detach)(e)}),this.tbarAlign=!1,this.remove(e,"e-tbar-pos")}this.clearProperty()},t.prototype.destroyMode=function(){this.scrollModule&&(this.remove(this.scrollModule.element,"e-rtl"),this.destroyScroll()),this.remove(this.element,"e-tbar-extended"),this.remove(this.element,"e-extended-toolbar");var e=this.element.querySelector(".e-toolbar-multirow");e&&this.remove(e,"e-toolbar-multirow"),this.popObj&&this.popupRefresh(this.popObj.element,!0)},t.prototype.add=function(e,t){e.classList.add(t)},t.prototype.remove=function(e,t){e.classList.remove(t)},t.prototype.elementFocus=function(e){var t=e.firstElementChild;t?(t.focus(),this.activeEleSwitch(e)):e.focus()},t.prototype.clstElement=function(e,t){return e&&this.popObj&&i.i(s.isVisible)(this.popObj.element)?this.popObj.element.querySelector("."+c):this.element===t||e?this.element.querySelector("."+c+":not(.e-overlay ):not(.e-separator ):not(.e-hidden )"):i.i(s.closest)(t,"."+c)},t.prototype.keyHandling=function(e,t,n,r,o){var a,l,d=this.popObj,p=this.element,u={name:"FadeOut",duration:100},f="moveUp"===t.action?"previous":"next";switch(t.action){case"moveRight":if(this.isVertical)return;p===n?this.elementFocus(e):r||this.eleFocus(e,"next");break;case"moveLeft":if(this.isVertical)return;r||this.eleFocus(e,"previous");break;case"home":case"end":if(e){var m=i.i(s.closest)(e,".e-popup"),v=this.element.querySelector(".e-toolbar-extended");"Extended"===this.overflowMode&&v&&v.classList.contains("e-popup-open")&&(m="end"===t.action?v:null),m?i.i(s.isVisible)(this.popObj.element)&&(l=[].slice.call(m.children),a="home"===t.action?this.focusFirstVisibleEle(l):this.focusLastVisibleEle(l)):(l=this.element.querySelectorAll("."+h+" ."+c+":not(.e-separator)"),a="home"===t.action?this.focusFirstVisibleEle(l):this.focusLastVisibleEle(l)),a&&this.elementFocus(a)}break;case"moveUp":case"moveDown":if(this.isVertical)"moveUp"===t.action?this.eleFocus(e,"previous"):this.eleFocus(e,"next");else if(d&&i.i(s.closest)(n,".e-popup")){var g=d.element,y=g.firstElementChild;"previous"===f&&y===e?g.lastElementChild.firstChild.focus():"next"===f&&g.lastElementChild===e?y.firstChild.focus():this.eleFocus(e,f)}else"moveDown"===t.action&&d&&i.i(s.isVisible)(d.element)&&this.elementFocus(e);break;case"tab":if(!o&&!r){var b=e.firstElementChild;p===n&&(this.activeEle?this.activeEle.focus():(this.activeEleRemove(b),b.focus()))}break;case"popupClose":d&&"Extended"!==this.overflowMode&&d.hide(u);break;case"popupOpen":if(!r)return;d&&!i.i(s.isVisible)(d.element)?(d.element.style.top=p.offsetHeight+"px",d.show({name:"FadeIn",duration:100})):d.hide(u)}},t.prototype.keyActionHandler=function(e){var t=e.target;if("INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!this.element.classList.contains("e-overlay")){e.preventDefault();var i=t.classList.contains("e-hor-nav"),s=t.classList.contains("e-scroll-nav"),n=this.clstElement(i,t);(n||s)&&this.keyHandling(n,e,t,i,s)}},t.prototype.disable=function(e){var t=this.element;e?t.classList.add("e-overlay"):t.classList.remove("e-overlay"),this.activeEle&&this.activeEle.setAttribute("tabindex",this.activeEle.getAttribute("data-tabindex")),this.scrollModule&&this.scrollModule.disable(e),this.popObj&&(i.i(s.isVisible)(this.popObj.element)&&"Extended"!==this.overflowMode&&this.popObj.hide(),t.querySelector("#"+t.id+"_nav").setAttribute("tabindex",e?"-1":"0"))},t.prototype.eleContains=function(e){return e.classList.contains("e-separator")||e.classList.contains("e-overlay")||e.getAttribute("disabled")||e.classList.contains("e-hidden")||!i.i(s.isVisible)(e)||!e.classList.contains(c)},t.prototype.focusFirstVisibleEle=function(e){for(var t=0;t<e.length;){var i=e[parseInt(t.toString(),10)];if(!i.classList.contains("e-hidden")&&!i.classList.contains("e-overlay"))return i;t++}},t.prototype.focusLastVisibleEle=function(e){for(var t=e.length-1;t>=0;){var i=e[parseInt(t.toString(),10)];if(!i.classList.contains("e-hidden")&&!i.classList.contains("e-overlay"))return i;t--}},t.prototype.eleFocus=function(e,t){var n=Object(e)[t+"ElementSibling"];if(n){if(this.eleContains(n))return void this.eleFocus(n,t);this.elementFocus(n)}else if(this.tbarAlign){var r=Object(e.parentElement)[t+"ElementSibling"];if(i.i(s.isNullOrUndefined)(r)||0!==r.children.length||(r=Object(r)[t+"ElementSibling"]),!i.i(s.isNullOrUndefined)(r)&&r.children.length>0)if("next"===t){var o=r.querySelector("."+c);this.eleContains(o)?this.eleFocus(o,t):(o.firstElementChild.focus(),this.activeEleSwitch(o))}else{var o=r.lastElementChild;this.eleContains(o)?this.eleFocus(o,t):this.elementFocus(o)}}else if(!i.i(s.isNullOrUndefined)(e)){var a=this.element.querySelectorAll("."+h+" ."+c+":not(.e-separator):not(.e-overlay):not(.e-hidden)");"next"===t&&a?this.elementFocus(a[0]):"previous"===t&&a&&this.elementFocus(a[a.length-1])}},t.prototype.clickHandler=function(e){var t=this,n=e.target,r=this.element,o=!i.i(s.isNullOrUndefined)(i.i(s.closest)(n,".e-toolbar-pop")),a=n.classList,l=i.i(s.closest)(n,".e-hor-nav");l||(l=n),r.children[0].classList.contains("e-hscroll")||r.children[0].classList.contains("e-vscroll")||!a.contains("e-hor-nav")||(a=n.querySelector(".e-icons").classList),(a.contains("e-popup-up-icon")||a.contains("e-popup-down-icon"))&&this.popupClickHandler(r,l,"e-rtl");var d,h=i.i(s.closest)(e.target,"."+c);if(!i.i(s.isNullOrUndefined)(h)&&!h.classList.contains("e-overlay")||l.classList.contains("e-hor-nav")){if(h){d=this.items[this.tbarEle.indexOf(h)]}var p={originalEvent:e,item:d};d&&!i.i(s.isNullOrUndefined)(d.click)&&this.trigger("items["+this.tbarEle.indexOf(h)+"].click",p),p.cancel||this.trigger("clicked",p,function(e){!i.i(s.isNullOrUndefined)(t.popObj)&&o&&!e.cancel&&"Popup"===t.overflowMode&&e.item&&"Input"!==e.item.type&&t.popObj.hide({name:"FadeOut",duration:100})})}},t.prototype.popupClickHandler=function(e,t,n){var r=this.popObj;i.i(s.isVisible)(r.element)?(t.classList.remove("e-nav-active"),r.hide({name:"FadeOut",duration:100})):(e.classList.contains(n)&&(r.enableRtl=!0,r.position={X:"left",Y:"top"}),0!==r.offsetX||e.classList.contains(n)||(r.enableRtl=!1,r.position={X:"right",Y:"top"}),r.dataBind(),r.refreshPosition(),r.element.style.top=this.getElementOffsetY()+"px","Extended"===this.overflowMode&&(r.element.style.minHeight="0px"),t.classList.add("e-nav-active"),r.show({name:"FadeIn",duration:100}))},t.prototype.render=function(){var e=this;this.initialize(),this.renderControl(),this.wireEvents(),this.renderComplete(),this.isReact&&this.portals&&this.portals.length>0&&this.renderReactTemplates(function(){e.refreshOverflow()})},t.prototype.initialize=function(){var e=i.i(s.formatUnit)(this.width),t=i.i(s.formatUnit)(this.height);"msie"===s.Browser.info.name&&"auto"===this.height&&"MultiRow"!==this.overflowMode||i.i(s.setStyleAttribute)(this.element,{height:t}),i.i(s.setStyleAttribute)(this.element,{width:e});var n={role:"toolbar","aria-disabled":"false","aria-orientation":this.isVertical?"vertical":"horizontal"};i.i(s.attributes)(this.element,n),this.cssClass&&i.i(s.addClass)([this.element],this.cssClass.split(" "))},t.prototype.renderControl=function(){var e=this.element;this.trgtEle=e.children.length>0?e.querySelector("div"):null,this.tbarAlgEle={lefts:[],centers:[],rights:[]},this.renderItems(),this.renderLayout()},t.prototype.renderLayout=function(){this.renderOverflowMode(),this.tbarAlign&&this.itemPositioning(),this.popObj&&this.popObj.element.childElementCount>1&&this.checkPopupRefresh(this.element,this.popObj.element)&&this.popupRefresh(this.popObj.element,!1),this.separator()},t.prototype.itemsAlign=function(e,t){var i,s;this.tbarEle||(this.tbarEle=[]);for(var n=0;n<e.length;n++)i=this.renderSubComponent(e[parseInt(n.toString(),10)],n),-1===this.tbarEle.indexOf(i)&&this.tbarEle.push(i),this.tbarAlign||this.tbarItemAlign(e[parseInt(n.toString(),10)],t,n),s=t.querySelector(".e-toolbar-"+e[parseInt(n.toString(),10)].align.toLowerCase()),s?(e[parseInt(n.toString(),10)].showAlwaysInPopup&&"Show"!==e[parseInt(n.toString(),10)].overflow||this.tbarAlgEle[(e[parseInt(n.toString(),10)].align+"s").toLowerCase()].push(i),s.appendChild(i)):t.appendChild(i);if(this.isReact){this.notify("render-react-toolbar-template",this.portals),this.renderReactTemplates()}},t.prototype.changeOrientation=function(){var e=this.element;this.isVertical?(e.classList.remove("e-vertical"),this.isVertical=!1,"auto"!==this.height&&"100%"!==this.height||(e.style.height=this.height),e.setAttribute("aria-orientation","horizontal")):(e.classList.add("e-vertical"),this.isVertical=!0,e.setAttribute("aria-orientation","vertical"),i.i(s.setStyleAttribute)(this.element,{height:i.i(s.formatUnit)(this.height),width:i.i(s.formatUnit)(this.width)})),this.destroyMode(),this.refreshOverflow()},t.prototype.initScroll=function(e,t){if(!this.scrollModule&&this.checkOverflow(e,t[0])){this.tbarAlign&&this.element.querySelector("."+h+" .e-toolbar-center").removeAttribute("style"),this.isVertical?this.scrollModule=new a.a({scrollStep:this.scrollStep,enableRtl:this.enableRtl},t[0]):this.scrollModule=new o.a({scrollStep:this.scrollStep,enableRtl:this.enableRtl},t[0]),this.cssClass&&i.i(s.addClass)([t[0]],this.cssClass.split(" "));var n=this.scrollModule.element.querySelector(".e-hscroll-bar, .e-vscroll-bar");n&&n.removeAttribute("tabindex"),this.remove(this.scrollModule.element,"e-tbar-pos"),i.i(s.setStyleAttribute)(this.element,{overflow:"hidden"})}},t.prototype.itemWidthCal=function(e){var t,n=this,r=0;return[].slice.call(i.i(s.selectAll)("."+c,e)).forEach(function(e){i.i(s.isVisible)(e)&&(t=window.getComputedStyle(e),r+=n.isVertical?e.offsetHeight:e.offsetWidth,r+=parseFloat(n.isVertical?t.marginTop:t.marginRight),r+=parseFloat(n.isVertical?t.marginBottom:t.marginLeft))}),r},t.prototype.getScrollCntEle=function(e){var t=this.isVertical?".e-vscroll-content":".e-hscroll-content";return e.querySelector(t)},t.prototype.checkOverflow=function(e,t){if(i.i(s.isNullOrUndefined)(e)||i.i(s.isNullOrUndefined)(t)||!i.i(s.isVisible)(e))return!1;var n=this.isVertical?e.offsetHeight:e.offsetWidth,r=this.isVertical?t.offsetHeight:t.offsetWidth;(this.tbarAlign||this.scrollModule||n===r)&&(r=this.itemWidthCal(this.scrollModule?this.getScrollCntEle(t):t));var o=e.querySelector(".e-hor-nav"),a=e.querySelector(".e-scroll-nav"),l=0;return o?l=this.isVertical?o.offsetHeight:o.offsetWidth:a&&(l=this.isVertical?2*a.offsetHeight:2*a.offsetWidth),r>n-l},t.prototype.refreshOverflow=function(){this.resize()},t.prototype.toolbarAlign=function(e){this.tbarAlign&&(this.add(e,"e-tbar-pos"),this.itemPositioning())},t.prototype.renderOverflowMode=function(){var e=this.element,t=e.querySelector("."+h),n=this.popupPriCount>0;if(e&&e.children.length>0)switch(this.offsetWid=e.offsetWidth,this.remove(this.element,"e-toolpop"),"msie"===s.Browser.info.name&&"auto"===this.height&&(e.style.height=""),this.overflowMode){case"Scrollable":i.i(s.isNullOrUndefined)(this.scrollModule)&&this.initScroll(e,[].slice.call(e.getElementsByClassName(h)));break;case"Popup":this.add(this.element,"e-toolpop"),this.tbarAlign&&this.removePositioning(),(this.checkOverflow(e,t)||n)&&this.setOverflowAttributes(e),this.toolbarAlign(t);break;case"MultiRow":this.add(t,"e-toolbar-multirow"),this.checkOverflow(e,t)&&this.tbarAlign&&(this.removePositioning(),this.add(t,"e-multirow-pos")),"hidden"===e.style.overflow&&(e.style.overflow=""),"msie"!==s.Browser.info.name&&"auto"===e.style.height||(e.style.height="auto");break;case"Extended":this.add(this.element,"e-extended-toolbar"),(this.checkOverflow(e,t)||n)&&(this.tbarAlign&&this.removePositioning(),this.setOverflowAttributes(e)),this.toolbarAlign(t)}},t.prototype.setOverflowAttributes=function(e){this.createPopupEle(e,[].slice.call(i.i(s.selectAll)("."+h+" ."+c,e)));var t={tabindex:"0",role:"button","aria-haspopup":"true","aria-label":"overflow"};i.i(s.attributes)(this.element.querySelector(".e-hor-nav"),t)},t.prototype.separator=function(){var e=this.element,t=[].slice.call(e.querySelectorAll(".e-separator")),i=e.querySelector(".e-multirow-separator"),s=e.querySelector(".e-extended-separator"),n="MultiRow"===this.overflowMode?i:s;null!==n&&("MultiRow"===this.overflowMode?n.classList.remove("e-multirow-separator"):"Extended"===this.overflowMode&&n.classList.remove("e-extended-separator"));for(var r=0;r<=t.length-1;r++)t[parseInt(r.toString(),10)].offsetLeft<30&&0!==t[parseInt(r.toString(),10)].offsetLeft&&("MultiRow"===this.overflowMode?t[parseInt(r.toString(),10)].classList.add("e-multirow-separator"):"Extended"===this.overflowMode&&t[parseInt(r.toString(),10)].classList.add("e-extended-separator"))},t.prototype.createPopupEle=function(e,t){var n=e.querySelector(".e-hor-nav"),r=this.isVertical;n||this.createPopupIcon(e),n=e.querySelector(".e-hor-nav");var o=r?n.offsetHeight:n.offsetWidth,a=(r?e.offsetHeight:e.offsetWidth)-o;this.element.classList.remove("e-rtl"),i.i(s.setStyleAttribute)(this.element,{direction:"initial"}),this.checkPriority(e,t,a,!0),this.enableRtl&&this.element.classList.add("e-rtl"),this.element.style.removeProperty("direction"),this.createPopup()},t.prototype.pushingPoppedEle=function(e,t,n,r,o){var a=e.element,l=[].slice.call(i.i(s.selectAll)("."+p,a.querySelector("."+h))),d=i.i(s.selectAll)(".e-overflow-show",n),u=0,f=0;l.forEach(function(a,l){d=i.i(s.selectAll)(".e-overflow-show",n),a.classList.contains("e-overflow-show")&&d.length>0?e.tbResize&&d.length>l?(n.insertBefore(a,d[parseInt(l.toString(),10)]),++f):(n.insertBefore(a,n.children[d.length]),++f):a.classList.contains("e-overflow-show")?(n.insertBefore(a,n.firstChild),++f):e.tbResize&&a.classList.contains("e-overflow-hide")&&n.children.length>0&&0===d.length?(n.insertBefore(a,n.firstChild),++f):a.classList.contains("e-overflow-hide")?t.push(a):e.tbResize?(n.insertBefore(a,n.childNodes[u+f]),++u):n.appendChild(a),a.classList.contains("e-separator")?i.i(s.setStyleAttribute)(a,{display:"",height:o+"px"}):i.i(s.setStyleAttribute)(a,{display:"",height:r+"px"})}),t.forEach(function(e){n.appendChild(e)});for(var m=i.i(s.selectAll)("."+c,a.querySelector("."+h)),v=m.length-1;v>=0;v--){var g=m[parseInt(v.toString(),10)];if(!g.classList.contains("e-separator")||"Extended"===this.overflowMode)break;i.i(s.setStyleAttribute)(g,{display:"none"})}},t.prototype.createPopup=function(){var e,t,n=this.element;"Extended"===this.overflowMode&&(t=n.querySelector(".e-separator"),e="auto"===n.style.height||""===n.style.height?null:t&&t.offsetHeight);var r,o=n.querySelector("."+c+":not(.e-separator):not(."+p+")"),a="auto"===n.style.height||""===n.style.height?null:o&&o.offsetHeight,l=[];if(i.i(s.select)("#"+n.id+"_popup.e-toolbar-pop",n))r=i.i(s.select)("#"+n.id+"_popup.e-toolbar-pop",n);else{var d=this.createElement("div",{id:n.id+"_popup",className:"e-toolbar-pop e-toolbar-extended"}),h=this.createElement("div",{id:n.id+"_popup",className:"e-toolbar-pop"});r="Extended"===this.overflowMode?d:h}this.pushingPoppedEle(this,l,r,a,e),this.popupInit(n,r)},t.prototype.getElementOffsetY=function(){return"Extended"===this.overflowMode&&"border-box"===window.getComputedStyle(this.element).getPropertyValue("box-sizing")?this.element.clientHeight:this.element.offsetHeight},t.prototype.popupInit=function(e,t){if(this.popObj){var r=this.popObj.element;i.i(s.setStyleAttribute)(r,{maxHeight:"",display:"block"}),i.i(s.setStyleAttribute)(r,{maxHeight:r.offsetHeight+"px",display:""})}else{e.appendChild(t),this.cssClass&&i.i(s.addClass)([t],this.cssClass.split(" ")),i.i(s.setStyleAttribute)(this.element,{overflow:""});var o=window.getComputedStyle(this.element),a=new n.Popup(null,{relateTo:this.element,offsetY:this.isVertical?0:this.getElementOffsetY(),enableRtl:this.enableRtl,open:this.popupOpen.bind(this),close:this.popupClose.bind(this),collision:{Y:this.enableCollision?"flip":"none"},position:this.enableRtl?{X:"left",Y:"top"}:{X:"right",Y:"top"}});if("Extended"===this.overflowMode&&(a.width=parseFloat(o.width)+2*parseFloat(o.borderRightWidth),a.offsetX=0),a.appendTo(t),s.EventHandler.add(document,"scroll",this.docEvent.bind(this)),s.EventHandler.add(document,"click ",this.docEvent.bind(this)),a.element.style.maxHeight=a.element.offsetHeight+"px",this.isVertical&&(a.element.style.visibility="hidden"),this.isExtendedOpen){var l=this.element.querySelector(".e-hor-nav");l.classList.add("e-nav-active"),i.i(s.classList)(l.firstElementChild,["e-popup-up-icon"],["e-popup-down-icon"]),this.element.querySelector(".e-toolbar-extended").classList.add("e-popup-open")}else a.hide();this.popObj=a}},t.prototype.tbarPopupHandler=function(e){"Extended"===this.overflowMode&&(e?this.add(this.element,"e-tbar-extended"):this.remove(this.element,"e-tbar-extended"))},t.prototype.popupOpen=function(e){var t=this.popObj;this.isVertical||(t.offsetY=this.getElementOffsetY(),t.dataBind());var r=this.popObj.element,o=this.popObj.element.parentElement,a=o.querySelector(".e-hor-nav");a.setAttribute("aria-expanded","true"),i.i(s.setStyleAttribute)(t.element,{height:"auto",maxHeight:""}),t.element.style.maxHeight=t.element.offsetHeight+"px","Extended"===this.overflowMode&&(t.element.style.minHeight="");var l=r.offsetTop+r.offsetHeight+i.i(n.calculatePosition)(o).top,d=a.firstElementChild;a.classList.add("e-nav-active"),i.i(s.classList)(d,["e-popup-up-icon"],["e-popup-down-icon"]),this.tbarPopupHandler(!0);var h=i.i(s.isNullOrUndefined)(window.scrollY)?0:window.scrollY;if(!this.isVertical&&window.innerHeight+h<l&&this.element.offsetTop<r.offsetHeight){var c=r.offsetHeight-(l-window.innerHeight-h+5);t.height=c+"px";for(var p=0;p<=r.childElementCount;p++){var u=r.children[parseInt(p.toString(),10)];if(u.offsetTop+u.offsetHeight>c){c=u.offsetTop;break}}i.i(s.setStyleAttribute)(t.element,{maxHeight:c+"px"})}else if(this.isVertical){var f=this.element.getBoundingClientRect();i.i(s.setStyleAttribute)(t.element,{maxHeight:f.top+this.element.offsetHeight+"px",bottom:0,visibility:""})}if(t){var m=r.getBoundingClientRect();m.right>document.documentElement.clientWidth&&m.width>o.getBoundingClientRect().width&&(t.collision={Y:"none"},t.dataBind()),t.refreshPosition()}},t.prototype.popupClose=function(e){var t=this.element,n=t.querySelector(".e-hor-nav");n.setAttribute("aria-expanded","false");var r=n.firstElementChild;n.classList.remove("e-nav-active"),i.i(s.classList)(r,["e-popup-down-icon"],["e-popup-up-icon"]),this.tbarPopupHandler(!1)},t.prototype.checkPriority=function(e,t,n,r){for(var o,a=this.popupPriCount>0,l=t.length,d=n,h=0,u=0,f=0,m=function(e,t){var i=!1;return t.forEach(function(t){e.classList.contains(t)&&(i=!0)}),i},v=l-1;v>=0;v--){var g=void 0,y=window.getComputedStyle(t[parseInt(v.toString(),10)]);this.isVertical?(g=parseFloat(y.marginTop),g+=parseFloat(y.marginBottom)):(g=parseFloat(y.marginRight),g+=parseFloat(y.marginLeft));var b=t[parseInt(v.toString(),10)]===this.tbarEle[0];b&&(this.tbarEleMrgn=g),o=this.isVertical?t[parseInt(v.toString(),10)].offsetHeight:t[parseInt(v.toString(),10)].offsetWidth;var C=b?o+g:o;if(m(t[parseInt(v.toString(),10)],["e-popup-alone"])&&a&&(t[parseInt(v.toString(),10)].classList.add(p),this.isVertical?i.i(s.setStyleAttribute)(t[parseInt(v.toString(),10)],{display:"none",minHeight:C+"px"}):i.i(s.setStyleAttribute)(t[parseInt(v.toString(),10)],{display:"none",minWidth:C+"px"}),f++),this.isVertical?t[parseInt(v.toString(),10)].offsetTop+t[parseInt(v.toString(),10)].offsetHeight+g>n:t[parseInt(v.toString(),10)].offsetLeft+t[parseInt(v.toString(),10)].offsetWidth+g>n){if(t[parseInt(v.toString(),10)].classList.contains("e-separator")){if("Extended"===this.overflowMode){var S=t[parseInt(v.toString(),10)];m(S,["e-separator","e-ignore"])&&(t[parseInt(v.toString(),10)].classList.add(p),f++),u++}else if("Popup"===this.overflowMode){if(h>0&&u===f){var S=t[v+u+(h-1)];m(S,["e-separator","e-ignore"])&&i.i(s.setStyleAttribute)(S,{display:"none"})}h++,u=0,f=0}}else u++;t[parseInt(v.toString(),10)].classList.contains("e-overflow-show")&&r?n-=(this.isVertical?t[parseInt(v.toString(),10)].offsetHeight:t[parseInt(v.toString(),10)].offsetWidth)+g:m(t[parseInt(v.toString(),10)],["e-separator","e-ignore"])?n-=(this.isVertical?t[parseInt(v.toString(),10)].offsetHeight:t[parseInt(v.toString(),10)].offsetWidth)+g:(t[parseInt(v.toString(),10)].classList.add(p),this.isVertical?i.i(s.setStyleAttribute)(t[parseInt(v.toString(),10)],{display:"none",minHeight:C+"px"}):i.i(s.setStyleAttribute)(t[parseInt(v.toString(),10)],{display:"none",minWidth:C+"px"}),f++)}}if(r){var x=i.i(s.selectAll)("."+c+":not(."+p+")",this.element);this.checkPriority(e,x,d,!1)}},t.prototype.createPopupIcon=function(e){var t=e.id.concat("_nav"),i="e-"+e.id.concat("_nav e-hor-nav");i="Extended"===this.overflowMode?i+" e-expended-nav":i;var n=this.createElement("div",{id:t,className:i});"msie"!==s.Browser.info.name&&"edge"!==s.Browser.info.name||n.classList.add("e-ie-align");var r=this.createElement("div",{className:"e-popup-down-icon e-icons"});n.appendChild(r),n.setAttribute("tabindex","0"),n.setAttribute("role","button"),e.appendChild(n)},t.prototype.tbarPriRef=function(e,t,n,r,o,a,l,d,h){var c=d,u=this.popObj.element,f=i.i(s.selectAll)("."+p+":not(.e-overflow-show)",u).length,m=function(e,t){return e.classList.contains(t)};if(0===i.i(s.selectAll)(".e-toolbar-item:not(.e-separator):not(.e-overflow-show)",e).length){var v=e.children[t-(t-n)-1],g=!i.i(s.isNullOrUndefined)(v)&&m(v,"e-ignore");if(!i.i(s.isNullOrUndefined)(v)&&m(v,"e-separator")&&!i.i(s.isVisible)(v)||g){v.style.display="unset";var y=v.offsetWidth+2*parseFloat(window.getComputedStyle(v).marginRight),b=v.previousElementSibling;a+y<l||o?(e.insertBefore(r,e.children[t+c-(t-n)]),i.i(s.isNullOrUndefined)(b)||(b.style.display="")):(i.i(s.setStyleAttribute)(r,h),b.classList.contains("e-separator")&&(b.style.display="none")),v.style.display=""}else e.insertBefore(r,e.children[t+c-(t-n)])}else e.insertBefore(r,e.children[t+c-f])},t.prototype.popupRefresh=function(e,t){var n=this,r=this.element,o=this.isVertical,a=r.querySelector("."+h),l=r.querySelector(".e-hor-nav");if(!i.i(s.isNullOrUndefined)(l)){a.removeAttribute("style"),e.style.display="block";var d;d=o?r.offsetHeight-(l.offsetHeight+a.offsetHeight):r.offsetWidth-(l.offsetWidth+a.offsetWidth);var c=0;[].slice.call(e.children).forEach(function(e){c+=n.popupEleWidth(e),i.i(s.setStyleAttribute)(e,{position:""})}),d+(o?l.offsetHeight:l.offsetWidth)>c&&0===this.popupPriCount&&(t=!0),this.popupEleRefresh(d,e,t),e.style.display="",0===e.children.length&&l&&this.popObj&&(i.i(s.detach)(l),l=null,this.popObj.destroy(),i.i(s.detach)(this.popObj.element),this.popObj=null)}},t.prototype.ignoreEleFetch=function(e,t){var i=[].slice.call(t.querySelectorAll(".e-ignore")),s=[],n=0;return i.length>0?(i.forEach(function(e){s.push([].slice.call(t.children).indexOf(e))}),s.forEach(function(t){t<=e&&n++}),n):0},t.prototype.checkPopupRefresh=function(e,t){t.style.display="block";var i=this.popupEleWidth(t.firstElementChild);t.firstElementChild.style.removeProperty("Position");var s=e.offsetWidth-e.querySelector(".e-hor-nav").offsetWidth,n=e.querySelector("."+h).offsetWidth;return t.style.removeProperty("display"),s>i+n},t.prototype.popupEleWidth=function(e){e.style.position="absolute";var t=this.isVertical?e.offsetHeight:e.offsetWidth,n=e.querySelector(".e-tbar-btn-text");if(e.classList.contains("e-tbtn-align")||e.classList.contains("e-popup-text")){var r=e.children[0];!i.i(s.isNullOrUndefined)(n)&&e.classList.contains("e-popup-text")?n.style.display="none":!i.i(s.isNullOrUndefined)(n)&&e.classList.contains("e-toolbar-text")&&(n.style.display="block"),r.style.minWidth="0%",t=parseFloat(this.isVertical?e.style.minHeight:e.style.minWidth),r.style.minWidth="",r.style.minHeight="",i.i(s.isNullOrUndefined)(n)||(n.style.display="")}return t},t.prototype.popupEleRefresh=function(e,t,n){for(var r,o,a=this.popupPriCount>0,l=this.tbarEle,d=this.element.querySelector("."+h),c=0,u=this,f=0,m=[].slice.call(t.children);f<m.length;f++){var v=m[f];if("break"===function(t){if(t.classList.contains("e-popup-alone")&&a&&!n)return"continue";var f=u.popupEleWidth(t);if(t===u.tbarEle[0]&&(f+=u.tbarEleMrgn),t.style.position="",!(f<e||n))return"break";var m={minWidth:t.style.minWidth,height:t.style.height,minHeight:t.style.minHeight};if(i.i(s.setStyleAttribute)(t,{minWidth:"",height:"",minHeight:""}),t.classList.contains("e-overflow-hide")||t.classList.remove(p),o=u.tbarEle.indexOf(t),u.tbarAlign){var v=u.items[parseInt(o.toString(),10)].align;o=u.tbarAlgEle[(v+"s").toLowerCase()].indexOf(t),l=u.tbarAlgEle[(v+"s").toLowerCase()],d=u.element.querySelector("."+h+" .e-toolbar-"+v.toLowerCase())}var g=0;"Extended"!==u.overflowMode&&l.slice(0,o).forEach(function(t){(t.classList.contains("e-overflow-show")||t.classList.contains("e-separator"))&&(t.classList.contains("e-separator")&&(t.style.display="",e-=t.offsetWidth),g++)}),c=u.ignoreEleFetch(o,d),t.classList.contains("e-overflow-show")?(u.tbarPriRef(d,o,g,t,n,f,e,c,m),e-=t.offsetWidth):0===o?(d.insertBefore(t,d.firstChild),e-=t.offsetWidth):(r=i.i(s.selectAll)(".e-overflow-show",u.popObj.element).length,d.insertBefore(t,d.children[o+c-r]),e-=t.offsetWidth),t.style.height=""}(v))break}this.checkOverflow(this.element,this.element.getElementsByClassName(h)[0])&&!n&&this.renderOverflowMode()},t.prototype.removePositioning=function(){var e=this.element.querySelector("."+h);if(!i.i(s.isNullOrUndefined)(e)&&e.classList.contains("e-tbar-pos")){this.remove(e,"e-tbar-pos");var t=[].slice.call(e.childNodes);t[1].removeAttribute("style"),t[2].removeAttribute("style")}},t.prototype.refreshPositioning=function(){var e=this.element.querySelector("."+h);this.add(e,"e-tbar-pos"),this.itemPositioning()},t.prototype.itemPositioning=function(){var e,t=this.element.querySelector("."+h);if(!i.i(s.isNullOrUndefined)(t)&&t.classList.contains("e-tbar-pos")){var n,r=this.element.querySelector(".e-hor-nav");if(this.scrollModule){var o=this.isVertical?"e-vscroll-content":"e-hscroll-content";n=[].slice.call(t.querySelector("."+o).children)}else n=[].slice.call(t.childNodes);e=this.isVertical?n[0].offsetHeight+n[2].offsetHeight:n[0].offsetWidth+n[2].offsetWidth;var a=this.isVertical?this.element.offsetHeight:this.element.offsetWidth;if(r){a-=this.isVertical?r.offsetHeight:r.offsetWidth;var l=(this.isVertical?r.offsetHeight:r.offsetWidth)+"px";n[2].removeAttribute("style"),this.isVertical?this.enableRtl?n[2].style.top=l:n[2].style.bottom=l:this.enableRtl?n[2].style.left=l:n[2].style.right=l}if(!(a<=e)){var d=(a-e-(this.isVertical?n[1].offsetHeight:n[1].offsetWidth))/2;n[1].removeAttribute("style");var c=(this.isVertical?n[0].offsetHeight:n[0].offsetWidth)+d+"px";this.isVertical?this.enableRtl?n[1].style.marginBottom=c:n[1].style.marginTop=c:this.enableRtl?n[1].style.marginRight=c:n[1].style.marginLeft=c}}},t.prototype.tbarItemAlign=function(e,t,i){var s=this;if(!e.showAlwaysInPopup||"Show"===e.overflow){var n=[];if(n.push(this.createElement("div",{className:"e-toolbar-left"})),n.push(this.createElement("div",{className:"e-toolbar-center"})),n.push(this.createElement("div",{className:"e-toolbar-right"})),0===i&&"Left"!==e.align)n.forEach(function(e){t.appendChild(e)}),this.tbarAlign=!0,this.add(t,"e-tbar-pos");else if("Left"!==e.align){var r=t.childNodes,o=n[0];[].slice.call(r).forEach(function(e){s.tbarAlgEle.lefts.push(e),o.appendChild(e)}),t.appendChild(o),t.appendChild(n[1]),t.appendChild(n[2]),this.tbarAlign=!0,this.add(t,"e-tbar-pos")}}},t.prototype.ctrlTemplate=function(){var e=this;this.ctrlTem=this.trgtEle.cloneNode(!0),this.add(this.trgtEle,h),this.tbarEle=[],[].slice.call(this.trgtEle.children).forEach(function(t){"DIV"===t.tagName&&(e.tbarEle.push(t),i.i(s.isNullOrUndefined)(t.firstElementChild)||t.firstElementChild.setAttribute("aria-disabled","false"),e.add(t,c))})},t.prototype.renderItems=function(){var e=this.element,t=this.items;if(null!=this.trgtEle)this.ctrlTemplate();else if(e&&t.length>0){var i=void 0;e&&e.children.length>0&&(i=e.querySelector("."+h)),i||(i=this.createElement("div",{className:h})),this.itemsAlign(t,i),e.appendChild(i)}},t.prototype.setAttr=function(e,t){for(var i,s=Object.keys(e),n=0;n<s.length;n++)i=s[parseInt(n.toString(),10)],"class"===i?this.add(t,e[""+i]):t.setAttribute(i,e[""+i])},t.prototype.enableItems=function(e,t){var n,r=e,o=r.length;i.i(s.isNullOrUndefined)(t)&&(t=!0);var a=function(e,t){e?(t.classList.remove("e-overlay"),i.i(s.isNullOrUndefined)(t.firstElementChild)||t.firstElementChild.setAttribute("aria-disabled","false")):(t.classList.add("e-overlay"),i.i(s.isNullOrUndefined)(t.firstElementChild)||t.firstElementChild.setAttribute("aria-disabled","true"))};if(!i.i(s.isNullOrUndefined)(o)&&o>=1){for(var l=0,d=[].slice.call(r);l<o;l++){var h=d[parseInt(l.toString(),10)];if("number"==typeof h){if(n=this.getElementByIndex(h),i.i(s.isNullOrUndefined)(n))return;r[parseInt(l.toString(),10)]=n}else n=h;a(t,n)}t?i.i(s.removeClass)(r,"e-overlay"):i.i(s.addClass)(r,"e-overlay")}else{if("number"==typeof r){if(n=this.getElementByIndex(r),i.i(s.isNullOrUndefined)(n))return}else n=e;a(t,n)}},t.prototype.getElementByIndex=function(e){return this.tbarEle[parseInt(e.toString(),10)]?this.tbarEle[parseInt(e.toString(),10)]:null},t.prototype.addItems=function(e,t){var n;this.extendedOpen();var r=this.element.querySelector("."+h);if(i.i(s.isNullOrUndefined)(r))return void this.itemsRerender(e);var o,a="Left";i.i(s.isNullOrUndefined)(t)&&(t=0),e.forEach(function(e){i.i(s.isNullOrUndefined)(e.align)||"Left"===e.align||"Left"!==a||(a=e.align)});for(var l=0,d=e;l<d.length;l++){var p=d[l];if(i.i(s.isNullOrUndefined)(p.type)&&(p.type="Button"),n=i.i(s.selectAll)("."+c,this.element),p.align=a,o=this.renderSubComponent(p,t),this.tbarEle.length>=t&&n.length>=0){i.i(s.isNullOrUndefined)(this.scrollModule)&&this.destroyMode();var u="L"===p.align[0]?0:"C"===p.align[0]?1:2,f=void 0;this.tbarAlign||"Left"===a?this.tbarAlign?(f=i.i(s.closest)(n[0],"."+h).children[parseInt(u.toString(),10)],f.insertBefore(o,f.children[parseInt(t.toString(),10)]),this.tbarAlgEle[(p.align+"s").toLowerCase()].splice(t,0,o),this.refreshPositioning()):0===n.length?(n=i.i(s.selectAll)("."+h,this.element),n[0].appendChild(o)):n[0].parentNode.insertBefore(o,n[parseInt(t.toString(),10)]):(this.tbarItemAlign(p,r,1),this.tbarAlign=!0,f=i.i(s.closest)(n[0],"."+h).children[parseInt(u.toString(),10)],f.appendChild(o),this.tbarAlgEle[(p.align+"s").toLowerCase()].push(o),this.refreshPositioning()),this.items.splice(t,0,p),p.template&&this.tbarEle.splice(this.tbarEle.length-1,1),this.tbarEle.splice(t,0,o),t++,this.offsetWid=r.offsetWidth}}r.style.width="",this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()},t.prototype.removeItems=function(e){var t,n=e,r=[].slice.call(i.i(s.selectAll)("."+c,this.element));if("number"==typeof n)t=parseInt(e.toString(),10),this.removeItemByIndex(t,r);else if(n&&n.length>1)for(var o=0,a=[].slice.call(n);o<a.length;o++){var l=a[o];t=this.tbarEle.indexOf(l),this.removeItemByIndex(t,r),r=i.i(s.selectAll)("."+c,this.element)}else{var l=n&&n.length&&1===n.length?n[0]:e;t=r.indexOf(l),this.removeItemByIndex(t,r)}this.resize()},t.prototype.removeItemByIndex=function(e,t){if(this.tbarEle[parseInt(e.toString(),10)]&&t[parseInt(e.toString(),10)]){var n=this.tbarEle.indexOf(t[parseInt(e.toString(),10)]);if(this.tbarAlign){var r=this.tbarAlgEle[(this.items[parseInt(n.toString(),10)].align+"s").toLowerCase()].indexOf(this.tbarEle[parseInt(n.toString(),10)]);this.tbarAlgEle[(this.items[parseInt(n.toString(),10)].align+"s").toLowerCase()].splice(parseInt(r.toString(),10),1)}this.isReact&&this.clearToolbarTemplate(t[parseInt(e.toString(),10)]);var o=t[parseInt(e.toString(),10)].querySelector(".e-control.e-btn");i.i(s.isNullOrUndefined)(o)||i.i(s.isNullOrUndefined)(o.ej2_instances[0])||o.ej2_instances[0].isDestroyed||o.ej2_instances[0].destroy(),i.i(s.detach)(t[parseInt(e.toString(),10)]),this.items.splice(n,1),this.tbarEle.splice(n,1)}},t.prototype.templateRender=function(e,t,n,r){var o,a=n.type,l=e;if("object"==typeof e&&(o="function"==typeof l.appendTo),"string"!=typeof e&&o){if("Input"===a){var d=this.createElement("input");n.id?d.id=n.id:d.id=i.i(s.getUniqueID)("tbr-ipt"),t.appendChild(d),l.appendTo(d)}}else{var h=void 0,c=e,p=new RegExp(/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i);c="string"==typeof e?e.trim():e;try{if("object"!=typeof e||i.i(s.isNullOrUndefined)(e.tagName))if("string"==typeof e&&p.test(c))t.innerHTML=c;else if(document.querySelectorAll(c).length){var d=document.querySelector(c),u=d.outerHTML.trim();t.appendChild(d),d.style.display="",i.i(s.isNullOrUndefined)(u)||this.tempId.push(c)}else h=i.i(s.compile)(c);else t.appendChild(e)}catch(e){h=i.i(s.compile)(c)}var f=void 0;if(!i.i(s.isNullOrUndefined)(h)){var m=this.element.id+r+"_template";f=h({},this,"template",m,this.isStringTemplate,void 0,void 0,this.root)}!i.i(s.isNullOrUndefined)(f)&&f.length>0&&[].slice.call(f).forEach(function(e){i.i(s.isNullOrUndefined)(e.tagName)||(e.style.display=""),t.appendChild(e)})}this.add(t,"e-template");var v=t.firstElementChild;i.i(s.isNullOrUndefined)(v)||(v.setAttribute("tabindex",i.i(s.isNullOrUndefined)(v.getAttribute("tabIndex"))?"-1":this.getDataTabindex(v)),v.setAttribute("data-tabindex",i.i(s.isNullOrUndefined)(v.getAttribute("tabIndex"))?"-1":this.getDataTabindex(v))),this.tbarEle.push(t)},t.prototype.buttonRendering=function(e,t){var n=this.createElement("button",{className:"e-tbar-btn"});n.setAttribute("type","button");var o,a,l=e.text;e.id?n.id=e.id:n.id=i.i(s.getUniqueID)("e-tbr-btn");var d=this.createElement("span",{className:"e-tbar-btn-text"});l?(d.innerHTML=this.enableHtmlSanitizer?s.SanitizeHtmlHelper.sanitize(l):l,n.appendChild(d),n.classList.add("e-tbtn-txt")):this.add(t,"e-tbtn-align"),(e.prefixIcon||e.suffixIcon)&&(e.prefixIcon&&e.suffixIcon||e.prefixIcon?(o=e.prefixIcon+" e-icons",a="Left"):(o=e.suffixIcon+" e-icons",a="Right"));var h=new r.Button({iconCss:o,iconPosition:a});return h.createElement=this.createElement,h.appendTo(n),e.width&&i.i(s.setStyleAttribute)(n,{width:i.i(s.formatUnit)(e.width)}),n},t.prototype.renderSubComponent=function(e,t){var n,r=this.createElement("div",{className:c}),o=this.createElement("div",{innerHTML:this.enableHtmlSanitizer&&!i.i(s.isNullOrUndefined)(e.tooltipText)?s.SanitizeHtmlHelper.sanitize(e.tooltipText):e.tooltipText});if(this.tbarEle||(this.tbarEle=[]),e.htmlAttributes&&this.setAttr(e.htmlAttributes,r),e.tooltipText&&r.setAttribute("title",o.textContent),e.cssClass&&(r.className=r.className+" "+e.cssClass),e.template)this.templateRender(e.template,r,e,t);else switch(e.type){case"Button":n=this.buttonRendering(e,r),n.setAttribute("tabindex",i.i(s.isNullOrUndefined)(e.tabIndex)?"-1":e.tabIndex.toString()),n.setAttribute("data-tabindex",i.i(s.isNullOrUndefined)(e.tabIndex)?"-1":e.tabIndex.toString()),n.setAttribute("aria-label",e.text||e.tooltipText),n.setAttribute("aria-disabled","false"),r.appendChild(n),r.addEventListener("click",this.itemClick.bind(this));break;case"Separator":this.add(r,"e-separator")}if(e.showTextOn){var a=e.showTextOn;"Toolbar"===a?(this.add(r,"e-toolbar-text"),this.add(r,"e-tbtn-align")):"Overflow"===a&&this.add(r,"e-popup-text")}if(e.overflow){var l=e.overflow;"Show"===l?this.add(r,"e-overflow-show"):"Hide"===l&&(r.classList.contains("e-separator")||this.add(r,"e-overflow-hide"))}return"Show"!==e.overflow&&e.showAlwaysInPopup&&!r.classList.contains("e-separator")&&(this.add(r,"e-popup-alone"),this.popupPriCount++),e.disabled&&this.add(r,"e-overlay"),!1===e.visible&&this.add(r,"e-hidden"),r},t.prototype.getDataTabindex=function(e){return i.i(s.isNullOrUndefined)(e.getAttribute("data-tabindex"))?"-1":e.getAttribute("data-tabindex")},t.prototype.itemClick=function(e){this.activeEleSwitch(e.currentTarget)},t.prototype.activeEleSwitch=function(e){this.activeEleRemove(e.firstElementChild),this.activeEle.focus()},t.prototype.activeEleRemove=function(e){if(i.i(s.isNullOrUndefined)(this.activeEle)||this.activeEle.setAttribute("tabindex",this.getDataTabindex(this.activeEle)),this.activeEle=e,"-1"===this.getDataTabindex(this.activeEle))if(i.i(s.isNullOrUndefined)(this.trgtEle)&&!e.parentElement.classList.contains("e-template"))this.updateTabIndex("-1"),e.removeAttribute("tabindex");else{var t=parseInt(this.getDataTabindex(this.activeEle))+1;this.activeEle.setAttribute("tabindex",t.toString())}},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.getModuleName=function(){return"toolbar"},t.prototype.itemsRerender=function(e){this.items=this.tbarItemsCol,(this.isReact||this.isAngular)&&this.clearTemplate(),this.destroyMode(),this.destroyItems(),this.items=e,this.tbarItemsCol=this.items,this.renderItems(),this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()},t.prototype.resize=function(){var e=this.element;this.tbResize=!0,this.tbarAlign&&this.itemPositioning(),this.popObj&&"Popup"===this.overflowMode&&this.popObj.hide();var t=this.checkOverflow(e,e.getElementsByClassName(h)[0]);if(!t){this.destroyScroll();var n=e.querySelector("."+h);i.i(s.isNullOrUndefined)(n)||(this.remove(n,"e-multirow-pos"),this.tbarAlign&&this.add(n,"e-tbar-pos"))}if(!t||!this.scrollModule||this.offsetWid!==e.offsetWidth){if((this.offsetWid>e.offsetWidth||t)&&this.renderOverflowMode(),this.popObj){if("Extended"===this.overflowMode){var r=window.getComputedStyle(this.element);this.popObj.width=parseFloat(r.width)+2*parseFloat(r.borderRightWidth)}this.tbarAlign&&this.removePositioning(),this.popupRefresh(this.popObj.element,!1),this.tbarAlign&&this.refreshPositioning()}this.element.querySelector(".e-hscroll-bar")&&(this.scrollStep=this.element.querySelector(".e-hscroll-bar").offsetWidth),this.offsetWid=e.offsetWidth,this.tbResize=!1,this.separator()}},t.prototype.orientationChange=function(){var e=this;setTimeout(function(){e.resize()},500)},t.prototype.extendedOpen=function(){var e=this.element.querySelector(".e-toolbar-extended");"Extended"===this.overflowMode&&e&&(this.isExtendedOpen=e.classList.contains("e-popup-open"))},t.prototype.updateHideEleTabIndex=function(e,t,i,s,n){i&&(s=n.indexOf(e));for(var r=n[++s];r;){if(!this.eleContains(r)){var o=r.firstElementChild.getAttribute("data-tabindex");t&&"-1"===o?r.firstElementChild.setAttribute("tabindex","0"):o!==r.firstElementChild.getAttribute("tabindex")&&r.firstElementChild.setAttribute("tabindex",o);break}r=n[++s]}},t.prototype.clearToolbarTemplate=function(e){if(this.registeredTemplate&&this.registeredTemplate.template)for(var t=this.registeredTemplate,n=0;n<t.template.length;n++){var r=t.template[parseInt(n.toString(),10)].rootNodes[0],o=i.i(s.closest)(r,"."+c);if(!i.i(s.isNullOrUndefined)(o)&&o===e){this.clearTemplate(["template"],[t.template[parseInt(n.toString(),10)]]);break}}else if(this.portals&&this.portals.length>0)for(var a=this.portals,n=0;n<a.length;n++){var l=a[parseInt(n.toString(),10)],o=i.i(s.closest)(l.containerInfo,"."+c);if(!i.i(s.isNullOrUndefined)(o)&&o===e){this.clearTemplate(["template"],n);break}}},t.prototype.onPropertyChanged=function(e,t){var n=this.element;n.offsetWidth;this.extendedOpen();for(var r=0,o=Object.keys(e);r<o.length;r++){switch(o[r]){case"items":if(e.items instanceof Array&&t.items instanceof Array)this.itemsRerender(e.items);else for(var a=Object.keys(e.items),l=0;l<a.length;l++){var d=parseInt(Object.keys(e.items)[parseInt(l.toString(),10)],10),p=Object.keys(e.items[parseInt(d.toString(),10)])[0],u=Object(e.items[parseInt(d.toString(),10)])[""+p];if(this.tbarAlign||"align"===p){this.refresh(),this.trigger("created");break}var f="showAlwaysInPopup"===p&&!u,m="overflow"===p&&0!==this.popupPriCount;(f||this.items[parseInt(d.toString(),10)].showAlwaysInPopup&&m)&&--this.popupPriCount,i.i(s.isNullOrUndefined)(this.scrollModule)&&this.destroyMode();var v=[].slice.call(i.i(s.selectAll)("."+h+" ."+c,n));this.isReact&&this.items[parseInt(d.toString(),10)].template&&this.clearToolbarTemplate(v[parseInt(d.toString(),10)]),i.i(s.detach)(v[parseInt(d.toString(),10)]),this.tbarEle.splice(d,1),this.addItems([this.items[parseInt(d.toString(),10)]],d),this.items.splice(d,1),this.items[parseInt(d.toString(),10)].template&&this.tbarEle.splice(this.items.length,1)}break;case"width":i.i(s.setStyleAttribute)(n,{width:i.i(s.formatUnit)(e.width)}),this.refreshOverflow();break;case"height":i.i(s.setStyleAttribute)(this.element,{height:i.i(s.formatUnit)(e.height)});break;case"overflowMode":this.destroyMode(),this.renderOverflowMode(),this.enableRtl&&this.add(n,"e-rtl"),this.refreshOverflow();break;case"enableRtl":e.enableRtl?this.add(n,"e-rtl"):this.remove(n,"e-rtl"),i.i(s.isNullOrUndefined)(this.scrollModule)||(e.enableRtl?this.add(this.scrollModule.element,"e-rtl"):this.remove(this.scrollModule.element,"e-rtl")),i.i(s.isNullOrUndefined)(this.popObj)||(e.enableRtl?this.add(this.popObj.element,"e-rtl"):this.remove(this.popObj.element,"e-rtl")),this.tbarAlign&&this.itemPositioning();break;case"scrollStep":this.scrollModule&&(this.scrollModule.scrollStep=this.scrollStep);break;case"enableCollision":this.popObj&&(this.popObj.collision={Y:this.enableCollision?"flip":"none"});break;case"cssClass":t.cssClass&&i.i(s.removeClass)([this.element],t.cssClass.split(" ")),e.cssClass&&i.i(s.addClass)([this.element],e.cssClass.split(" "));break;case"allowKeyboard":this.unwireKeyboardEvent(),e.allowKeyboard&&this.wireKeyboardEvent()}}},t.prototype.hideItem=function(e,t){var n,r="object"==typeof e,o=e;if(r||!i.i(s.isNullOrUndefined)(o)){var a=[].slice.call(i.i(s.selectAll)("."+c,this.element));if(r)n=e;else if(this.tbarEle[parseInt(o.toString(),10)]){var l=[].slice.call(i.i(s.selectAll)("."+c,this.element));n=l[parseInt(o.toString(),10)]}n&&(t?(n.classList.add("e-hidden"),n.classList.contains("e-separator")||(i.i(s.isNullOrUndefined)(n.firstElementChild.getAttribute("tabindex"))||"-1"!==n.firstElementChild.getAttribute("tabindex"))&&this.updateHideEleTabIndex(n,t,r,o,a)):(n.classList.remove("e-hidden"),n.classList.contains("e-separator")||this.updateHideEleTabIndex(n,t,r,o,a)),this.refreshOverflow())}},d([i.i(s.Collection)([],u)],t.prototype,"items",void 0),d([i.i(s.Property)("auto")],t.prototype,"width",void 0),d([i.i(s.Property)("auto")],t.prototype,"height",void 0),d([i.i(s.Property)("")],t.prototype,"cssClass",void 0),d([i.i(s.Property)("Scrollable")],t.prototype,"overflowMode",void 0),d([i.i(s.Property)()],t.prototype,"scrollStep",void 0),d([i.i(s.Property)(!0)],t.prototype,"enableCollision",void 0),d([i.i(s.Property)(!0)],t.prototype,"enableHtmlSanitizer",void 0),d([i.i(s.Property)(!0)],t.prototype,"allowKeyboard",void 0),d([i.i(s.Event)()],t.prototype,"clicked",void 0),d([i.i(s.Event)()],t.prototype,"created",void 0),d([i.i(s.Event)()],t.prototype,"destroyed",void 0),d([i.i(s.Event)()],t.prototype,"beforeCreate",void 0),t=d([s.NotifyPropertyChanges],t)}(s.Component)},function(e,t,i){"use strict";var s=i(23);i.d(t,"a",function(){return s.a}),i.d(t,"b",function(){return s.b}),i.d(t,"c",function(){return s.c}),i.d(t,"d",function(){return s.d})},function(e,t,i){"use strict";var s=i(24);i.d(t,"a",function(){return s.a})},function(e,t,i){"use strict";var s=i(25);i.d(t,"a",function(){return s.a}),i.d(t,"b",function(){return s.b}),i.d(t,"c",function(){return s.c})},function(e,t,i){"use strict";var s=i(26);i.d(t,"a",function(){return s.a}),i.d(t,"b",function(){return s.b}),i.d(t,"c",function(){return s.c})},function(e,t,i){"use strict";var s=i(2);i.d(t,"d",function(){return s.a});var n=i(4);i.d(t,"e",function(){return n.a});var r=i(7);i.d(t,"f",function(){return r.a}),i.d(t,"g",function(){return r.b});var o=i(3);i.d(t,"a",function(){return o.d}),i.d(t,"b",function(){return o.c}),i.d(t,"c",function(){return o.a})},function(e,t,i){"use strict";var s=i(27);i.d(t,"a",function(){return s.a})},function(e,t,i){"use strict";var s=i(29);i.d(t,"a",function(){return s.a})},function(e,t,i){"use strict";var s=i(30);i.d(t,"a",function(){return s.a})},function(e,t,i){"use strict";var s=i(8);i.d(t,"a",function(){return s.a}),i.d(t,"b",function(){return s.c}),i.d(t,"c",function(){return s.d}),i.d(t,"d",function(){return s.b})},function(e,t,i){"use strict";var s=i(31);i.d(t,"a",function(){return s.a}),i.d(t,"b",function(){return s.b}),i.d(t,"c",function(){return s.c}),i.d(t,"d",function(){return s.d})},function(e,t,i){"use strict";var s=i(32);i.d(t,"a",function(){return s.a}),i.d(t,"b",function(){return s.b}),i.d(t,"c",function(){return s.c}),i.d(t,"d",function(){return s.d}),i.d(t,"e",function(){return s.e})},function(e,t,i){"use strict";var s=i(9);i.d(t,"a",function(){return s.b}),i.d(t,"b",function(){return s.a})},function(e,t,i){"use strict";var s=i(33);i.d(t,"a",function(){return s.a}),i.d(t,"b",function(){return s.b}),i.d(t,"c",function(){return s.c}),i.d(t,"d",function(){return s.d})},function(e,t,i){"use strict";i.d(t,"a",function(){return p}),i.d(t,"b",function(){return u}),i.d(t,"c",function(){return f}),i.d(t,"d",function(){return m});var s=i(0),n=(i.n(s),this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}()),r=this&&this.__decorate||function(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},o="e-accordion",a="e-acrdn-item",l="e-acrdn-header",d="e-acrdn-header-content",h="e-acrdn-panel",c="e-acrdn-content",p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),r([i.i(s.Property)("SlideDown")],t.prototype,"effect",void 0),r([i.i(s.Property)(400)],t.prototype,"duration",void 0),r([i.i(s.Property)("linear")],t.prototype,"easing",void 0),t}(s.ChildProperty),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),r([i.i(s.Complex)({effect:"SlideUp",duration:400,easing:"linear"},p)],t.prototype,"collapse",void 0),r([i.i(s.Complex)({effect:"SlideDown",duration:400,easing:"linear"},p)],t.prototype,"expand",void 0),t}(s.ChildProperty),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),r([i.i(s.Property)(null)],t.prototype,"content",void 0),r([i.i(s.Property)(null)],t.prototype,"header",void 0),r([i.i(s.Property)(null)],t.prototype,"cssClass",void 0),r([i.i(s.Property)(null)],t.prototype,"iconCss",void 0),r([i.i(s.Property)(!1)],t.prototype,"expanded",void 0),r([i.i(s.Property)(!0)],t.prototype,"visible",void 0),r([i.i(s.Property)(!1)],t.prototype,"disabled",void 0),r([i.i(s.Property)()],t.prototype,"id",void 0),t}(s.ChildProperty),m=function(e){function t(t,i){var s=e.call(this,t,i)||this;return s.keyConfigs={moveUp:"uparrow",moveDown:"downarrow",enter:"enter",space:"space",home:"home",end:"end"},s}return n(t,e),t.prototype.destroy=function(){(this.isReact||this.isAngular||this.isVue)&&this.clearTemplate();var t=this.element;if(e.prototype.destroy.call(this),this.unWireEvents(),this.isDestroy=!0,this.restoreContent(null),[].slice.call(t.children).forEach(function(e){t.removeChild(e)}),this.trgtEle){for(this.trgtEle=null;this.ctrlTem.firstElementChild;)t.appendChild(this.ctrlTem.firstElementChild);this.ctrlTem=null}t.classList.remove("e-acrdn-root"),t.removeAttribute("style"),this.element.removeAttribute("data-ripple"),!this.isNested&&s.isRippleEnabled&&this.removeRippleEffect()},t.prototype.preRender=function(){var e=i.i(s.closest)(this.element,"."+h);this.isNested=!1,this.templateEle=[],this.isDestroy||(this.isDestroy=!1),e&&e.firstElementChild&&e.firstElementChild.firstElementChild?e.firstElementChild.firstElementChild.classList.contains(o)&&(e.classList.add("e-nested"),this.isNested=!0):this.element.classList.add("e-acrdn-root"),this.enableRtl&&this.add(this.element,"e-rtl")},t.prototype.add=function(e,t){e.classList.add(t)},t.prototype.remove=function(e,t){e.classList.remove(t)},t.prototype.render=function(){this.initializeHeaderTemplate(),this.initializeItemTemplate(),this.initialize(),this.renderControl(),this.wireEvents(),this.renderComplete()},t.prototype.initialize=function(){var e=i.i(s.formatUnit)(this.width),t=i.i(s.formatUnit)(this.height);i.i(s.setStyleAttribute)(this.element,{width:e,height:t}),i.i(s.isNullOrUndefined)(this.initExpand)&&(this.initExpand=[]),this.expandedIndices.length>0&&(this.initExpand=this.expandedIndices)},t.prototype.renderControl=function(){this.trgtEle=this.element.children.length>0?i.i(s.select)("div",this.element):null,this.renderItems(),this.initItemExpand()},t.prototype.wireFocusEvents=function(){for(var e=[].slice.call(this.element.querySelectorAll("."+a)),t=0,i=e;t<i.length;t++){var n=i[t],r=n.querySelector("."+l);n.childElementCount>0&&r&&(s.EventHandler.clearEvents(r),s.EventHandler.add(r,"focus",this.focusIn,this),s.EventHandler.add(r,"blur",this.focusOut,this))}},t.prototype.unWireEvents=function(){s.EventHandler.remove(this.element,"click",this.clickHandler),i.i(s.isNullOrUndefined)(this.keyModule)||this.keyModule.destroy()},t.prototype.wireEvents=function(){s.EventHandler.add(this.element,"click",this.clickHandler,this),this.isNested||this.isDestroy||(this.removeRippleEffect=i.i(s.rippleEffect)(this.element,{selector:"."+l})),this.isNested||(this.keyModule=new s.KeyboardEvents(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}))},t.prototype.templateParser=function(e){if(e)try{return"function"!=typeof e&&document.querySelectorAll(e).length?i.i(s.compile)(document.querySelector(e).innerHTML.trim()):i.i(s.compile)(e)}catch(t){return i.i(s.compile)(e)}},t.prototype.initializeHeaderTemplate=function(){this.headerTemplate&&(this.headerTemplateFn=this.templateParser(this.headerTemplate))},t.prototype.initializeItemTemplate=function(){this.itemTemplate&&(this.itemTemplateFn=this.templateParser(this.itemTemplate))},t.prototype.getHeaderTemplate=function(){return this.headerTemplateFn},t.prototype.getItemTemplate=function(){return this.itemTemplateFn},t.prototype.focusIn=function(e){e.target.parentElement.classList.add("e-item-focus")},t.prototype.focusOut=function(e){e.target.parentElement.classList.remove("e-item-focus")},t.prototype.ctrlTemplate=function(){this.ctrlTem=this.element.cloneNode(!0);var e,t=i.i(s.select)(".e-accordion-container",this.element);e=t?t.children:this.element.children;var n=[];[].slice.call(e).forEach(function(e){n.push({header:e.childElementCount>0&&e.children[0]?e.children[0]:"",content:e.childElementCount>1&&e.children[1]?e.children[1]:""}),e.parentNode.removeChild(e)}),t&&this.element.removeChild(t),this.setProperties({items:n},!0)},t.prototype.toggleIconGenerate=function(){var e=this.createElement("div",{className:"e-toggle-icon"}),t=this.createElement("span",{className:"e-tgl-collapse-icon e-icons"});return e.appendChild(t),e},t.prototype.initItemExpand=function(){var e=this.initExpand.length;if(0!==e){if("Single"===this.expandMode)this.expandItem(!0,this.initExpand[e-1]);else for(var t=0;t<e;t++)this.expandItem(!0,this.initExpand[parseInt(t.toString(),10)]);this.isReact&&this.renderReactTemplates()}},t.prototype.renderItems=function(){var e,t,n=this,r=this.element;if(i.i(s.isNullOrUndefined)(this.trgtEle)||this.ctrlTemplate(),this.dataSource.length>0)this.dataSource.forEach(function(e,i){t=n.renderInnerItem(e,i),r.appendChild(t),t.childElementCount>0&&(s.EventHandler.add(t.querySelector("."+l),"focus",n.focusIn,n),s.EventHandler.add(t.querySelector("."+l),"blur",n.focusOut,n))});else{var o=this.items;r&&o.length>0&&o.forEach(function(t,i){e=n.renderInnerItem(t,i),r.appendChild(e),e.childElementCount>0&&(s.EventHandler.add(e.querySelector("."+l),"focus",n.focusIn,n),s.EventHandler.add(e.querySelector("."+l),"blur",n.focusOut,n))})}this.isReact&&this.renderReactTemplates()},t.prototype.clickHandler=function(e){var t,n=e.target,r=this.getItems(),d={};if(i.i(s.closest)(n,"."+o)===this.element){n.classList.add("e-target");var c=i.i(s.closest)(n,"."+a),p=i.i(s.closest)(n,"."+l),u=i.i(s.closest)(n,"."+h);c&&(i.i(s.isNullOrUndefined)(p)||i.i(s.isNullOrUndefined)(u))&&(p=c.children[0],u=c.children[1]),p&&(t=i.i(s.select)(".e-toggle-icon",p));var f;p?f=i.i(s.closest)(p,"."+a):u&&(f=i.i(s.closest)(u,"."+a));var m=this.getIndexByItem(c);f&&(d.item=r[this.getIndexByItem(f)]),d.originalEvent=e,i.i(s.isNullOrUndefined)(t)||!(c.childElementCount<=1)||!i.i(s.isNullOrUndefined)(u)&&i.i(s.isNullOrUndefined)(i.i(s.select)(".e-acrdn-header .e-toggle-icon",f))?this.afterContentRender(n,d,c,p,u,f):(c.appendChild(this.contentRendering(m)),this.ariaAttrUpdate(c),this.afterContentRender(n,d,c,p,u,f)),this.isReact&&this.renderReactTemplates()}},t.prototype.afterContentRender=function(e,t,n,r,a,l){var d=this,p=[];this.trigger("clicked",t);var u=a&&!i.i(s.isNullOrUndefined)(i.i(s.select)(".e-target",a)),f=a&&!i.i(s.isNullOrUndefined)(i.i(s.select)("."+o,a))&&i.i(s.isNullOrUndefined)(i.i(s.closest)(e,".e-acrdn-panel .e-accordion")),m=a&&i.i(s.isNullOrUndefined)(i.i(s.select)("."+o,a))||!(i.i(s.closest)(e,"."+o)===this.element);if(u=u&&(f||m),e.classList.remove("e-target"),!(e.classList.contains(h)||e.classList.contains(c)||u)){var v=this.element.querySelector(".e-accordion-container"),g=v?v.children:this.element.children;[].slice.call(g).forEach(function(e){e.classList.contains("e-active")&&p.push(e)});var y=[].slice.call(this.element.querySelectorAll(".e-acrdn-item [e-animate]"));if(y.length>0)for(var b=0,C=y;b<C.length;b++){var S=C[b];p.push(S.parentElement)}var x=-1!==p.indexOf(l)&&"true"===a.getAttribute("e-animate"),I=!1;if(!i.i(s.isNullOrUndefined)(n)&&!i.i(s.isNullOrUndefined)(r)){var E=i.i(s.select)("."+h,n),N=i.i(s.closest)(n,".e-acrdn-root"),w=N.querySelector(".e-expand-state");if(i.i(s.isNullOrUndefined)(E))return;I=w===n,!i.i(s.isVisible)(E)||x&&!l.classList.contains("e-selected")?(p.length>0&&"Single"===this.expandMode&&!x&&p.forEach(function(e){d.collapse(i.i(s.select)("."+h,e)),e.classList.remove("e-expand-state")}),this.expand(E)):this.collapse(E),i.i(s.isNullOrUndefined)(w)||I||w.classList.remove("e-expand-state")}}},t.prototype.eleMoveFocus=function(e,t,n){var r,o=i.i(s.closest)(n,"."+a);n===t?r=("moveUp"===e?n.lastElementChild:n).querySelector("."+l):n.classList.contains(l)&&(o="moveUp"===e?o.previousElementSibling:o.nextElementSibling)&&(r=i.i(s.select)("."+l,o)),r&&r.focus()},t.prototype.keyActionHandler=function(e){var t=e.target,n=i.i(s.closest)(e.target,l);if(!i.i(s.isNullOrUndefined)(n)||t.classList.contains(o)||t.classList.contains(l)){var r,a,d=this.element;switch(e.action){case"moveUp":case"moveDown":this.eleMoveFocus(e.action,d,t);break;case"space":case"enter":a=t.nextElementSibling,!i.i(s.isNullOrUndefined)(a)&&a.classList.contains(h)?"true"!==a.getAttribute("e-animate")&&t.click():t.click(),e.preventDefault();break;case"home":case"end":r="home"===e.action?d.firstElementChild.children[0]:d.lastElementChild.children[0],r.focus(),e.preventDefault()}}},t.prototype.headerEleGenerate=function(){var e=this.createElement("div",{className:l,id:i.i(s.getUniqueID)("acrdn_header")}),t={tabindex:"0",role:"button","aria-disabled":"false","aria-expanded":"false"};return i.i(s.attributes)(e,t),e},t.prototype.renderInnerItem=function(e,t){var n=this.createElement("div",{className:a,id:e.id||i.i(s.getUniqueID)("acrdn_item")});if(this.headerTemplate){var r=this.headerEleGenerate(),o=this.createElement("div",{className:d});return r.appendChild(o),i.i(s.append)(this.getHeaderTemplate()(e,this,"headerTemplate",this.element.id+"_headerTemplate",!1),o),n.appendChild(r),r.appendChild(this.toggleIconGenerate()),this.add(n,"e-select"),n}if(e.header&&this.angularnativeCondiCheck(e,"header")){this.enableHtmlSanitizer&&"string"==typeof e.header&&(e.header=s.SanitizeHtmlHelper.sanitize(e.header));var r=this.headerEleGenerate(),o=this.createElement("div",{className:d});r.appendChild(o),r.appendChild(this.fetchElement(o,e.header,t)),n.appendChild(r)}var h=i.i(s.select)("."+l,n);if(!e.expanded||i.i(s.isNullOrUndefined)(t)||this.enablePersistence||-1===this.initExpand.indexOf(t)&&this.initExpand.push(t),e.cssClass&&i.i(s.addClass)([n],e.cssClass.split(" ")),e.disabled&&i.i(s.addClass)([n],"e-overlay"),!1===e.visible&&i.i(s.addClass)([n],"e-hide"),e.iconCss){var c=this.createElement("div",{className:"e-acrdn-header-icon"}),p=this.createElement("span",{className:e.iconCss+" e-icons"});c.appendChild(p),i.i(s.isNullOrUndefined)(h)?(h=this.headerEleGenerate(),h.appendChild(c),n.appendChild(h)):h.insertBefore(c,h.childNodes[0])}if(e.content&&this.angularnativeCondiCheck(e,"content")){var u=this.toggleIconGenerate();i.i(s.isNullOrUndefined)(h)&&(h=this.headerEleGenerate(),n.appendChild(h)),h.appendChild(u),this.add(n,"e-select")}return n},t.prototype.angularnativeCondiCheck=function(e,t){var n="content"===t?e.content:e.header,r=n;if(this.isAngular&&!i.i(s.isNullOrUndefined)(r.elementRef)){var o=r.elementRef.nativeElement.data;if(i.i(s.isNullOrUndefined)(o)||""===o||-1===o.indexOf("bindings="))return!0;var a=JSON.parse(r.elementRef.nativeElement.data.replace("bindings=",""));return!(!i.i(s.isNullOrUndefined)(a)&&"false"===a["ng-reflect-ng-if"])}return!0},t.prototype.fetchElement=function(e,t,n){var r,o;try{if(document.querySelectorAll(t).length&&"Button"!==t){var a=document.querySelector(t);o=a.outerHTML.trim(),e.appendChild(a),a.style.display=""}else r=i.i(s.compile)(t)}catch(n){"string"==typeof t?e.innerHTML=s.SanitizeHtmlHelper.sanitize(t):t instanceof HTMLElement?(e.appendChild(t),this.trgtEle&&(e.firstElementChild.style.display="")):r=i.i(s.compile)(t)}var l;if(!i.i(s.isNullOrUndefined)(r)){this.isReact&&this.renderReactTemplates();var h=void 0,p=void 0;e.classList.contains(d)?(h=this.element.id+n+"_header",p="header"):e.classList.contains(c)&&(h=this.element.id+n+"_content",p="content"),l=r({},this,p,h,this.isStringTemplate)}return i.i(s.isNullOrUndefined)(l)||!(l.length>0)||i.i(s.isNullOrUndefined)(l[0].tagName)&&1===l.length?0===e.childElementCount&&(e.innerHTML=s.SanitizeHtmlHelper.sanitize(t)):[].slice.call(l).forEach(function(t){i.i(s.isNullOrUndefined)(t.tagName)||(t.style.display=""),e.appendChild(t)}),i.i(s.isNullOrUndefined)(o)||-1===this.templateEle.indexOf(t)&&this.templateEle.push(t),e},t.prototype.ariaAttrUpdate=function(e){var t=i.i(s.select)("."+l,e),n=i.i(s.select)("."+h,e);t.setAttribute("aria-controls",n.id),n.setAttribute("aria-labelledby",t.id),n.setAttribute("role","region")},t.prototype.contentRendering=function(e){var t=this.createElement("div",{className:h+" e-content-hide",id:i.i(s.getUniqueID)("acrdn_panel")});i.i(s.attributes)(t,{"aria-hidden":"true"});var n=this.createElement("div",{className:c});return this.dataSource.length>0?(this.isReact&&this.renderReactTemplates(),i.i(s.append)(this.getItemTemplate()(this.dataSource[parseInt(e.toString(),10)],this,"itemTemplate",this.element.id+"_itemTemplate",!1),n),t.appendChild(n)):(this.enableHtmlSanitizer&&(this.items[parseInt(e.toString(),10)].content,!0)&&(this.items[parseInt(e.toString(),10)].content=s.SanitizeHtmlHelper.sanitize(this.items[parseInt(e.toString(),10)].content)),t.appendChild(this.fetchElement(n,this.items[parseInt(e.toString(),10)].content,e))),t},t.prototype.expand=function(e){var t=this,n=this.getItems(),r=i.i(s.closest)(e,"."+a);if(!(i.i(s.isNullOrUndefined)(e)||i.i(s.isVisible)(e)&&"true"!==e.getAttribute("e-animate")||r.classList.contains("e-overlay"))){var o=i.i(s.closest)(r,".e-acrdn-root"),l=o.querySelector(".e-expand-state"),d={name:this.animation.expand.effect,duration:this.animation.expand.duration,timingFunction:this.animation.expand.easing},c=i.i(s.select)(".e-toggle-icon",r).firstElementChild,p={element:r,item:n[this.getIndexByItem(r)],index:this.getIndexByItem(r),content:r.querySelector("."+h),isExpanded:!0};this.trigger("expanding",p,function(n){n.cancel||(c.classList.add("e-toggle-animation"),t.expandedItemsPush(r),i.i(s.isNullOrUndefined)(l)||l.classList.remove("e-expand-state"),r.classList.add("e-expand-state"),"None"===d.name&&"Enable"!==s.animationMode||"Disable"===s.animationMode?(t.expandProgress("begin",c,e,r,n),t.expandProgress("end",c,e,r,n)):t.expandAnimation(d.name,c,e,r,d,n))})}},t.prototype.expandAnimation=function(e,t,n,r,o,a){var l=this;"None"===e&&"Enable"===s.animationMode&&(e="SlideDown",o.name="SlideDown");var d;this.lastActiveItemId=r.id,"SlideDown"===e?(o.begin=function(){l.expandProgress("begin",t,n,r,a),n.style.position="absolute",d=r.offsetHeight,n.style.maxHeight=n.offsetHeight+"px",r.style.maxHeight=""},o.progress=function(){r.style.minHeight=d+n.offsetHeight+"px"},o.end=function(){i.i(s.setStyleAttribute)(n,{position:"",maxHeight:""}),r.style.minHeight="",l.expandProgress("end",t,n,r,a)}):(o.begin=function(){l.expandProgress("begin",t,n,r,a)},o.end=function(){l.expandProgress("end",t,n,r,a)}),new s.Animation(o).animate(n)},t.prototype.expandProgress=function(e,t,n,r,o){this.remove(n,"e-content-hide"),this.add(r,"e-selected"),this.add(t,"e-expand-icon"),"end"===e&&(this.add(r,"e-active"),n.setAttribute("aria-hidden","false"),i.i(s.attributes)(n.previousElementSibling,{"aria-expanded":"true"}),t.classList.remove("e-toggle-animation"),this.trigger("expanded",o))},t.prototype.expandedItemsPush=function(e){var t=this.getIndexByItem(e);if(-1===this.expandedIndices.indexOf(t)){var i=[].slice.call(this.expandedIndices);i.push(t),this.setProperties({expandedIndices:i},!0)}},t.prototype.getIndexByItem=function(e){var t=this.getItemElements();return[].slice.call(t).indexOf(e)},t.prototype.getItemElements=function(){var e=[],t=this.element.children;return[].slice.call(t).forEach(function(t){t.classList.contains(a)&&e.push(t)}),e},t.prototype.expandedItemsPop=function(e){var t=this.getIndexByItem(e),i=[].slice.call(this.expandedIndices);i.splice(i.indexOf(t),1),this.setProperties({expandedIndices:i},!0)},t.prototype.collapse=function(e){var t=this,n=this.getItems(),r=i.i(s.closest)(e,"."+a);if(!i.i(s.isNullOrUndefined)(e)&&i.i(s.isVisible)(e)&&!r.classList.contains("e-overlay")){var o={name:this.animation.collapse.effect,duration:this.animation.collapse.duration,timingFunction:this.animation.collapse.easing},l=i.i(s.select)(".e-toggle-icon",r).firstElementChild,d={element:r,item:n[this.getIndexByItem(r)],index:this.getIndexByItem(r),content:r.querySelector("."+h),isExpanded:!1};this.trigger("expanding",d,function(i){i.cancel||(t.expandedItemsPop(r),r.classList.remove("e-expand-state"),l.classList.add("e-toggle-animation"),"None"===o.name&&"Enable"!==s.animationMode||"Disable"===s.animationMode?(t.collapseProgress("begin",l,e,r,i),t.collapseProgress("end",l,e,r,i)):t.collapseAnimation(o.name,e,r,l,o,i))})}},t.prototype.collapseAnimation=function(e,t,n,r,o,a){var l=this;"None"===e&&"Enable"===s.animationMode&&(e="SlideUp",o.name="SlideUp");var d,h,c,p;this.lastActiveItemId=n.id,"SlideUp"===e?(o.begin=function(){c=n.offsetHeight,n.style.minHeight=c+"px",t.style.position="absolute",d=n.offsetHeight,h=t.offsetHeight,t.style.maxHeight=h+"px",l.collapseProgress("begin",r,t,n,a)},o.progress=function(){(p=d-(h-t.offsetHeight))<c&&(n.style.minHeight=p+"px")},o.end=function(){t.style.display="none",l.collapseProgress("end",r,t,n,a),n.style.minHeight="",i.i(s.setStyleAttribute)(t,{position:"",maxHeight:"",display:""})}):(o.begin=function(){l.collapseProgress("begin",r,t,n,a)},o.end=function(){l.collapseProgress("end",r,t,n,a)}),new s.Animation(o).animate(t)},t.prototype.collapseProgress=function(e,t,n,r,o){this.remove(t,"e-expand-icon"),this.remove(r,"e-selected"),"end"===e&&(this.add(n,"e-content-hide"),t.classList.remove("e-toggle-animation"),this.remove(r,"e-active"),n.setAttribute("aria-hidden","true"),i.i(s.attributes)(n.previousElementSibling,{"aria-expanded":"false"}),this.trigger("expanded",o))},t.prototype.getModuleName=function(){return"accordion"},t.prototype.getItems=function(){return this.itemTemplate&&this.headerTemplate?this.dataSource:this.items},t.prototype.addItem=function(e,t){var n=this,r=this.element,o=this.getItemElements(),a=this.getItems();if(i.i(s.isNullOrUndefined)(t)&&(t=a.length),r.childElementCount>=t){(e instanceof Array?e:[e]).forEach(function(e,i){var d=t+i;a.splice(d,0,e);var h=n.renderInnerItem(e,d);r.childElementCount===d?r.appendChild(h):r.insertBefore(h,o[parseInt(d.toString(),10)]),s.EventHandler.add(h.querySelector("."+l),"focus",n.focusIn,n),s.EventHandler.add(h.querySelector("."+l),"blur",n.focusOut,n),n.expandedIndices=[],n.expandedItemRefresh(),e&&e.expanded&&n.expandItem(!0,d)})}this.isReact&&this.renderReactTemplates()},t.prototype.expandedItemRefresh=function(){var e=this,t=this.getItemElements();[].slice.call(t).forEach(function(t){t.classList.contains("e-selected")&&e.expandedItemsPush(t)})},t.prototype.removeItem=function(e){if(this.isReact||this.isAngular){var t=i.i(s.selectAll)("."+a,this.element)[parseInt(e.toString(),10)],n=i.i(s.select)("."+d,t),r=i.i(s.select)("."+c,t);this.clearAccordionTemplate(n,this.dataSource.length>0?"headerTemplate":"header",d),this.clearAccordionTemplate(r,this.dataSource.length>0?"itemTemplate":"content",c)}var o=this.getItemElements(),l=o[parseInt(e.toString(),10)],h=this.getItems();i.i(s.isNullOrUndefined)(l)||(this.restoreContent(e),i.i(s.detach)(l),h.splice(e,1),this.expandedIndices=[],this.expandedItemRefresh())},t.prototype.select=function(e){var t=this.getItemElements(),n=t[parseInt(e.toString(),10)];i.i(s.isNullOrUndefined)(n)||i.i(s.isNullOrUndefined)(i.i(s.select)("."+l,n))||n.children[0].focus()},t.prototype.hideItem=function(e,t){var n=this.getItemElements(),r=n[parseInt(e.toString(),10)];i.i(s.isNullOrUndefined)(r)||(i.i(s.isNullOrUndefined)(t)&&(t=!0),t?this.add(r,"e-hide"):this.remove(r,"e-hide"))},t.prototype.enableItem=function(e,t){var n=this.getItemElements(),r=n[parseInt(e.toString(),10)];if(!i.i(s.isNullOrUndefined)(r)){var o=r.firstElementChild;t?(this.remove(r,"e-overlay"),i.i(s.attributes)(o,{tabindex:"0","aria-disabled":"false"}),o.focus()):(r.classList.contains("e-active")&&(this.expandItem(!1,e),this.eleMoveFocus("movedown",this.element,o)),this.add(r,"e-overlay"),o.setAttribute("aria-disabled","true"),o.removeAttribute("tabindex"))}},t.prototype.expandItem=function(e,t){var n=this,r=this.getItemElements();if(i.i(s.isNullOrUndefined)(t))if("Single"===this.expandMode&&e){var o=r[r.length-1];this.itemExpand(e,o,this.getIndexByItem(o))}else{var a=i.i(s.select)("#"+this.lastActiveItemId,this.element);[].slice.call(r).forEach(function(t){n.itemExpand(e,t,n.getIndexByItem(t)),t.classList.remove("e-expand-state")});var l=i.i(s.select)(".e-expand-state",this.element);l&&l.classList.remove("e-expand-state"),a&&a.classList.add("e-expand-state")}else{var o=r[parseInt(t.toString(),10)];if(i.i(s.isNullOrUndefined)(o)||!o.classList.contains("e-select")||o.classList.contains("e-active")&&e)return;"Single"===this.expandMode&&this.expandItem(!1),this.itemExpand(e,o,t)}},t.prototype.itemExpand=function(e,t,n){var r=t.children[1];t.classList.contains("e-overlay")||(i.i(s.isNullOrUndefined)(r)&&e?(r=this.contentRendering(n),t.appendChild(r),this.ariaAttrUpdate(t),this.expand(r)):i.i(s.isNullOrUndefined)(r)||(e?this.expand(r):this.collapse(r)),this.isReact&&this.renderReactTemplates())},t.prototype.destroyItems=function(){this.restoreContent(null),(this.isReact||this.isAngular||this.isVue)&&this.clearTemplate(),[].slice.call(this.element.querySelectorAll("."+a)).forEach(function(e){i.i(s.detach)(e)})},t.prototype.restoreContent=function(e){var t;t=i.i(s.isNullOrUndefined)(e)?this.element:this.element.querySelectorAll("."+a)[parseInt(e.toString(),10)],this.templateEle.forEach(function(e){i.i(s.isNullOrUndefined)(t.querySelector(e))||(document.body.appendChild(t.querySelector(e)).style.display="none")})},t.prototype.updateItem=function(e,t){if(!i.i(s.isNullOrUndefined)(e)){var n=this.getItems(),r=n[parseInt(t.toString(),10)];n.splice(t,1),this.restoreContent(t);var o=i.i(s.select)("."+d,e),a=i.i(s.select)("."+c,e);(this.isReact||this.isAngular)&&(this.clearAccordionTemplate(o,"header",d),this.clearAccordionTemplate(a,"content",c)),i.i(s.detach)(e),this.addItem(r,t)}},t.prototype.setTemplate=function(e,t,i){this.fetchElement(t,e,i),this.isReact&&this.renderReactTemplates()},t.prototype.clearAccordionTemplate=function(e,t,n){if(this.registeredTemplate&&this.registeredTemplate[""+t])for(var r=this.registeredTemplate,o=0;o<r[""+t].length;o++){var a=r[""+t][parseInt(o.toString(),10)].rootNodes[0],l=i.i(s.closest)(a,"."+n);if(!i.i(s.isNullOrUndefined)(l)&&l===e||i.i(s.isNullOrUndefined)(a.parentNode)){this.clearTemplate([t],[r[""+t][parseInt(o.toString(),10)]]);break}}else if(this.portals&&this.portals.length>0)for(var d=this.portals,o=0;o<d.length;o++){var h=d[parseInt(o.toString(),10)],l=i.i(s.closest)(h.containerInfo,"."+n);if(!i.i(s.isNullOrUndefined)(l)&&l===e){this.clearTemplate([t],o);break}}},t.prototype.getPersistData=function(){var e=["expandedIndices"];return this.addOnPersist(e)},t.prototype.onPropertyChanged=function(e,t){for(var n=this.element,r=!1,o=0,l=Object.keys(e);o<l.length;o++){switch(l[o]){case"items":if(e.items instanceof Array&&t.items instanceof Array)r=!0;else for(var d=Object.keys(e.items),p=0;p<d.length;p++)for(var u=parseInt(Object.keys(e.items)[parseInt(p.toString(),10)],10),f=Object.keys(e.items[parseInt(u.toString(),10)]),m=0;m<f.length;m++){var v=i.i(s.selectAll)("."+a,this.element)[parseInt(u.toString(),10)],g=Object(t.items[parseInt(u.toString(),10)])[""+f[parseInt(m.toString(),10)]],y=Object(e.items[parseInt(u.toString(),10)])[""+f[parseInt(m.toString(),10)]],b=f[parseInt(m.toString(),10)],C=i.i(s.select)("."+c,v);if(("header"===b||"iconCss"===b||"expanded"===b||"content"===b&&""===g)&&this.updateItem(v,u),"cssClass"!==f[parseInt(m.toString(),10)]||i.i(s.isNullOrUndefined)(v)||(g&&i.i(s.removeClass)([v],g.split(" ")),y&&i.i(s.addClass)([v],y.split(" "))),"visible"!==f[parseInt(m.toString(),10)]||i.i(s.isNullOrUndefined)(v)||(!1===Object(e.items[parseInt(u.toString(),10)])[""+f[parseInt(m.toString(),10)]]?v.classList.add("e-hide"):v.classList.remove("e-hide")),"disabled"!==f[parseInt(m.toString(),10)]||i.i(s.isNullOrUndefined)(v)||this.enableItem(u,!y),f.indexOf("header")<0&&"content"===f[parseInt(m.toString(),10)]&&!i.i(s.isNullOrUndefined)(v)&&2===v.children.length)if("function"==typeof y){(this.isAngular||this.isReact)&&this.clearAccordionTemplate(C,f[parseInt(m.toString(),10)],c);var S=v.querySelector("."+c);S.innerHTML="",this.setTemplate(y,S,u)}else v.classList.contains("e-selected")&&this.expandItem(!1,u),i.i(s.detach)(v.querySelector("."+h))}break;case"dataSource":case"expandedIndices":null===this.expandedIndices&&(this.expandedIndices=[]),r=!0;break;case"headerTemplate":this.initializeHeaderTemplate(),r=!0;break;case"itemTemplate":this.initializeItemTemplate(),r=!0;break;case"enableRtl":e.enableRtl?this.add(n,"e-rtl"):this.remove(n,"e-rtl");break;case"height":i.i(s.setStyleAttribute)(this.element,{height:i.i(s.formatUnit)(e.height)});break;case"width":i.i(s.setStyleAttribute)(this.element,{width:i.i(s.formatUnit)(e.width)});break;case"expandMode":"Single"===e.expandMode&&this.expandedIndices.length>1&&this.expandItem(!1)}}r&&(this.initExpand=[],this.expandedIndices.length>0&&(this.initExpand=this.expandedIndices),this.destroyItems(),this.renderItems(),this.initItemExpand())},r([i.i(s.Collection)([],f)],t.prototype,"items",void 0),r([i.i(s.Property)([])],t.prototype,"dataSource",void 0),r([i.i(s.Property)()],t.prototype,"itemTemplate",void 0),r([i.i(s.Property)()],t.prototype,"headerTemplate",void 0),r([i.i(s.Property)("100%")],t.prototype,"width",void 0),r([i.i(s.Property)("auto")],t.prototype,"height",void 0),r([i.i(s.Property)([])],t.prototype,"expandedIndices",void 0),r([i.i(s.Property)("Multiple")],t.prototype,"expandMode",void 0),r([i.i(s.Property)(!1)],t.prototype,"enableHtmlSanitizer",void 0),r([i.i(s.Complex)({},u)],t.prototype,"animation",void 0),r([i.i(s.Event)()],t.prototype,"clicked",void 0),r([i.i(s.Event)()],t.prototype,"expanding",void 0),r([i.i(s.Event)()],t.prototype,"expanded",void 0),r([i.i(s.Event)()],t.prototype,"created",void 0),r([i.i(s.Event)()],t.prototype,"destroyed",void 0),t=r([s.NotifyPropertyChanges],t)}(s.Component)},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var s=i(0),n=(i.n(s),this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}()),r=this&&this.__decorate||function(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},o=function(e){function t(t,i){return e.call(this,t,i)||this}return n(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this),this.element.classList.remove("e-appbar"),this.element.removeAttribute("style"),this.element.removeAttribute("role")},t.prototype.getModuleName=function(){return"appbar"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.preRender=function(){},t.prototype.render=function(){this.element.classList.add("e-appbar"),"HEADER"!==this.element.tagName&&this.element.setAttribute("role","header"),this.cssClass&&i.i(s.addClass)([this.element],this.cssClass.split(" ")),"Bottom"===this.position&&this.element.classList.add("e-horizontal-bottom"),this.isSticky&&this.element.classList.add("e-sticky"),this.enableRtl&&this.element.classList.add("e-rtl"),this.setHeightMode(),this.setColorMode(),i.i(s.isNullOrUndefined)(this.htmlAttributes)||this.setHtmlAttributes(this.htmlAttributes,this.element)},t.prototype.onPropertyChanged=function(e,t){for(var n=0,r=Object.keys(e);n<r.length;n++){switch(r[n]){case"mode":i.i(s.removeClass)([this.element],["e-dense","e-prominent"]),this.setHeightMode();break;case"position":"Bottom"===this.position?i.i(s.addClass)([this.element],"e-horizontal-bottom"):i.i(s.removeClass)([this.element],"e-horizontal-bottom");break;case"cssClass":t.cssClass&&i.i(s.removeClass)([this.element],t.cssClass.split(" ")),e.cssClass&&i.i(s.addClass)([this.element],e.cssClass.split(" "));break;case"isSticky":this.isSticky?i.i(s.addClass)([this.element],"e-sticky"):i.i(s.removeClass)([this.element],"e-sticky");break;case"htmlAttributes":if(!i.i(s.isNullOrUndefined)(this.htmlAttributes)){if(!i.i(s.isNullOrUndefined)(t.htmlAttributes))for(var o=Object.keys(t.htmlAttributes),a=0,l=o;a<l.length;a++){var d=l[a];"class"===d?i.i(s.removeClass)([this.element],t.htmlAttributes[""+d]):this.element.removeAttribute(d)}this.setHtmlAttributes(e.htmlAttributes,this.element)}break;case"colorMode":i.i(s.removeClass)([this.element],["e-dark","e-primary","e-inherit","e-light"]),this.setColorMode();break;case"enableRtl":this.enableRtl?i.i(s.addClass)([this.element],"e-rtl"):i.i(s.removeClass)([this.element],"e-rtl")}}},t.prototype.setHtmlAttributes=function(e,t){for(var n=Object.keys(e),r=0,o=n;r<o.length;r++){var a=o[r];"class"===a?i.i(s.addClass)([t],e[""+a]):t.setAttribute(a,e[""+a])}},t.prototype.setHeightMode=function(){"Prominent"===this.mode?this.element.classList.add("e-prominent"):"Dense"===this.mode&&this.element.classList.add("e-dense")},t.prototype.setColorMode=function(){switch(this.colorMode){case"Light":this.element.classList.add("e-light");break;case"Dark":this.element.classList.add("e-dark");break;case"Primary":this.element.classList.add("e-primary");break;case"Inherit":this.element.classList.add("e-inherit")}},r([i.i(s.Property)("Regular")],t.prototype,"mode",void 0),r([i.i(s.Property)("Top")],t.prototype,"position",void 0),r([i.i(s.Property)()],t.prototype,"cssClass",void 0),r([i.i(s.Property)(!1)],t.prototype,"isSticky",void 0),r([i.i(s.Property)()],t.prototype,"htmlAttributes",void 0),r([i.i(s.Property)("Light")],t.prototype,"colorMode",void 0),r([i.i(s.Event)()],t.prototype,"created",void 0),r([i.i(s.Event)()],t.prototype,"destroyed",void 0),t=r([s.NotifyPropertyChanges],t)}(s.Component)},function(e,t,i){"use strict";i.d(t,"a",function(){return s}),i.d(t,"b",function(){return u}),i.d(t,"c",function(){return f});var s,n=i(0),r=(i.n(n),i(6)),o=(i.n(r),i(1)),a=(i.n(o),this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}()),l=this&&this.__decorate||function(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},d="e-icon-right",h="e-breadcrumb-menu",c="e-breadcrumb-wrap-mode",p="e-breadcrumb-scroll-mode";!function(e){e.Hidden="Hidden",e.Collapsed="Collapsed",e.Menu="Menu",e.Wrap="Wrap",e.Scroll="Scroll",e.None="None"}(s||(s={}));var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),l([i.i(n.Property)("")],t.prototype,"text",void 0),l([i.i(n.Property)("")],t.prototype,"url",void 0),l([i.i(n.Property)(null)],t.prototype,"iconCss",void 0),l([i.i(n.Property)(!1)],t.prototype,"disabled",void 0),t}(n.ChildProperty),f=function(e){function t(t,i){var s=e.call(this,t,i)||this;return s.isPopupCreated=!1,s}return a(t,e),t.prototype.preRender=function(){},t.prototype.render=function(){this.initialize(),this.renderItems(this.items),this.wireEvents()},t.prototype.initialize=function(){this._maxItems=this.maxItems,i.i(n.isNullOrUndefined)(this.element.getAttribute("aria-label"))&&this.element.setAttribute("aria-label","breadcrumb"),this.cssClass&&i.i(n.addClass)([this.element],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.enableRtl&&this.element.classList.add("e-rtl"),this.disabled&&(this.element.classList.add("e-disabled"),this.element.setAttribute("aria-disabled","true")),"Wrap"===this.overflowMode?this.element.classList.add(c):"Scroll"===this.overflowMode&&this.element.classList.add(p),this.initItems(),this.initPvtProps()},t.prototype.initPvtProps=function(){"Hidden"===this.overflowMode&&this._maxItems>0&&(this.endIndex=this.getEndIndex(),this.startIndex=this.endIndex+1-(this._maxItems-1)),"Menu"===this.overflowMode&&(this._maxItems>=0?(this.startIndex=this._maxItems>1?1:0,this.endIndex=this.getEndIndex(),this.popupUl=this.createElement("ul",{attrs:{TABINDEX:"0",role:"menu"}})):this.startIndex=this.endIndex=null)},t.prototype.getEndIndex=function(){var e,t=this;return this.activeItem?this.items.forEach(function(i,s){i.url!==t.activeItem&&i.text!==t.activeItem||(e=s)}):e=this.items.length-1,e},t.prototype.initItems=function(){if(!this.items.length){var e=void 0,t=void 0,i=[];if(this.url){var s=new URL(this.url,window.location.origin);e=s.origin+"/",t=s.href.split(e)[1].split("/")}else e=window.location.origin+"/",t=window.location.href.split(e)[1].split("/");i.push({iconCss:"e-icons e-home",url:e});for(var n=0;n<t.length;n++)t[n]&&(i.push({text:t[n],url:e+t[n]}),e+=t[n]+"/");this.setProperties({items:i},!0)}},t.prototype.renderItems=function(e){var t,s,o=this,a=this.element.classList.contains(d),l=e.length;if(l){var h,c=void 0,p=void 0,u=0,f=void 0,m=2*l-1,v=!1,g=this.createElement("ol",{className:"Wrap"===this.overflowMode?"e-breadcrumb-wrapped-ol":""}),y=this.createElement("ol",{className:"Wrap"===this.overflowMode?"e-breadcrumb-first-ol":""}),b=this.hasField(e,"iconCss"),C="Collapsed"===this.overflowMode&&this._maxItems>0&&l>this._maxItems&&!this.isExpanded,S="Hidden"===this.overflowMode&&this._maxItems>0;"Menu"===this.overflowMode&&this.popupUl&&(this.popupUl.innerHTML="");for(var x={moduleName:this.getModuleName(),showIcon:b,itemNavigable:!0,itemCreated:function(e){var t=e.curData.isLastItem;t&&e.item.children.length&&!o.itemTemplate&&(delete e.curData.isLastItem,h||o.enableActiveItemNavigation||(e.item.innerHTML=o.createElement("span",{className:"e-breadcrumb-text",innerHTML:e.item.children[0].innerHTML}).outerHTML)),!e.curData.iconCss||e.curData.text||o.itemTemplate||e.item.classList.add("e-icon-item"),S&&e.item.setAttribute("item-index",u.toString());var s={item:i.i(n.extend)({},e.curData.properties?e.curData.properties:e.curData),element:e.item,cancel:!1};o.trigger("beforeItemRender",s),v=s.cancel;var r=a||s.element.classList.contains(d);r&&e.curData.iconCss&&!o.itemTemplate&&e.item.querySelector(".e-anchor-wrap").appendChild(e.item.querySelector(".e-breadcrumb-icon")),s.item.disabled&&(e.item.setAttribute("aria-disabled","true"),e.item.classList.add("e-disabled")),(s.item.disabled||o.disabled)&&e.item.children.length&&!o.itemTemplate&&e.item.children[0].setAttribute("tabindex","-1"),e.curData.isEmptyUrl&&(e.item.children[0].removeAttribute("href"),!(!t||t&&o.enableActiveItemNavigation)||s.item.disabled||o.disabled||(e.item.children[0].setAttribute("tabindex","0"),n.EventHandler.add(e.item.children[0],"keydown",o.keyDownHandler,o))),e.item.removeAttribute("role"),t&&e.item.setAttribute("data-active-item",""),o.itemTemplate||o.beforeItemRenderChanges(e.curData,s.item,e.item,r)}},I=0;I<m;I%2&&u++,I++)if(c=this.activeItem&&(this.activeItem===e[u].url||this.activeItem===e[u].text),!(C&&I>1&&I<m-2)&&(!S||!(u<this.startIndex||u>this.endIndex)||I%2&&u===this.startIndex-1||0===u)){I%2?(f=this.createElement("div",{className:"e-breadcrumb-item-wrapper"}),this.separatorTemplate&&"/"===this.separatorTemplate||i.i(n.isNullOrUndefined)(this.separatorTemplate)?x.template=i.i(n.initializeCSPTemplate)(function(){return"/"}):x.template=this.separatorTemplate,x.itemClass="e-breadcrumb-separator",s=!1,t=[{previousItem:e[u],nextItem:e[u+1]}]):(x.itemClass="",this.itemTemplate?(x.template=this.itemTemplate,s=!1):s=!0,t=[i.i(n.extend)({},e[u].properties?e[u].properties:e[u])],t[0].url||this.itemTemplate||(t=[i.i(n.extend)({},t[0],{isEmptyUrl:!0,url:"#"})]),p=(S||"Menu"===this.overflowMode)&&u===this.endIndex,((I===m-1||p)&&!this.itemTemplate||c)&&(t[0].isLastItem=!0));var E=g,N=this.startIndex+this.endIndex-this._maxItems;if("Menu"===this.overflowMode&&(u>=this.startIndex&&u<=N&&(!(I%2)||!(u===N))&&this.endIndex>=this._maxItems&&this._maxItems>0||0===this._maxItems)){if(I%2)continue;E=this.popupUl,p&&(h=!0)}else"Wrap"===this.overflowMode&&(E=0===I?y:f);var w=r.ListBase.createList(this.createElement,t,x,s,this).childNodes;if(v){if(S||C||"Menu"===this.overflowMode||"Wrap"===this.overflowMode)return e.splice(u,1),this.initPvtProps(),this.reRenderItems();(I===m-1||p)&&i.i(n.remove)(E.lastElementChild)}else i.i(n.append)(w,E);if("Wrap"===this.overflowMode&&0!==I&&I%2==0&&g.appendChild(f),C&&1===I){var O=this.createElement("li",{className:"e-icons e-breadcrumb-collapsed",attrs:{TABINDEX:"0"}});n.EventHandler.add(O,"keyup",this.expandHandler,this),g.appendChild(O)}if("Menu"===this.overflowMode&&this.startIndex===I&&this.endIndex>=this._maxItems&&this._maxItems>=0){var L=this.getMenuElement();n.EventHandler.add(L,"keyup",this.keyDownHandler,this),g.appendChild(L)}if(c||p)break;v&&I++}this.isReact&&this.renderReactTemplates(),"Wrap"===this.overflowMode&&this.element.appendChild(y),this.element.appendChild(g),this.calculateMaxItems()}},t.prototype.calculateMaxItems=function(){if("Hidden"===this.overflowMode||"Collapsed"===this.overflowMode||"Menu"===this.overflowMode){var e=void 0,t=this.element.offsetWidth,s=[].slice.call(this.element.children[0].children).reverse(),r="Menu"===this.overflowMode?0:s[s.length-1].offsetWidth+(s[s.length-2]?s[s.length-2].offsetWidth:0);if("Menu"===this.overflowMode){var o=this.getMenuElement();this.element.appendChild(o),r+=o.offsetWidth,i.i(n.remove)(o)}for(var a=0;a<s.length-2;a++){if(r>t){if(e=Math.ceil((a-1)/2)+("Menu"===this.overflowMode&&a<=2?0:1),(this.maxItems>e&&!(this.maxItems>-1&&-1===e)||-1===this.maxItems)&&this._maxItems!==e)return this._maxItems=e,this.initPvtProps(),this.reRenderItems();break}if("Menu"===this.overflowMode&&2===a&&(r+=s[s.length-1].offsetWidth+s[s.length-2].offsetWidth)>t)return this._maxItems=1,this.initPvtProps(),this.reRenderItems();"Menu"===this.overflowMode&&s[a].classList.contains(h)||(r+=s[a].offsetWidth)}}else if(("Wrap"===this.overflowMode||"Scroll"===this.overflowMode)&&this._maxItems>0){var t=0,s=this.element.querySelectorAll(".e-breadcrumb-item");if(s.length>this._maxItems+this._maxItems-1){for(var a="Wrap"===this.overflowMode?1:0;a<this._maxItems+this._maxItems-1;a++)t+=s[a].offsetWidth;t=t+5+2*parseInt(getComputedStyle(this.element.children[0]).paddingLeft,10),"Wrap"===this.overflowMode?this.element.querySelector(".e-breadcrumb-wrapped-ol").style.width=t+"px":this.element.style.width=t+"px"}}},t.prototype.hasField=function(e,t){for(var i=0,s=e.length;i<s;i++)if(e[i][""+t])return!0;return!1},t.prototype.getMenuElement=function(){return this.createElement("li",{className:"e-icons e-breadcrumb-menu",attrs:{TABINDEX:"0"}})},t.prototype.beforeItemRenderChanges=function(e,t,s,r){var o=s.querySelector(".e-anchor-wrap");if(o&&o.parentElement.setAttribute("aria-label","home"),t.text!==e.text&&o.childNodes.forEach(function(e){e.nodeType===Node.TEXT_NODE&&(e.textContent=t.text)}),t.iconCss!==e.iconCss&&o){var a=s.querySelector(".e-breadcrumb-icon");if(a)t.iconCss?(i.i(n.removeClass)([a],e.iconCss.split(" ")),i.i(n.addClass)([a],t.iconCss.split(" "))):i.i(n.remove)(a);else if(t.iconCss){var l=this.createElement("span",{className:"e-breadcrumb-icon "+t.iconCss});r?i.i(n.append)([l],o):o.insertBefore(l,o.childNodes[0])}}if(t.url!==e.url&&this.enableNavigation){var d=s.querySelector("a.e-breadcrumb-text");d&&(t.url?d.setAttribute("href",t.url):d.removeAttribute("href"))}},t.prototype.reRenderItems=function(){this.element.innerHTML="",this.renderItems(this.items)},t.prototype.clickHandler=function(e){var t=i.i(n.closest)(e.target,".e-breadcrumb-item:not(.e-breadcrumb-separator)");if(this.enableNavigation||e.preventDefault(),t&&(i.i(n.closest)(e.target,".e-breadcrumb-text")||this.itemTemplate)){var s=void 0;s="Wrap"===this.overflowMode?[].slice.call(this.element.querySelectorAll(".e-breadcrumb-item")).indexOf(t):[].slice.call(t.parentElement.children).indexOf(t),"Menu"===this.overflowMode?i.i(n.closest)(e.target,".e-breadcrumb-popup")?(s+=this.startIndex,this.endIndex=s,"keydown"===e.type&&this.documentClickHandler(e)):this.element.querySelector("."+h)?s>[].slice.call(this.element.children[0].children).indexOf(this.element.querySelector("."+h))?(s+=2*this.popupUl.childElementCount-2,s=Math.floor(s/2),this.endIndex=s):this.startIndex=this.endIndex=s:(s=Math.floor(s/2),this.startIndex=this.endIndex=s):s=Math.floor(s/2),"Hidden"===this.overflowMode&&this._maxItems>0&&0!==this.endIndex&&(s=parseInt(t.getAttribute("item-index"),10),this.startIndex>1&&(this.startIndex-=this.endIndex-s),this.endIndex=s),this.trigger("itemClick",{element:t,item:this.items[s],event:e}),this.activeItem=this.items[s].url||this.items[s].text,this.dataBind()}e.target.classList.contains("e-breadcrumb-collapsed")&&(this.isExpanded=!0,this.reRenderItems()),e.target.classList.contains(h)&&!this.isPopupCreated&&this.renderPopup()},t.prototype.renderPopup=function(){var e=this,t=this.createElement("div",{className:"e-breadcrumb-popup "+this.cssClass+(this.enableRtl?" e-rtl":"")});document.body.appendChild(t),this.isPopupCreated=!0,this.popupObj=new o.Popup(t,{content:this.popupUl,relateTo:this.element.querySelector("."+h),enableRtl:this.enableRtl,position:{X:"left",Y:"bottom"},collision:{X:"fit",Y:"flip"},open:function(){e.popupUl.focus()}}),this.popupWireEvents(),this.popupObj.show()},t.prototype.documentClickHandler=function(e){"Menu"===this.overflowMode&&this.popupObj&&this.popupObj.element.classList.contains("e-popup-open")&&!i.i(n.closest)(e.target,"."+h)&&(this.popupObj.hide(),this.popupObj.destroy(),this.isPopupCreated=!1,i.i(n.detach)(this.popupObj.element))},t.prototype.resize=function(){this._maxItems=this.maxItems,this.initPvtProps(),this.reRenderItems()},t.prototype.expandHandler=function(e){"Enter"===e.key&&(this.isExpanded=!0,this.reRenderItems())},t.prototype.keyDownHandler=function(e){"Enter"===e.key&&this.clickHandler(e)},t.prototype.popupKeyDownHandler=function(e){"Escape"===e.key&&this.documentClickHandler(e)},t.prototype.onPropertyChanged=function(e,t){for(var s=0,r=Object.keys(e);s<r.length;s++){switch(r[s]){case"items":case"enableActiveItemNavigation":this.reRenderItems();break;case"activeItem":this._maxItems=this.maxItems,this.initPvtProps(),this.reRenderItems();break;case"overflowMode":case"maxItems":this._maxItems=this.maxItems,this.initPvtProps(),this.reRenderItems(),"Wrap"===t.overflowMode?this.element.classList.remove(c):"Wrap"===e.overflowMode&&this.element.classList.add(c),"Scroll"===t.overflowMode?this.element.classList.remove(p):"Scroll"===e.overflowMode&&this.element.classList.add(p);break;case"url":this.initItems(),this.reRenderItems();break;case"cssClass":t.cssClass&&i.i(n.removeClass)([this.element],t.cssClass.split(" ")),e.cssClass&&i.i(n.addClass)([this.element],e.cssClass.replace(/\s+/g," ").trim().split(" ")),(t.cssClass&&t.cssClass.indexOf(d)>-1&&!(e.cssClass&&e.cssClass.indexOf(d)>-1)||!(t.cssClass&&t.cssClass.indexOf(d)>-1)&&e.cssClass&&e.cssClass.indexOf(d)>-1)&&this.reRenderItems();break;case"enableRtl":this.element.classList.toggle("e-rtl");break;case"disabled":this.element.classList.toggle("e-disabled"),this.element.setAttribute("aria-disabled",e.disabled+"")}}},t.prototype.wireEvents=function(){this.delegateClickHanlder=this.documentClickHandler.bind(this),n.EventHandler.add(document,"click",this.delegateClickHanlder,this),n.EventHandler.add(this.element,"click",this.clickHandler,this),window.addEventListener("resize",this.resize.bind(this))},t.prototype.popupWireEvents=function(){n.EventHandler.add(this.popupObj.element,"click",this.clickHandler,this),n.EventHandler.add(this.popupObj.element,"keydown",this.popupKeyDownHandler,this)},t.prototype.unWireEvents=function(){n.EventHandler.remove(document,"click",this.delegateClickHanlder),n.EventHandler.remove(this.element,"click",this.clickHandler),window.removeEventListener("resize",this.resize.bind(this)),this.popupObj&&(n.EventHandler.remove(this.popupObj.element,"click",this.clickHandler),n.EventHandler.remove(this.popupObj.element,"keydown",this.popupKeyDownHandler))},t.prototype.getPersistData=function(){return this.addOnPersist(["activeItem"])},t.prototype.getModuleName=function(){return"breadcrumb"},t.prototype.destroy=function(){var t=this,s=[],r=["aria-label"];this.cssClass&&s.concat(this.cssClass.split(" ")),this.enableRtl&&s.push("e-rtl"),this.disabled&&(s.push("e-disabled"),r.push("aria-disabled")),"Wrap"===this.overflowMode?s.push(c):"Scroll"===this.overflowMode&&s.push(p),this.unWireEvents(),this.element.innerHTML="",i.i(n.removeClass)([this.element],s),r.forEach(function(e){t.element.removeAttribute(e)}),e.prototype.destroy.call(this)},l([i.i(n.Property)("")],t.prototype,"url",void 0),l([i.i(n.Collection)([],u)],t.prototype,"items",void 0),l([i.i(n.Property)("")],t.prototype,"activeItem",void 0),l([i.i(n.Property)(-1)],t.prototype,"maxItems",void 0),l([i.i(n.Property)("Menu")],t.prototype,"overflowMode",void 0),l([i.i(n.Property)("")],t.prototype,"cssClass",void 0),l([i.i(n.Property)(null)],t.prototype,"itemTemplate",void 0),l([i.i(n.Property)("/")],t.prototype,"separatorTemplate",void 0),l([i.i(n.Property)(!0)],t.prototype,"enableNavigation",void 0),l([i.i(n.Property)(!1)],t.prototype,"enableActiveItemNavigation",void 0),l([i.i(n.Property)(!1)],t.prototype,"disabled",void 0),l([i.i(n.Property)("")],t.prototype,"locale",void 0),l([i.i(n.Event)()],t.prototype,"beforeItemRender",void 0),l([i.i(n.Event)()],t.prototype,"itemClick",void 0),l([i.i(n.Event)()],t.prototype,"created",void 0),t=l([n.NotifyPropertyChanges],t)}(n.Component)},function(e,t,i){"use strict";i.d(t,"a",function(){return s}),i.d(t,"b",function(){return u}),i.d(t,"c",function(){return f});var s,n=i(0),r=(i.n(n),i(5)),o=(i.n(r),this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}()),a=this&&this.__decorate||function(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},l="e-carousel",d="e-carousel-items",h="e-carousel-item",c="e-carousel-navigators",p="e-carousel-hover";!function(e){e[e.Touch=1]="Touch",e[e.Mouse=2]="Mouse"}(s||(s={}));var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),a([i.i(n.Property)()],t.prototype,"cssClass",void 0),a([i.i(n.Property)()],t.prototype,"interval",void 0),a([i.i(n.Property)()],t.prototype,"template",void 0),a([i.i(n.Property)()],t.prototype,"htmlAttributes",void 0),t}(n.ChildProperty),f=function(e){function t(t,i){var s=e.call(this,t,i)||this;return s.isSwipe=!1,s}return o(t,e),t.prototype.getModuleName=function(){return l.replace("e-","")},t.prototype.getPersistData=function(){return this.addOnPersist(["selectedIndex"])},t.prototype.preRender=function(){this.keyConfigs={home:"home",end:"end",space:"space",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow"};var e={nextSlide:"Next slide",of:"of",pauseSlideTransition:"Pause slide transition",playSlideTransition:"Play slide transition",previousSlide:"Previous slide",slide:"Slide",slideShow:"Slide show"};this.localeObj=new n.L10n(this.getModuleName(),e,this.locale)},t.prototype.render=function(){this.initialize(),this.renderSlides(),this.renderNavigators(),this.renderPlayButton(),this.renderIndicators(),this.applyAnimation(),this.wireEvents()},t.prototype.onPropertyChanged=function(e,t){for(var r,o,a=0,l=Object.keys(e);a<l.length;a++){var h=l[a];switch(h){case"animationEffect":this.applyAnimation();break;case"cssClass":i.i(n.classList)(this.element,[e.cssClass],[t.cssClass]);break;case"selectedIndex":this.setActiveSlide(this.selectedIndex,t.selectedIndex>this.selectedIndex?"Previous":"Next"),this.autoSlide();break;case"htmlAttributes":i.i(n.isNullOrUndefined)(this.htmlAttributes)||this.setHtmlAttributes(this.htmlAttributes,this.element);break;case"enableTouchSwipe":!this.enableTouchSwipe&&this.touchModule&&this.touchModule.destroy(),this.element.querySelector("."+d)&&this.renderTouchActions();break;case"loop":this.loop&&i.i(n.isNullOrUndefined)(this.autoSlideInterval)&&this.applySlideInterval(),this.handleNavigatorsActions(this.selectedIndex),(this.partialVisible||this.swipeMode!==(~s.Touch&~s.Mouse))&&this.reRenderSlides();break;case"enableRtl":if(o=[].slice.call(this.element.querySelectorAll(".e-previous-button,\n                .e-next-button, .e-play-button")),o.push(this.element),this.enableRtl?i.i(n.addClass)(o,"e-rtl"):i.i(n.removeClass)(o,"e-rtl"),this.partialVisible||this.swipeMode!==(~s.Touch&~s.Mouse)){var p=this.loop?this.getNumOfItems():0,u=this.itemsContainer.firstElementChild.clientWidth;this.itemsContainer.style.transform=this.getTranslateX(u,this.selectedIndex+p)}break;case"buttonsVisibility":if(r=this.element.querySelector("."+c))switch(this.buttonsVisibility){case"Hidden":this.resetTemplates(["previousButtonTemplate","nextButtonTemplate"]),i.i(n.remove)(r);break;case"VisibleOnHover":i.i(n.addClass)([].slice.call(r.childNodes),"e-hover-arrows");break;case"Visible":i.i(n.removeClass)([].slice.call(r.childNodes),"e-hover-arrows")}else this.renderNavigators(),this.renderPlayButton();break;case"width":i.i(n.setStyleAttribute)(this.element,{width:i.i(n.formatUnit)(this.width)});break;case"height":i.i(n.setStyleAttribute)(this.element,{height:i.i(n.formatUnit)(this.height)});break;case"autoPlay":this.showPlayButton&&i.i(n.isNullOrUndefined)(this.playButtonTemplate)&&this.playButtonClickHandler(null,!0),this.autoSlide();break;case"interval":this.autoSlide();break;case"showIndicators":case"indicatorsType":r=this.element.querySelector(".e-carousel-indicators"),r&&(this.resetTemplates(["indicatorsTemplate"]),i.i(n.remove)(r)),this.renderIndicators();break;case"showPlayButton":r=this.element.querySelector(".e-play-pause"),!this.showPlayButton&&r&&(i.i(n.remove)(r),this.resetTemplates(["playButtonTemplate"])),this.renderPlayButton();break;case"items":case"dataSource":var f="dataSource"===h?this.dataSource:this.items;f.length>0&&this.selectedIndex>=f.length&&(this.setActiveSlide(f.length-1,"Previous"),this.autoSlide()),this.reRenderSlides(),this.reRenderIndicators();break;case"partialVisible":this.partialVisible?i.i(n.addClass)([this.element],"e-partial"):i.i(n.removeClass)([this.element],"e-partial"),this.reRenderSlides();break;case"swipeMode":n.EventHandler.remove(this.element,"mousedown touchstart",this.swipeStart),n.EventHandler.remove(this.element,"mousemove touchmove",this.swiping),n.EventHandler.remove(this.element,"mouseup touchend",this.swipStop),this.swipeModehandlers(),this.reRenderSlides()}}},t.prototype.reRenderSlides=function(){var e=this.element.querySelector("."+d);e&&(this.resetTemplates(["itemTemplate"]),i.i(n.remove)(e)),this.renderSlides()},t.prototype.reRenderIndicators=function(){var e=this.element.querySelector(".e-carousel-indicators");e&&(this.resetTemplates(["indicatorsTemplate"]),i.i(n.remove)(e)),this.renderIndicators()},t.prototype.initialize=function(){var e=[];e.push(l),this.cssClass&&e.push(this.cssClass),this.enableRtl&&e.push("e-rtl"),this.partialVisible&&e.push("e-partial"),this.swipeMode!==(~s.Touch&~s.Mouse)&&e.push("e-swipe"),i.i(n.addClass)([this.element],e),i.i(n.setStyleAttribute)(this.element,{width:i.i(n.formatUnit)(this.width),height:i.i(n.formatUnit)(this.height)}),i.i(n.attributes)(this.element,{role:"group","aria-roledescription":"carousel","aria-label":this.localeObj.getConstant("slideShow")}),i.i(n.isNullOrUndefined)(this.htmlAttributes)||this.setHtmlAttributes(this.htmlAttributes,this.element)},t.prototype.renderSlides=function(){var e=this,t=this.element.querySelector(".e-carousel-slide-container");t||(t=this.createElement("div",{className:"e-carousel-slide-container",attrs:{tabindex:"0",role:"tabpanel"}}),this.element.appendChild(t)),this.itemsContainer=this.createElement("div",{className:d,attrs:{"aria-live":this.autoPlay?"off":"polite"}}),t.appendChild(this.itemsContainer);var s=this.getNumOfItems();s>0&&this.loop&&(this.items.length>0?this.items.slice(-s).forEach(function(t,i){e.renderSlide(t,t.template,i,e.itemsContainer,!0)}):this.dataSource.length>0&&this.dataSource.slice(-s).forEach(function(t,i){e.renderSlide(t,e.itemTemplate,i,e.itemsContainer,!0)})),this.items.length>0?(this.slideItems=this.items,this.items.forEach(function(t,i){e.renderSlide(t,t.template,i,e.itemsContainer)})):this.dataSource.length>0&&(this.slideItems=this.dataSource,this.dataSource.forEach(function(t,i){e.renderSlide(t,e.itemTemplate,i,e.itemsContainer)})),s>0&&this.loop&&(this.items.length>0?this.items.slice(0,s).forEach(function(t,i){e.renderSlide(t,t.template,i,e.itemsContainer,!0)}):this.dataSource.length>0&&this.dataSource.slice(0,s).forEach(function(t,i){e.renderSlide(t,e.itemTemplate,i,e.itemsContainer,!0)})),this.renderTemplates(),this.itemsContainer.style.setProperty("--carousel-items-count",""+this.itemsContainer.children.length);var r=i.i(n.isNullOrUndefined)(this.itemsContainer.firstElementChild)?0:this.itemsContainer.firstElementChild.clientWidth;this.itemsContainer.style.transitionProperty="none";var o=this.loop?s:0;this.itemsContainer.style.transform=this.getTranslateX(r,this.selectedIndex+o),this.autoSlide(),this.renderTouchActions(),this.renderKeyboardActions()},t.prototype.getTranslateX=function(e,t){return void 0===t&&(t=1),this.enableRtl?"translateX("+e*t+"px)":"translateX("+-e*t+"px)"},t.prototype.renderSlide=function(e,t,s,r,o){void 0===o&&(o=!1);var a=this.createElement("div",{id:i.i(n.getUniqueID)("carousel_item"),className:h+" "+(e.cssClass?e.cssClass:"")+" "+(this.selectedIndex!==s||o?"":"e-active"),attrs:{"aria-hidden":this.selectedIndex!==s||o?"true":"false","data-index":s.toString(),role:"group","aria-roledescription":"slide"}});o&&a.classList.add("e-cloned"),i.i(n.isNullOrUndefined)(e.htmlAttributes)||this.setHtmlAttributes(e.htmlAttributes,a);var l=this.element.id+"_template",d=this.templateParser(t)(e,this,"itemTemplate",l,!1);i.i(n.append)(d,a),r.appendChild(a)},t.prototype.renderNavigators=function(){if("Hidden"!==this.buttonsVisibility){var e=this.createElement("div",{className:c});this.element.querySelector(".e-carousel-slide-container").insertAdjacentElement("afterend",e),!i.i(n.isNullOrUndefined)(this.slideItems)&&this.slideItems.length>1&&(this.renderNavigatorButton("Previous"),this.renderNavigatorButton("Next")),this.renderTemplates()}},t.prototype.renderNavigatorButton=function(e){var t=this.createElement("div",{className:("Previous"===e?"e-previous":"e-next")+" "+("VisibleOnHover"===this.buttonsVisibility?"e-hover-arrows":"")});if("Previous"===e&&this.previousButtonTemplate){i.i(n.addClass)([t],"e-template");var s=this.element.id+"_previousButtonTemplate",o=this.templateParser(this.previousButtonTemplate)({type:"Previous"},this,"previousButtonTemplate",s,!1);i.i(n.append)(o,t)}else if("Next"===e&&this.nextButtonTemplate){i.i(n.addClass)([t],"e-template");var s=this.element.id+"_nextButtonTemplate",o=this.templateParser(this.nextButtonTemplate)({type:"Next"},this,"nextButtonTemplate",s,!1);i.i(n.append)(o,t)}else{var a=this.createElement("button",{attrs:{"aria-label":this.localeObj.getConstant("Previous"===e?"previousSlide":"nextSlide"),type:"button"}}),l=new r.Button({cssClass:"e-flat e-round "+("Previous"===e?"e-previous-button":"e-next-button"),iconCss:"e-icons "+("Previous"===e?"e-previous-icon":"e-next-icon"),enableRtl:this.enableRtl,disabled:!this.loop&&this.selectedIndex===("Previous"===e?0:this.slideItems.length-1)});l.appendTo(a),t.appendChild(a)}this.element.querySelector("."+c).appendChild(t),n.EventHandler.add(t,"click",this.navigatorClickHandler,this)},t.prototype.renderPlayButton=function(){if(!(i.i(n.isNullOrUndefined)(this.slideItems)||"Hidden"===this.buttonsVisibility||!this.showPlayButton||this.slideItems.length<=1)){var e=this.createElement("div",{className:"e-play-pause "+("VisibleOnHover"===this.buttonsVisibility?"e-hover-arrows":"")});if(this.playButtonTemplate){i.i(n.addClass)([e],"e-template");var t=this.element.id+"_playButtonTemplate",s=this.templateParser(this.playButtonTemplate)({},this,"playButtonTemplate",t,!1);i.i(n.append)(s,e)}else{var o=this.createElement("button",{attrs:{"aria-label":this.localeObj.getConstant(this.autoPlay?"pauseSlideTransition":"playSlideTransition"),type:"button"}}),a=this.selectedIndex===this.slideItems.length-1&&!this.loop,l=new r.Button({cssClass:"e-flat e-round e-play-button",iconCss:"e-icons "+(this.autoPlay&&!a?"e-pause-icon":"e-play-icon"),isToggle:!0,enableRtl:this.enableRtl});a&&(this.setProperties({autoPlay:!1},!0),o.setAttribute("aria-label",this.localeObj.getConstant("playSlideTransition")),this.itemsContainer.setAttribute("aria-live","polite")),l.appendTo(o),e.appendChild(o)}var d=this.element.querySelector("."+c);d.insertBefore(e,d.lastElementChild),this.renderTemplates(),n.EventHandler.add(e,"click",this.playButtonClickHandler,this)}},t.prototype.renderIndicators=function(){var e=this;if(this.showIndicators){var t="e-default";this.indicatorsTemplate||(t="e-"+this.indicatorsType.toLowerCase());var i=this.createElement("div",{className:"e-carousel-indicators "+t}),s=this.createElement("div",{className:"e-indicator-bars"});i.appendChild(s);var o;if(this.slideItems)switch(this.indicatorsType){case"Fraction":this.indicatorsTemplate?this.renderIndicatorTemplate(s,this.selectedIndex+1):s.innerText=this.selectedIndex+1+" / "+this.slideItems.length;break;case"Progress":this.indicatorsTemplate?this.renderIndicatorTemplate(s,this.selectedIndex+1):(o=this.createElement("div",{className:"e-indicator-bar"}),o.style.setProperty("--carousel-items-current",""+(this.selectedIndex+1)),o.style.setProperty("--carousel-items-count",""+this.slideItems.length),s.appendChild(o));break;case"Default":case"Dynamic":this.slideItems.forEach(function(t,i){var o=e.createElement("div",{className:"e-indicator-bar "+(e.selectedIndex===i?"e-active":e.selectedIndex-1===i?"e-prev":e.selectedIndex+1===i?"e-next":""),attrs:{"data-index":i.toString(),"aria-current":e.selectedIndex===i?"true":"false"}});if(o.style.setProperty("--carousel-items-current",""+e.selectedIndex),e.indicatorsTemplate)e.renderIndicatorTemplate(o,i);else if("Default"===e.indicatorsType){var a=e.createElement("button",{className:"e-indicator",attrs:{type:"button","aria-label":e.localeObj.getConstant("slide")+" "+(i+1)+" "+e.localeObj.getConstant("of")+" "+e.slideItems.length}});o.appendChild(a),a.appendChild(e.createElement("div",{}));var l=new r.Button({cssClass:"e-flat e-small"});l.appendTo(a)}s.appendChild(o),"Default"===e.indicatorsType&&n.EventHandler.add(o,"click",e.indicatorClickHandler,e)})}this.element.appendChild(i)}},t.prototype.renderIndicatorTemplate=function(e,t){void 0===t&&(t=0),i.i(n.addClass)([e],"e-template");var s=this.element.id+"_indicatorsTemplate",r=this.templateParser(this.indicatorsTemplate)({index:t,selectedIndex:this.selectedIndex},this,"indicatorsTemplate",s,!1);i.i(n.append)(r,e)},t.prototype.renderKeyboardActions=function(){this.keyModule=new n.KeyboardEvents(this.element,{keyAction:this.keyHandler.bind(this),keyConfigs:this.keyConfigs})},t.prototype.renderTouchActions=function(){this.enableTouchSwipe&&(this.touchModule=new n.Touch(this.element,{swipe:this.swipeHandler.bind(this)}))},t.prototype.applyAnimation=function(){switch(i.i(n.removeClass)([this.element],["e-carousel-custom-animation","e-carousel-fade-animation","e-carousel-slide-animation","e-carousel-animation-none"]),this.animationEffect){case"Slide":i.i(n.addClass)([this.element],"e-carousel-slide-animation");break;case"Fade":i.i(n.addClass)([this.element],"e-carousel-fade-animation");break;case"None":i.i(n.addClass)([this.element],"e-carousel-animation-none");break;case"Custom":i.i(n.addClass)([this.element],"e-carousel-custom-animation")}},t.prototype.autoSlide=function(){i.i(n.isNullOrUndefined)(this.slideItems)||this.slideItems.length<=1||(this.resetSlideInterval(),this.applySlideInterval())},t.prototype.autoSlideChange=function(){var e=this.element.querySelector(".e-active");if(!i.i(n.isNullOrUndefined)(e)){var t=parseInt(e.dataset.index,10);if(this.loop||t!==this.slideItems.length-1){var s=(t+1)%this.slideItems.length;this.element.classList.contains(p)||this.setActiveSlide(s,"Next"),this.autoSlide()}else this.resetSlideInterval()}},t.prototype.applySlideInterval=function(){var e=this;if(this.autoPlay&&!this.element.classList.contains(p)){var t=this.interval;this.items.length>0&&!i.i(n.isNullOrUndefined)(this.items[this.selectedIndex].interval)&&(t=this.items[this.selectedIndex].interval),this.autoSlideInterval=setInterval(function(){return e.autoSlideChange()},t)}},t.prototype.resetSlideInterval=function(){clearInterval(this.autoSlideInterval),this.autoSlideInterval=null},t.prototype.getSlideIndex=function(e){var t=this.selectedIndex;return"Previous"===e?--t<0&&(t=this.slideItems.length-1):++t===this.slideItems.length&&(t=0),t},t.prototype.setActiveSlide=function(e,t,s){var r=this;if(void 0===s&&(s=!1),!(this.element.querySelectorAll("."+h+".e-prev,."+h+".e-next").length>0)){var o=[].slice.call(this.element.querySelectorAll("."+h+":not(.e-cloned)")),a=this.element.querySelector("."+h+".e-active");if(i.i(n.isNullOrUndefined)(a)&&this.showIndicators){var l=this.element.querySelector(".e-indicator-bar.e-active"),d=parseInt(l.dataset.index,10);return void i.i(n.addClass)([o[parseInt(d.toString(),10)]],"e-active")}if(i.i(n.isNullOrUndefined)(a))return void i.i(n.addClass)([o[parseInt(e.toString(),10)]],"e-active");var c=parseInt(a.dataset.index,10),p=o[parseInt(e.toString(),10)],u={currentIndex:c,nextIndex:e,currentSlide:a,nextSlide:p,slideDirection:t,isSwiped:s,cancel:!1};this.trigger("slideChanging",u,function(a){if(!a.cancel){r.setProperties({selectedIndex:e},!0),i.i(n.attributes)(a.currentSlide,{"aria-hidden":"true"}),i.i(n.attributes)(a.nextSlide,{"aria-hidden":"false"}),r.refreshIndicators(c,e),r.slideChangedEventArgs={currentIndex:a.nextIndex,previousIndex:a.currentIndex,currentSlide:a.nextSlide,previousSlide:a.currentSlide,slideDirection:t,isSwiped:s};var l=o[parseInt(e.toString(),10)].clientWidth,d=r.getNumOfItems();r.isSwipe||(r.itemsContainer.style.transitionDuration="0.6s"),r.isSwipe=!1,"Fade"===r.animationEffect?r.itemsContainer.classList.add("e-fade-in-out"):r.itemsContainer.style.transitionProperty="transform",r.loop?0===r.slideChangedEventArgs.currentIndex&&"Next"===r.slideChangedEventArgs.slideDirection?r.itemsContainer.style.transform=r.getTranslateX(l,o.length+d):r.slideChangedEventArgs.currentIndex===r.slideItems.length-1&&"Previous"===r.slideChangedEventArgs.slideDirection?r.itemsContainer.style.transform=r.partialVisible?r.getTranslateX(l):"translateX(0px)":r.itemsContainer.style.transform=r.getTranslateX(l,e+d):r.itemsContainer.style.transform=r.getTranslateX(l,e),"Slide"===r.animationEffect?"Previous"===t?(i.i(n.addClass)([a.nextSlide],"e-prev"),a.nextSlide.setAttribute("data-slide-height",a.nextSlide.offsetHeight.toString()),i.i(n.addClass)([a.currentSlide,a.nextSlide],"e-transition-end")):(i.i(n.addClass)([a.nextSlide],"e-next"),a.nextSlide.setAttribute("data-slide-height",a.nextSlide.offsetHeight.toString()),i.i(n.addClass)([a.currentSlide,a.nextSlide],"e-transition-start")):"Fade"===r.animationEffect?(i.i(n.removeClass)([a.currentSlide],"e-active"),i.i(n.addClass)([a.nextSlide],"e-active")):"Custom"===r.animationEffect?"Previous"===t?(i.i(n.addClass)([a.nextSlide],"e-next"),i.i(n.addClass)([a.currentSlide],"e-prev")):(i.i(n.addClass)([a.currentSlide],"e-prev"),i.i(n.addClass)([a.nextSlide],"e-next")):r.onTransitionEnd(),r.handleNavigatorsActions(e)}})}},t.prototype.onTransitionEnd=function(){var e=this;i.i(n.removeClass)(this.element.querySelectorAll("."+d),"e-fade-in-out");var t=this.getNumOfItems();if(this.slideChangedEventArgs){if(this.itemsContainer.style.transitionProperty="none",this.loop&&(0===this.slideChangedEventArgs.currentIndex&&"Next"===this.slideChangedEventArgs.slideDirection||this.slideChangedEventArgs.currentIndex===this.slideItems.length-1&&"Previous"===this.slideChangedEventArgs.slideDirection)){var s=this.slideChangedEventArgs.currentSlide.clientWidth;this.itemsContainer.style.transform=this.getTranslateX(s,this.slideChangedEventArgs.currentIndex+t)}i.i(n.addClass)([this.slideChangedEventArgs.currentSlide],"e-active"),i.i(n.removeClass)([this.slideChangedEventArgs.previousSlide],"e-active"),this.trigger("slideChanged",this.slideChangedEventArgs,function(){i.i(n.removeClass)(e.element.querySelectorAll("."+h),["e-prev","e-next","e-transition-start","e-transition-end"]),e.slideChangedEventArgs=null})}},t.prototype.refreshIndicators=function(e,t){var s=this,r=this.element.querySelector(".e-indicator-bars");if(!i.i(n.isNullOrUndefined)(r)){var o=[].slice.call(r.childNodes);switch(this.indicatorsType){case"Default":case"Dynamic":i.i(n.attributes)(o[parseInt(e.toString(),10)],{"aria-current":"false"}),i.i(n.attributes)(o[parseInt(t.toString(),10)],{"aria-current":"true"}),i.i(n.removeClass)(o,["e-active","e-prev","e-next"]),i.i(n.addClass)([o[parseInt(t.toString(),10)]],"e-active"),o[t-1]&&i.i(n.addClass)([o[t-1]],"e-prev"),o[t+1]&&i.i(n.addClass)([o[t+1]],"e-next"),o.forEach(function(e){return e.style.setProperty("--carousel-items-current",""+s.selectedIndex)});break;case"Fraction":this.indicatorsTemplate?(r.children.length>0&&r.removeChild(r.firstElementChild),this.renderIndicatorTemplate(r,t+1)):r.innerText=this.selectedIndex+1+" / "+this.slideItems.length;break;case"Progress":this.indicatorsTemplate?(r.children.length>0&&r.removeChild(r.firstElementChild),this.renderIndicatorTemplate(r,t+1)):r.firstElementChild.style.setProperty("--carousel-items-current",""+(this.selectedIndex+1))}}},t.prototype.setHtmlAttributes=function(e,t){for(var s=Object.keys(e),r=0,o=s;r<o.length;r++){var a=o[r];"class"===a?i.i(n.addClass)([t],e[""+a]):t.setAttribute(a,e[""+a])}},t.prototype.templateParser=function(e){if(e)try{return"function"!=typeof e&&document.querySelectorAll(e).length?i.i(n.compile)(document.querySelector(e).innerHTML.trim()):i.i(n.compile)(e)}catch(t){return i.i(n.compile)(e)}},t.prototype.getNavigatorState=function(e,t){var s=e.querySelector("."+(t?"e-previous-button":"e-next-button"));if(s){return i.i(n.getInstance)(s,r.Button).disabled}return!1},t.prototype.navigatorClickHandler=function(e){var t=e.currentTarget;if(!this.getNavigatorState(t,t.classList.contains("e-previous"))){var i=t.classList.contains("e-previous")?"Previous":"Next";this.setActiveSlide(this.getSlideIndex(i),i),this.autoSlide()}},t.prototype.indicatorClickHandler=function(e){var t=i.i(n.closest)(e.target,".e-indicator-bar"),s=parseInt(t.dataset.index,10);this.selectedIndex!==s&&(this.setActiveSlide(s,this.selectedIndex>s?"Previous":"Next"),this.autoSlide())},t.prototype.playButtonClickHandler=function(e,t){void 0===t&&(t=!1);var s=this.element.querySelector(".e-play-button");if(s){var o=i.i(n.getInstance)(s,r.Button);t||this.setProperties({autoPlay:!this.autoPlay},!0),s.setAttribute("aria-label",this.localeObj.getConstant(this.autoPlay?"pauseSlideTransition":"playSlideTransition")),o.iconCss="e-icons "+(this.autoPlay?"e-pause-icon":"e-play-icon"),o.dataBind(),this.itemsContainer.setAttribute("aria-live",this.autoPlay?"off":"polite"),this.autoPlay&&!this.loop&&this.selectedIndex===this.slideItems.length-1&&this.setActiveSlide(0,"Next"),this.autoSlide()}},t.prototype.keyHandler=function(e){var t,s,r=!1,o=e.target;switch(e.preventDefault(),e.action){case"space":this.showIndicators&&o.classList.contains("e-indicator")?o.click():o.classList.contains(l)||o.classList.contains("e-play-button")?this.playButtonClickHandler(e):o.classList.contains("e-next-button")?this.next():o.classList.contains("e-previous-button")&&this.prev();break;case"end":s=this.slideItems.length-1,t="Next",r=!0;break;case"home":s=0,t="Previous",r=!0;break;case"moveUp":case"moveLeft":case"moveDown":case"moveRight":this.showIndicators&&i.i(n.isNullOrUndefined)(this.indicatorsTemplate)&&this.element.focus(),t="moveUp"===e.action||"moveLeft"===e.action?"Previous":"Next",s=this.getSlideIndex(t),r=!this.isSuspendSlideTransition(s,t)}r&&(this.setActiveSlide(s,t),this.autoSlide(),r=!1)},t.prototype.swipeHandler=function(e){if(!(this.element.classList.contains(p)||i.i(n.isNullOrUndefined)(this.slideItems)||this.slideItems.length<=1)){var t="Right"===e.swipeDirection?"Previous":"Next",s=this.getSlideIndex(t);this.isSuspendSlideTransition(s,t)||(this.setActiveSlide(s,t,!0),this.autoSlide())}},t.prototype.isSuspendSlideTransition=function(e,t){return!this.loop&&("Next"===t&&0===e||"Previous"===t&&e===this.slideItems.length-1)},t.prototype.handleNavigatorsActions=function(e){if("Hidden"!==this.buttonsVisibility){if(this.showPlayButton){var t=this.element.querySelector(".e-play-button"),s=this.selectedIndex===this.slideItems.length-1&&!this.loop,o=i.i(n.isNullOrUndefined)(this.playButtonTemplate)&&t&&s;if(i.i(n.isNullOrUndefined)(this.playButtonTemplate)&&t&&!s&&(o=!t.classList.contains("e-active")),o){this.setProperties({autoPlay:!s},!0),t.setAttribute("aria-label",this.localeObj.getConstant(this.autoPlay?"pauseSlideTransition":"playSlideTransition")),this.itemsContainer.setAttribute("aria-live",this.autoPlay?"off":"polite");var a=i.i(n.getInstance)(t,r.Button);a.iconCss="e-icons "+(this.autoPlay?"e-pause-icon":"e-play-icon"),a.dataBind()}}var l=this.element.querySelector(".e-previous-button");if(l&&i.i(n.isNullOrUndefined)(this.previousButtonTemplate)){var a=i.i(n.getInstance)(l,r.Button);a.disabled=!this.loop&&0===e,a.dataBind()}var d=this.element.querySelector(".e-next-button");if(d&&i.i(n.isNullOrUndefined)(this.nextButtonTemplate)){var a=i.i(n.getInstance)(d,r.Button);a.disabled=!this.loop&&e===this.slideItems.length-1,a.dataBind()}}},t.prototype.onHoverActions=function(e){var t=this.element.querySelector("."+c);switch(e.type){case"mouseenter":"VisibleOnHover"===this.buttonsVisibility&&t&&i.i(n.removeClass)([].slice.call(t.childNodes),"e-hover-arrows"),this.pauseOnHover&&i.i(n.addClass)([this.element],p);break;case"mouseleave":"VisibleOnHover"===this.buttonsVisibility&&t&&i.i(n.addClass)([].slice.call(t.childNodes),"e-hover-arrows"),i.i(n.removeClass)([this.element],p)}this.autoSlide()},t.prototype.onFocusActions=function(e){switch(e.type){case"focusin":i.i(n.addClass)([this.element],p);break;case"focusout":i.i(n.removeClass)([this.element],p)}this.autoSlide()},t.prototype.destroyButtons=function(){for(var e=[].slice.call(this.element.querySelectorAll(".e-control.e-btn")),t=0,s=e;t<s.length;t++){var o=s[t],a=i.i(n.getInstance)(o,r.Button);a&&a.destroy()}},t.prototype.getNumOfItems=function(){return this.partialVisible?2:1},t.prototype.getTranslateValue=function(e){var t=getComputedStyle(e);return window.WebKitCSSMatrix?new WebKitCSSMatrix(t.webkitTransform).m41:0},t.prototype.swipeStart=function(e){this.timeStampStart||(this.timeStampStart=Date.now()),this.isSwipe=!1,this.itemsContainer.classList.add("e-swipe-start"),this.prevPageX=e.touches?e.touches[0].pageX:e.pageX,this.initialTranslate=this.getTranslateValue(this.itemsContainer)},t.prototype.swiping=function(e){if(this.itemsContainer.classList.contains("e-swipe-start")){e.preventDefault();var t=e.touches?e.touches[0].pageX:e.pageX,i=this.prevPageX-t;!this.loop&&(this.enableRtl&&(0===this.selectedIndex&&i>0||this.selectedIndex===this.itemsContainer.childElementCount-1&&i<0)||!this.enableRtl&&(0===this.selectedIndex&&i<0||this.selectedIndex===this.itemsContainer.childElementCount-1&&i>0))||(this.itemsContainer.style.transform="translateX("+(this.initialTranslate+(this.enableRtl?i:-i))+"px)")}},t.prototype.swipStop=function(){this.isSwipe=!0;var e=Date.now()-this.timeStampStart,t=this.getTranslateValue(this.itemsContainer)-this.initialTranslate;if(t=t<0?-1*t:t,this.isSwipe){var i=t*(n.Browser.isDevice?6:1.66);this.itemsContainer.style.transitionDuration=(n.Browser.isDevice?t:i)/e/10+"s"}var s=this.itemsContainer.firstElementChild.clientWidth,r=s/2;this.itemsContainer.classList.remove("e-swipe-start");var o=this.getTranslateValue(this.itemsContainer);o-this.initialTranslate<-r?this.swipeNavigation(!this.enableRtl):o-this.initialTranslate>r?this.swipeNavigation(this.enableRtl):(this.itemsContainer.style.transform="translateX("+this.initialTranslate+"px)","Fade"===this.animationEffect&&this.itemsContainer.classList.add("e-fade-in-out"))},t.prototype.swipeNavigation=function(e){e?this.next():this.prev()},t.prototype.swipeModehandlers=function(){(this.swipeMode&s.Touch)===s.Touch&&(n.EventHandler.add(this.itemsContainer,"touchstart",this.swipeStart,this),n.EventHandler.add(this.itemsContainer,"touchmove",this.swiping,this),n.EventHandler.add(this.itemsContainer,"touchend",this.swipStop,this)),(this.swipeMode&s.Mouse)===s.Mouse&&(n.EventHandler.add(this.itemsContainer,"mousedown",this.swipeStart,this),n.EventHandler.add(this.itemsContainer,"mousemove",this.swiping,this),n.EventHandler.add(this.itemsContainer,"mouseup",this.swipStop,this)),0===this.swipeMode&&(this.swipeMode&s.Mouse&s.Touch)==(s.Mouse&s.Touch)&&(n.EventHandler.add(this.itemsContainer,"mousedown touchstart",this.swipeStart,this),n.EventHandler.add(this.itemsContainer,"mousemove touchmove",this.swiping,this),n.EventHandler.add(this.itemsContainer,"mouseup touchend",this.swipStop,this))},t.prototype.resizeHandler=function(){if(this.itemsContainer&&this.itemsContainer.firstElementChild){var e=this.getNumOfItems(),t=this.itemsContainer.firstElementChild.clientWidth;this.itemsContainer.style.transform=this.getTranslateX(t,this.selectedIndex+e)}},t.prototype.wireEvents=function(){"Custom"!==this.animationEffect&&this.swipeModehandlers(),n.EventHandler.add(this.element,"focusin focusout",this.onFocusActions,this),n.EventHandler.add(this.element,"mouseenter mouseleave",this.onHoverActions,this),n.EventHandler.add(this.element.firstElementChild,"animationend",this.onTransitionEnd,this),n.EventHandler.add(this.element.firstElementChild,"transitionend",this.onTransitionEnd,this),n.EventHandler.add(window,"resize",this.resizeHandler,this)},t.prototype.unWireEvents=function(){var e=this;[].slice.call(this.element.querySelectorAll(".e-indicator-bar")).forEach(function(t){n.EventHandler.remove(t,"click",e.indicatorClickHandler)}),[].slice.call(this.element.querySelectorAll(".e-previous,.e-next")).forEach(function(t){n.EventHandler.remove(t,"click",e.navigatorClickHandler)});var t=this.element.querySelector(".e-play-pause");t&&n.EventHandler.remove(t,"click",this.playButtonClickHandler),n.EventHandler.remove(this.element.firstElementChild,"animationend",this.onTransitionEnd),n.EventHandler.remove(this.element.firstElementChild,"transitionend",this.onTransitionEnd),n.EventHandler.clearEvents(this.element),n.EventHandler.clearEvents(this.itemsContainer),n.EventHandler.remove(window,"resize",this.resizeHandler)},t.prototype.prev=function(){if(this.loop||0!==this.selectedIndex){var e=0===this.selectedIndex?this.slideItems.length-1:this.selectedIndex-1;this.setActiveSlide(e,"Previous"),this.autoSlide()}},t.prototype.next=function(){if(this.loop||this.selectedIndex!==this.slideItems.length-1){var e=this.selectedIndex===this.slideItems.length-1?0:this.selectedIndex+1;this.setActiveSlide(e,"Next"),this.autoSlide()}},t.prototype.play=function(){var e=this.element.querySelector(".e-play-icon");if(this.showPlayButton&&e){i.i(n.classList)(e,["e-pause-icon"],["e-play-icon"]);this.element.querySelector(".e-play-button").setAttribute("aria-label",this.localeObj.getConstant("pauseSlideTransition"))}this.setProperties({autoPlay:!0},!0),this.itemsContainer.setAttribute("aria-live","off"),this.applySlideInterval()},t.prototype.pause=function(){var e=this.element.querySelector(".e-pause-icon");if(this.showPlayButton&&e){this.element.querySelector(".e-play-button").setAttribute("aria-label",this.localeObj.getConstant("playSlideTransition")),i.i(n.classList)(e,["e-play-icon"],["e-pause-icon"])}this.setProperties({autoPlay:!1},!0),this.itemsContainer.setAttribute("aria-live","off"),this.resetSlideInterval()},t.prototype.renderTemplates=function(){(this.isAngular||this.isReact)&&this.renderReactTemplates()},t.prototype.resetTemplates=function(e){(this.isAngular||this.isReact)&&this.clearTemplate(e)},t.prototype.destroy=function(){var t=this;this.resetTemplates(),this.touchModule&&(this.touchModule.destroy(),this.touchModule=null),this.keyModule.destroy(),this.keyModule=null,this.resetSlideInterval(),this.destroyButtons(),this.unWireEvents(),[].slice.call(this.element.children).forEach(function(e){t.element.removeChild(e)}),i.i(n.removeClass)([this.element],[l,this.cssClass,"e-rtl","e-swipe"]),["role","style"].forEach(function(e){t.element.removeAttribute(e)}),this.itemsContainer=null,e.prototype.destroy.call(this)},a([i.i(n.Collection)([],u)],t.prototype,"items",void 0),a([i.i(n.Property)("Slide")],t.prototype,"animationEffect",void 0),a([i.i(n.Property)()],t.prototype,"previousButtonTemplate",void 0),a([i.i(n.Property)()],t.prototype,"nextButtonTemplate",void 0),a([i.i(n.Property)()],t.prototype,"indicatorsTemplate",void 0),a([i.i(n.Property)()],t.prototype,"playButtonTemplate",void 0),a([i.i(n.Property)()],t.prototype,"cssClass",void 0),a([i.i(n.Property)([])],t.prototype,"dataSource",void 0),a([i.i(n.Property)()],t.prototype,"itemTemplate",void 0),a([i.i(n.Property)(0)],t.prototype,"selectedIndex",void 0),a([i.i(n.Property)("100%")],t.prototype,"width",void 0),a([i.i(n.Property)("100%")],t.prototype,"height",void 0),a([i.i(n.Property)(5e3)],t.prototype,"interval",void 0),a([i.i(n.Property)(!0)],t.prototype,"autoPlay",void 0),a([i.i(n.Property)(!0)],t.prototype,"pauseOnHover",void 0),a([i.i(n.Property)(!0)],t.prototype,"loop",void 0),a([i.i(n.Property)(!1)],t.prototype,"showPlayButton",void 0),a([i.i(n.Property)(!0)],t.prototype,"enableTouchSwipe",void 0),a([i.i(n.Property)(!0)],t.prototype,"showIndicators",void 0),a([i.i(n.Property)("Default")],t.prototype,"indicatorsType",void 0),a([i.i(n.Property)("Visible")],t.prototype,"buttonsVisibility",void 0),a([i.i(n.Property)(!1)],t.prototype,"partialVisible",void 0),a([i.i(n.Property)(s.Touch)],t.prototype,"swipeMode",void 0),a([i.i(n.Property)()],t.prototype,"htmlAttributes",void 0),a([i.i(n.Event)()],t.prototype,"slideChanging",void 0),a([i.i(n.Event)()],t.prototype,"slideChanged",void 0),t=a([n.NotifyPropertyChanges],t)}(n.Component)},function(e,t,i){"use strict";i.d(t,"a",function(){return l});var s=i(0),n=(i.n(s),i(1)),r=(i.n(n),i(3)),o=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),a=this&&this.__decorate||function(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},l=function(e){function t(t,i){return e.call(this,t,i)||this}return o(t,e),t.prototype.preRender=function(){this.isMenu=!1,this.element.id=this.element.id||i.i(s.getUniqueID)("ej2-contextmenu"),e.prototype.preRender.call(this)},t.prototype.initialize=function(){e.prototype.initialize.call(this),i.i(s.attributes)(this.element,{role:"menubar",tabindex:"0"}),this.element.style.zIndex=i.i(n.getZindexPartial)(this.element).toString()},t.prototype.open=function(t,i,s){e.prototype.openMenu.call(this,null,null,t,i,null,s)},t.prototype.close=function(){e.prototype.closeMenu.call(this)},t.prototype.onPropertyChanged=function(t,i){e.prototype.onPropertyChanged.call(this,t,i);for(var s=0,n=Object.keys(t);s<n.length;s++){switch(n[s]){case"filter":this.close(),this.filter=t.filter;break;case"target":this.unWireEvents(i.target),this.wireEvents()}}},t.prototype.getModuleName=function(){return"contextmenu"},a([i.i(s.Property)("")],t.prototype,"target",void 0),a([i.i(s.Property)("")],t.prototype,"filter",void 0),a([i.i(s.Collection)([],r.c)],t.prototype,"items",void 0),t=a([s.NotifyPropertyChanges],t)}(r.b)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(14);i.d(t,"MenuAnimationSettings",function(){return s.a}),i.d(t,"MenuItem",function(){return s.b}),i.d(t,"FieldSettings",function(){return s.c}),i.d(t,"HScroll",function(){return s.d}),i.d(t,"VScroll",function(){return s.e}),i.d(t,"addScrolling",function(){return s.f}),i.d(t,"destroyScroll",function(){return s.g});var n=i(21);i.d(t,"Item",function(){return n.a}),i.d(t,"Toolbar",function(){return n.b});var r=i(10);i.d(t,"AccordionActionSettings",function(){return r.a}),i.d(t,"AccordionAnimationSettings",function(){return r.b}),i.d(t,"AccordionItem",function(){return r.c}),i.d(t,"Accordion",function(){return r.d});var o=i(15);i.d(t,"ContextMenu",function(){return o.a});var a=i(16);i.d(t,"Menu",function(){return a.a});var l=i(20);i.d(t,"TabActionSettings",function(){return l.a}),i.d(t,"TabAnimationSettings",function(){return l.b}),i.d(t,"Header",function(){return l.c}),i.d(t,"TabItem",function(){return l.d}),i.d(t,"Tab",function(){return l.e});var d=i(22);i.d(t,"FieldsSettings",function(){return d.a}),i.d(t,"ActionSettings",function(){return d.b}),i.d(t,"NodeAnimationSettings",function(){return d.c}),i.d(t,"TreeView",function(){return d.d});var h=i(17);i.d(t,"Sidebar",function(){return h.a});var c=i(12);i.d(t,"BreadcrumbOverflowMode",function(){return c.a}),i.d(t,"BreadcrumbItem",function(){return c.b}),i.d(t,"Breadcrumb",function(){return c.c});var p=i(13);i.d(t,"CarouselSwipeMode",function(){return p.a}),i.d(t,"CarouselItem",function(){return p.b}),i.d(t,"Carousel",function(){return p.c});var u=i(11);i.d(t,"AppBar",function(){return u.a});var f=i(18);i.d(t,"StepStatus",function(){return f.a}),i.d(t,"Step",function(){return f.b}),i.d(t,"StepperOrientation",function(){return f.c}),i.d(t,"StepperBase",function(){return f.d});var m=i(19);i.d(t,"StepperAnimationSettings",function(){return m.a}),i.d(t,"StepLabelPosition",function(){return m.b}),i.d(t,"StepType",function(){return m.c}),i.d(t,"Stepper",function(){return m.d})},function(e,t,i){"use strict";i.d(t,"a",function(){return l});var s=i(0),n=(i.n(s),i(3)),r=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),o=this&&this.__decorate||function(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},a="e-vertical",l=function(e){function t(t,i){var s=e.call(this,t,i)||this;return s.tempItems=[],s}return r(t,e),t.prototype.getModuleName=function(){return"menu"},t.prototype.preRender=function(){if(this.isMenu=!0,this.element.id=this.element.id||i.i(s.getUniqueID)("ej2-menu"),this.template){try{"function"!=typeof this.template&&document.querySelectorAll(this.template).length&&(this.template=document.querySelector(this.template).innerHTML.trim(),this.clearChanges())}catch(e){}this.updateMenuItems(this.items)}else this.updateMenuItems(this.items);e.prototype.preRender.call(this)},t.prototype.initialize=function(){e.prototype.initialize.call(this),i.i(s.attributes)(this.element,{role:"menubar",tabindex:"0"}),"Vertical"===this.orientation?(this.element.classList.add(a),this.hamburgerMode&&!this.target&&this.element.previousElementSibling.classList.add(a),this.element.setAttribute("aria-orientation","vertical")):s.Browser.isDevice&&!this.enableScrolling&&this.element.parentElement.classList.add("e-scrollable"),this.hamburgerMode&&(this.element.parentElement.classList.add("e-hamburger"),"Horizontal"===this.orientation&&this.element.classList.add("e-hide-menu"))},t.prototype.updateMenuItems=function(e){this.tempItems=e,this.items=[],this.tempItems.map(this.createMenuItems,this),this.setProperties({items:this.items},!0),this.tempItems=[]},t.prototype.onPropertyChanged=function(t,i){for(var n=this,r=0,o=Object.keys(t);r<o.length;r++){switch(o[r]){case"orientation":"Vertical"===t.orientation?(this.element.classList.add(a),this.hamburgerMode&&(this.target||this.element.previousElementSibling.classList.add(a),this.element.classList.remove("e-hide-menu")),this.element.setAttribute("aria-orientation","vertical")):(this.element.classList.remove(a),this.hamburgerMode&&(this.target||this.element.previousElementSibling.classList.remove(a),this.element.classList.add("e-hide-menu")),this.element.removeAttribute("aria-orientation"));break;case"items":Object.keys(i.items).length||this.updateMenuItems(t.items);break;case"hamburgerMode":this.element.previousElementSibling||e.prototype.createHeaderContainer.call(this),t.hamburgerMode?(this.element.parentElement.classList.add("e-hamburger"),[].slice.call(this.element.getElementsByClassName("e-blankicon")).forEach(function(e){e.style[n.enableRtl?"paddingRight":"paddingLeft"]=""})):(this.element.parentElement.classList.remove("e-hamburger"),"Vertical"===this.orientation&&this.setBlankIconStyle(this.element)),"Vertical"===this.orientation?(this.target||this.element.previousElementSibling.classList.add(a),this.element.classList.remove("e-hide-menu")):(this.target?this.element.previousElementSibling.classList.add(a):this.element.previousElementSibling.classList.remove(a),this.element.classList[t.hamburgerMode?"add":"remove"]("e-hide-menu"));break;case"title":this.hamburgerMode&&this.element.previousElementSibling&&(t.title=this.enableHtmlSanitizer?s.SanitizeHtmlHelper.sanitize(t.title):t.title,this.element.previousElementSibling.querySelector(".e-menu-title").innerHTML=t.title);break;case"target":this.hamburgerMode&&(this.unWireEvents(i.target),this.wireEvents(),"Horizontal"===this.orientation&&(t.target?this.element.previousElementSibling.classList.add(a):(this.element.previousElementSibling||e.prototype.createHeaderContainer.call(this),this.element.previousElementSibling.classList.remove(a)),this.element.classList.add("e-hide-menu")))}}e.prototype.onPropertyChanged.call(this,t,i)},t.prototype.createMenuItems=function(e){var t,i,s=this.items,n=this.getField("parentId");if(e[""+n]){for(t=this.getIndex(e[""+n].toString(),!0),i=0;i<t.length;i++)s[t[i]].items||(s[t[i]].items=[]),s=s[t[i]].items;s.push(e)}else this.items.push(e)},t.prototype.open=function(){e.prototype.openHamburgerMenu.call(this)},t.prototype.close=function(){e.prototype.closeHamburgerMenu.call(this)},o([i.i(s.Property)("Horizontal")],t.prototype,"orientation",void 0),o([i.i(s.Property)("")],t.prototype,"target",void 0),o([i.i(s.Property)(null)],t.prototype,"template",void 0),o([i.i(s.Property)(!1)],t.prototype,"enableScrolling",void 0),o([i.i(s.Property)(!1)],t.prototype,"hamburgerMode",void 0),o([i.i(s.Property)("Menu")],t.prototype,"title",void 0),o([i.i(s.Property)(!1)],t.prototype,"enableHtmlSanitizer",void 0),o([i.i(s.Complex)({itemId:"id",text:"text",parentId:"parentId",iconCss:"iconCss",url:"url",separator:"separator",children:"items"},n.a)],t.prototype,"fields",void 0),t=o([s.NotifyPropertyChanges],t)}(n.b)},function(e,t,i){"use strict";i.d(t,"a",function(){return f});var s=i(0),n=(i.n(s),this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}()),r=this&&this.__decorate||function(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},o="e-sidebar",a="e-close",l="e-open",d="e-right",h="e-left",c="e-over",p="e-push",u="e-sidebar-context",f=function(e){function t(t,i){return e.call(this,t,i)||this}return n(t,e),t.prototype.preRender=function(){this.setWidth()},t.prototype.render=function(){this.initialize(),this.wireEvents(),this.renderComplete()},t.prototype.initialize=function(){this.setTarget(),this.addClass(),this.setZindex(),this.enableDock&&this.setDock(),this.isOpen?(this.show(),this.firstRender=!0):this.setMediaQuery(),this.checkType(!0),this.setType(this.type),this.setCloseOnDocumentClick(),this.setEnableRTL(),s.Browser.isDevice&&(this.windowWidth=window.innerWidth)},t.prototype.setEnableRTL=function(){(this.enableRtl?s.addClass:s.removeClass)([this.element],"e-rtl")},t.prototype.setTarget=function(){this.targetEle=this.element.nextElementSibling,this.sidebarEleCopy=this.element.cloneNode(!0),"string"==typeof this.target&&this.setProperties({target:document.querySelector(this.target)},!0),this.target&&(this.target.insertBefore(this.element,this.target.children[0]),i.i(s.addClass)([this.element],"e-sidebar-absolute"),i.i(s.addClass)([this.target],u),this.targetEle=this.getTargetElement())},t.prototype.getTargetElement=function(){for(var e=this.element.nextElementSibling;!i.i(s.isNullOrUndefined)(e)&&e.classList.contains(o);)e=e.nextElementSibling;return e},t.prototype.setCloseOnDocumentClick=function(){this.closeOnDocumentClick?s.EventHandler.add(document,"mousedown touchstart",this.documentclickHandler,this):s.EventHandler.remove(document,"mousedown touchstart",this.documentclickHandler)},t.prototype.setWidth=function(){this.enableDock&&"Left"===this.position?i.i(s.setStyleAttribute)(this.element,{width:this.setDimension(this.dockSize)}):this.enableDock&&"Right"===this.position?i.i(s.setStyleAttribute)(this.element,{width:this.setDimension(this.dockSize)}):this.enableDock||i.i(s.setStyleAttribute)(this.element,{width:this.setDimension(this.width)})},t.prototype.setDimension=function(e){return e="number"==typeof e?i.i(s.formatUnit)(e):"string"==typeof e?e.match(/px|%|em/)?e:i.i(s.formatUnit)(e):"100%"},t.prototype.setZindex=function(){i.i(s.setStyleAttribute)(this.element,{"z-index":""+this.zIndex})},t.prototype.addClass=function(){"EJS-SIDEBAR"===this.element.tagName&&i.i(s.addClass)([this.element],"e-sidebar-display");var e=document.querySelector(".e-main-content");i.i(s.isNullOrUndefined)(e||this.targetEle)||i.i(s.addClass)([e||this.targetEle],["e-content-animation"]),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):null,this.enableDock||"Auto"===this.type||i.i(s.addClass)([this.element],["e-visibility"]),i.i(s.removeClass)([this.element],[l,a,d,h,"e-slide",p,c]),this.element.classList.add(o),i.i(s.addClass)([this.element],"Right"===this.position?d:h),this.enableDock&&i.i(s.addClass)([this.element],"e-dock"),i.i(s.isNullOrUndefined)(this.tabIndex)||this.element.setAttribute("tabindex",this.tabIndex),"Auto"!==this.type||s.Browser.isDevice?this.isOpen||i.i(s.addClass)([this.element],[a,"e-disable-animation"]):this.show()},t.prototype.checkType=function(e){"Push"!==this.type&&"Over"!==this.type&&"Slide"!==this.type?this.type="Auto":this.element.classList.contains(a)||e||this.hide()},t.prototype.transitionEnd=function(e){this.setDock(),i.i(s.isNullOrUndefined)(e)||this.firstRender||this.triggerChange(),this.firstRender=!1,s.EventHandler.remove(this.element,"transitionend",this.transitionEnd)},t.prototype.destroyBackDrop=function(){var e=document.querySelector(".e-main-content")||this.targetEle;this.target&&this.showBackdrop&&e&&!i.i(s.isNullOrUndefined)(this.defaultBackdropDiv)?i.i(s.removeClass)([this.defaultBackdropDiv],"e-sidebar-overlay"):this.showBackdrop&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null)},t.prototype.hide=function(e){var t=this,n={model:this,element:this.element,cancel:!1,isInteracted:!i.i(s.isNullOrUndefined)(e),event:e||null};this.trigger("close",n,function(e){if(!e.cancel){if(t.element.classList.contains(a))return;t.element.classList.contains(l)&&!t.animate&&t.triggerChange(),i.i(s.addClass)([t.element],a),i.i(s.removeClass)([t.element],l),i.i(s.setStyleAttribute)(t.element,{width:i.i(s.formatUnit)(t.enableDock?t.dockSize:t.width)}),t.setType(t.type);var n=document.querySelector(".e-main-content")||t.targetEle;!t.enableDock&&n&&(n.style.transform="translateX(0px)",n.style["Left"===t.position?"marginLeft":"marginRight"]="0px"),t.destroyBackDrop(),t.setAnimation(),"Slide"===t.type&&document.body.classList.remove("e-sidebar-overflow"),t.setProperties({isOpen:!1},!0),t.enableDock&&setTimeout(function(){return t.setTimeOut()},50),s.EventHandler.add(t.element,"transitionend",t.transitionEnd,t)}})},t.prototype.setTimeOut=function(){var e=document.querySelector(".e-main-content")||this.targetEle,t=this.element.getBoundingClientRect().width;!this.element.classList.contains(l)||!e||"Over"===this.type&&this.enableDock?this.element.classList.contains(a)&&e&&("Left"===this.position?e.style.marginLeft=this.setDimension("auto"===this.dockSize?t:this.dockSize):e.style.marginRight=this.setDimension("auto"===this.dockSize?t:this.dockSize)):"Left"===this.position?e.style.marginLeft=this.setDimension("auto"===this.width?t:this.width):e.style.marginRight=this.setDimension("auto"===this.width?t:this.width)},t.prototype.show=function(e){var t=this,n={model:this,element:this.element,cancel:!1,isInteracted:!i.i(s.isNullOrUndefined)(e),event:e||null};this.trigger("open",n,function(e){if(!e.cancel){if(i.i(s.removeClass)([t.element],["e-visibility","e-disable-animation"]),t.element.classList.contains(l))return;t.element.classList.contains(a)&&!t.animate&&t.triggerChange(),i.i(s.addClass)([t.element],[l,"e-transition"]),i.i(s.setStyleAttribute)(t.element,{transform:""}),i.i(s.removeClass)([t.element],a),i.i(s.setStyleAttribute)(t.element,{width:i.i(s.formatUnit)(t.width)}),t.setType(t.type),t.createBackDrop(),t.setAnimation(),"Slide"===t.type&&document.body.classList.add("e-sidebar-overflow"),t.setProperties({isOpen:!0},!0),s.EventHandler.add(t.element,"transitionend",t.transitionEnd,t)}})},t.prototype.setAnimation=function(){this.animate?i.i(s.removeClass)([this.element],"e-disable-animation"):i.i(s.addClass)([this.element],"e-disable-animation")},t.prototype.triggerChange=function(){var e={name:"change",element:this.element};this.trigger("change",e)},t.prototype.setDock=function(){this.enableDock&&"Left"===this.position&&!this.getState()?i.i(s.setStyleAttribute)(this.element,{transform:"translateX(-100%) translateX("+this.setDimension(this.dockSize)+")"}):this.enableDock&&"Right"===this.position&&!this.getState()&&i.i(s.setStyleAttribute)(this.element,{transform:"translateX(100%) translateX(-"+this.setDimension(this.dockSize)+")"}),this.element.classList.contains(a)&&this.enableDock&&i.i(s.setStyleAttribute)(this.element,{width:this.setDimension(this.dockSize)})},t.prototype.createBackDrop=function(){if(this.target&&this.showBackdrop&&this.getState()){var e=this.target,t=document.querySelector(".e-main-content")||this.targetEle;this.defaultBackdropDiv=this.createElement("div"),i.i(s.addClass)([this.defaultBackdropDiv],"e-sidebar-overlay"),i.i(s.setStyleAttribute)(this.defaultBackdropDiv,{height:e.style.height}),t.appendChild(this.defaultBackdropDiv)}else this.showBackdrop&&!this.modal&&this.getState()&&(this.modal=this.createElement("div"),this.modal.className="e-sidebar-overlay",this.modal.style.display="block",document.body.appendChild(this.modal))},t.prototype.getPersistData=function(){return this.addOnPersist(["type","position","isOpen"])},t.prototype.getModuleName=function(){return"sidebar"},t.prototype.toggle=function(){this.element.classList.contains(l)?this.hide():this.show()},t.prototype.getState=function(){return!!this.element.classList.contains(l)},t.prototype.setMediaQuery=function(){if(this.mediaQuery){var e=!1;e="string"==typeof this.mediaQuery?window.matchMedia(this.mediaQuery).matches:this.mediaQuery.matches,e&&this.windowWidth!==window.innerWidth?this.show():this.getState()&&this.windowWidth!==window.innerWidth&&this.hide()}},t.prototype.resize=function(){"Auto"===this.type&&(s.Browser.isDevice?i.i(s.addClass)([this.element],c):i.i(s.addClass)([this.element],p)),this.setMediaQuery(),s.Browser.isDevice&&(this.windowWidth=window.innerWidth)},t.prototype.documentclickHandler=function(e){i.i(s.closest)(e.target,".e-control."+o)||this.hide(e)},t.prototype.enableGestureHandler=function(e){!this.isOpen&&"Left"===this.position&&"Right"===e.swipeDirection&&e.startX<=20&&e.distanceX>=50&&e.velocity>=.5?this.show():this.isOpen&&"Left"===this.position&&"Left"===e.swipeDirection?this.hide():this.isOpen&&"Right"===this.position&&"Right"===e.swipeDirection?this.hide():!this.isOpen&&"Right"===this.position&&"Left"===e.swipeDirection&&window.innerWidth-e.startX<=20&&e.distanceX>=50&&e.velocity>=.5&&this.show()},t.prototype.setEnableGestures=function(){this.enableGestures?(this.mainContentEle=new s.Touch(document.body,{swipe:this.enableGestureHandler.bind(this)}),this.sidebarEle=new s.Touch(this.element,{swipe:this.enableGestureHandler.bind(this)})):this.mainContentEle&&this.sidebarEle&&(this.mainContentEle.destroy(),this.sidebarEle.destroy())},t.prototype.wireEvents=function(){this.setEnableGestures(),s.EventHandler.add(window,"resize",this.resize,this)},t.prototype.unWireEvents=function(){s.EventHandler.remove(window,"resize",this.resize),s.EventHandler.remove(document,"mousedown touchstart",this.documentclickHandler),this.mainContentEle&&this.mainContentEle.destroy(),this.sidebarEle&&this.sidebarEle.destroy()},t.prototype.onPropertyChanged=function(t,n){for(var r=document.querySelector(".e-main-content")||this.targetEle,o=this.isServerRendered,a=0,l=Object.keys(t);a<l.length;a++){switch(l[a]){case"isOpen":this.isOpen?this.show():this.hide();break;case"width":this.setWidth(),this.getState()||this.setDock();break;case"animate":this.setAnimation();break;case"type":this.checkType(!1),i.i(s.removeClass)([this.element],["e-visibility"]),this.addClass(),i.i(s.addClass)([this.element],"Auto"===this.type?s.Browser.isDevice?["e-over"]:["e-push"]:["e-"+this.type.toLowerCase()]);break;case"position":this.element.style.transform="",this.setDock(),r&&(r.style["Left"===this.position?"marginRight":"marginLeft"]="0px"),"Right"===this.position?(i.i(s.removeClass)([this.element],h),i.i(s.addClass)([this.element],d)):(i.i(s.removeClass)([this.element],d),i.i(s.addClass)([this.element],h)),this.setType(this.type);break;case"showBackdrop":this.showBackdrop?this.createBackDrop():this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null);break;case"target":"string"==typeof this.target&&this.setProperties({target:document.querySelector(this.target)},!0),i.i(s.isNullOrUndefined)(this.target)&&(i.i(s.removeClass)([this.element],"e-sidebar-absolute"),i.i(s.removeClass)([n.target],u),i.i(s.setStyleAttribute)(r,{"margin-left":0,"margin-right":0}),document.body.insertAdjacentElement("afterbegin",this.element)),this.isServerRendered=!1,e.prototype.refresh.call(this),this.isServerRendered=o;break;case"closeOnDocumentClick":this.setCloseOnDocumentClick();break;case"enableDock":this.getState()||this.setDock();break;case"zIndex":this.setZindex();break;case"mediaQuery":this.setMediaQuery();break;case"enableGestures":this.setEnableGestures();break;case"enableRtl":this.setEnableRTL()}}},t.prototype.setType=function(e){var t=this.element.getBoundingClientRect().width;this.setZindex();var n=document.querySelector(".e-main-content")||this.targetEle;n&&(n.style.transform="translateX(0px)",s.Browser.isDevice||"Auto"===this.type||"Over"===this.type&&this.enableDock||(n.style["Left"===this.position?"marginLeft":"marginRight"]="0px"));var r=(this.position,t+"px"),o="Left"===this.position?t:-t;switch(i.i(s.removeClass)([this.element],[p,c,"e-slide"]),e){case"Push":i.i(s.addClass)([this.element],[p]),n&&(this.enableDock||this.element.classList.contains(l))&&(n.style["Left"===this.position?"marginLeft":"marginRight"]=r);break;case"Slide":i.i(s.addClass)([this.element],["e-slide"]),n&&(this.enableDock||this.element.classList.contains(l))&&(n.style.transform="translateX("+o+"px)");break;case"Over":i.i(s.addClass)([this.element],[c]),this.enableDock&&(this.element.classList.contains(a)||this.isOpen)&&n&&(n.style["Left"===this.position?"marginLeft":"marginRight"]=this.setDimension(this.dockSize));break;case"Auto":i.i(s.addClass)([this.element],["e-transition"]),s.Browser.isDevice?n&&this.enableDock&&!this.getState()?(n.style["Left"===this.position?"marginLeft":"marginRight"]=r,i.i(s.addClass)([this.element],p)):i.i(s.addClass)([this.element],c):(i.i(s.addClass)([this.element],p),n&&(this.enableDock||this.element.classList.contains(l))&&(n.style["Left"===this.position?"marginLeft":"marginRight"]=r)),this.createBackDrop()}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.target&&i.i(s.removeClass)([this.target],u),this.destroyBackDrop(),this.element&&(i.i(s.removeClass)([this.element],[l,a,p,"e-slide",c,h,d,"e-transition","e-disable-animation"]),i.i(s.removeClass)([this.element],"e-sidebar-absolute"),this.element.style.width="",this.element.style.zIndex="",this.element.style.transform="",i.i(s.isNullOrUndefined)(this.sidebarEleCopy.getAttribute("tabindex"))?this.element.removeAttribute("tabindex"):this.element.setAttribute("tabindex",this.tabIndex)),this.windowWidth=null;var t=document.querySelector(".e-main-content")||this.targetEle;i.i(s.isNullOrUndefined)(t)||(t.style.margin="",t.style.transform=""),this.unWireEvents()},r([i.i(s.Property)("auto")],t.prototype,"dockSize",void 0),r([i.i(s.Property)(null)],t.prototype,"mediaQuery",void 0),r([i.i(s.Property)(!1)],t.prototype,"enableDock",void 0),r([i.i(s.Property)("en-US")],t.prototype,"locale",void 0),r([i.i(s.Property)(!1)],t.prototype,"enablePersistence",void 0),r([i.i(s.Property)(!0)],t.prototype,"enableGestures",void 0),r([i.i(s.Property)(!1)],t.prototype,"isOpen",void 0),r([i.i(s.Property)(!1)],t.prototype,"enableRtl",void 0),r([i.i(s.Property)(!0)],t.prototype,"animate",void 0),r([i.i(s.Property)("auto")],t.prototype,"height",void 0),r([i.i(s.Property)(!1)],t.prototype,"closeOnDocumentClick",void 0),r([i.i(s.Property)("Left")],t.prototype,"position",void 0),r([i.i(s.Property)(null)],t.prototype,"target",void 0),r([i.i(s.Property)(!1)],t.prototype,"showBackdrop",void 0),r([i.i(s.Property)("Auto")],t.prototype,"type",void 0),r([i.i(s.Property)("auto")],t.prototype,"width",void 0),r([i.i(s.Property)(1e3)],t.prototype,"zIndex",void 0),r([i.i(s.Event)()],t.prototype,"created",void 0),r([i.i(s.Event)()],t.prototype,"close",void 0),r([i.i(s.Event)()],t.prototype,"open",void 0),r([i.i(s.Event)()],t.prototype,"change",void 0),r([i.i(s.Event)()],t.prototype,"destroyed",void 0),t=r([s.NotifyPropertyChanges],t)}(s.Component)},function(e,t,i){"use strict";i.d(t,"a",function(){return I}),i.d(t,"b",function(){return s}),i.d(t,"c",function(){return E}),i.d(t,"d",function(){return N});var s,n=i(0),r=(i.n(n),i(8)),o=i(1),a=(i.n(o),this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}()),l=this&&this.__decorate||function(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},d="e-indicator",h="e-step-text-container",c="e-step-selected",p="e-step-inprogress",u="e-step-notstarted",f="e-step-focus",m="e-step-completed",v="e-step-disabled",g="e-stepper-readonly",y="e-rtl",b="e-label-before",C="e-horizontal",S="e-step-type-indicator",x="e-step-type-label",I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),l([i.i(n.Property)(!0)],t.prototype,"enable",void 0),l([i.i(n.Property)(2e3)],t.prototype,"duration",void 0),l([i.i(n.Property)(0)],t.prototype,"delay",void 0),t}(n.ChildProperty);!function(e){e.Top="Top",e.Bottom="Bottom",e.Start="Start",e.End="End"}(s||(s={}));var E;!function(e){e.Default="Default",e.Label="Label",e.Indicator="Indicator"}(E||(E={}));var N=function(e){function t(t,i){var s=e.call(this,t,i)||this;return s.stepperItemElements=[],s}return a(t,e),t.prototype.preRender=function(){this.element.id||(this.element.id=i.i(n.getUniqueID)("e-"+this.getModuleName()));var e={optional:"Optional"};this.l10n=new n.L10n("stepper",e,this.locale),this.keyConfigs={downarrow:"downarrow",leftarrow:"leftarrow",rightarrow:"rightarrow",uparrow:"uparrow",space:"space",enter:"enter",home:"home",end:"end",tab:"tab",shiftTab:"shift+tab",escape:"escape"},this.tooltipOpen=!1},t.prototype.getModuleName=function(){return"stepper"},t.prototype.render=function(){this.initialize(),this.navigationHandler(this.activeStep,null,!1),this.updateStepperStatus(!0)},t.prototype.initialize=function(){var e=this;this.element.setAttribute("aria-label",this.element.id),this.updatePosition(),this.stepperItemList=this.createElement("ol",{className:"e-stepper-steps"}),this.updateOrientaion(this.element),this.updateStepType(),this.element.appendChild(this.stepperItemList),this.cssClass&&i.i(n.addClass)([this.element],this.cssClass.trim().split(" ")),this.readOnly&&this.element.classList.add(g),this.enableRtl&&this.element.classList.add(y),this.wireEvents(),this.updateTemplateFunction(),this.renderItems(),this.steps.length>0&&(this.steps.length>1&&(this.isAngular&&this.template?setTimeout(function(){e.renderProgressBar(e.element)}):this.renderProgressBar(this.element)),this.checkValidStep(),this.updateAnimation(),this.updateTooltip(),this.wireKeyboardEvent())},t.prototype.updatePosition=function(){this.progressBarPosition=this.beforeLabelWidth=this.textEleWidth=0},t.prototype.renderDefault=function(e){return!(this.steps[parseInt(e.toString(),10)].iconCss||this.steps[parseInt(e.toString(),10)].text||this.steps[parseInt(e.toString(),10)].label)},t.prototype.updateAnimation=function(){var e=this.element.querySelector(".e-progressbar-value");this.animation.enable?(this.animation.duration>=0&&e&&e.style.setProperty("--duration",this.animation.duration+"ms"),this.animation.delay>=0&&e&&e.style.setProperty("--delay",this.animation.delay+"ms")):e&&(e.style.setProperty("--delay","0ms"),e.style.setProperty("--duration","0ms"))},t.prototype.updateStepType=function(){this.stepType.toLowerCase(),"default"!==this.stepType.toLowerCase()&&this.element.classList.add("e-step-type-"+this.stepType.toLowerCase()),this.stepType.toLowerCase(),this.labelContainer&&this.clearLabelPosition()},t.prototype.wireEvents=function(){var e=this;n.EventHandler.add(window,"resize",function(){e.stepperItemList&&e.progressbar&&e.element.classList.contains(C)&&e.setProgressPosition(e.element,!0)},this),n.EventHandler.add(window,"click",function(){e.updateStepFocus()},this)},t.prototype.updateStepFocus=function(){if(this.isKeyNavFocus){this.isKeyNavFocus=!1;var e=this.element.querySelector("."+f);e&&(e.classList.remove(f),this.element.classList.remove("e-steps-focus"))}},t.prototype.updateStepperStatus=function(e){for(var t=0;t<this.steps.length;t++){var i=this.steps[parseInt(t.toString(),10)],s=i.status.toLowerCase();if(e&&0===this.activeStep&&0===t&&(i.status=r.a.InProgress),i&&"notstarted"!==s&&t===this.activeStep)for(var n=0;n<this.steps.length;n++){var o=this.stepperItemElements[parseInt(n.toString(),10)];o.classList.remove(c,p,m,u);var a=this.isProtectedOnChange;this.isProtectedOnChange=!0,"completed"===s?this.updateStatusClass(n,t,o):this.updateStatusClass(n,t,o,!0),this.isProtectedOnChange=a}else i&&"notstarted"!==s&&t!==this.activeStep&&this.navigationHandler(this.activeStep,null,!0)}},t.prototype.updateStatusClass=function(e,t,i,s){var n=this.steps[parseInt(e.toString(),10)];e<t?(i.classList.add(m),n.status=r.a.Completed):e===t?i.classList.add(s?p:m,c):i.classList.add(u)},t.prototype.renderItems=function(){for(var e=this,t=0;t<this.steps.length;t++){this.stepperItemContainer=this.createElement("li",{className:"e-step-container"}),this.stepperItemContainer.classList[0===t?"add":"remove"](c,p),this.stepperItemContainer.classList[0!==t?"add":"remove"](u),this.element.classList.contains(C)&&this.stepperItemContainer.style.setProperty("--max-width",100/this.steps.length+"%");var s=this.createElement("span",{className:"e-step"});if(this.renderDefault(t)&&(i.i(n.isNullOrUndefined)(this.template)||""===this.template)){var r=!this.element.classList.contains("e-step-type-default")&&"indicator"===this.stepType.toLowerCase();r&&s.classList.add("e-icons","e-step-indicator"),r||(s.classList.add("e-step-content"),s.innerHTML=(t+1).toString()),this.stepperItemContainer.appendChild(s)}else if(i.i(n.isNullOrUndefined)(this.template)||""===this.template){var o=!0,a=this.steps[parseInt(t.toString(),10)];if(a.iconCss&&(!a.text&&!a.label||!this.element.classList.contains(x))){var l=a.iconCss.trim().split(" ");s.classList.add(d);for(var f=0;f<l.length;f++)s.classList.add(l[parseInt(f.toString(),10)]);if(this.stepperItemContainer.appendChild(s),this.stepperItemContainer.classList.add("e-step-icon"),this.element.classList.contains(C)&&("start"===this.labelPosition.toLowerCase()||"end"===this.labelPosition.toLowerCase())&&a.label||this.element.classList.contains("e-vertical")&&("top"===this.labelPosition.toLowerCase()||"bottom"===this.labelPosition.toLowerCase())&&a.label){this.element.classList.add("e-label-"+this.labelPosition.toLowerCase());var m=this.createElement("span",{className:h+" e-text"});m.innerText=a.label,this.stepperItemContainer.appendChild(m),this.stepperItemContainer.classList.add("e-step-text"),o=!1}}if(a.text&&(!a.iconCss||!this.element.classList.contains(S))&&o&&(!a.iconCss||!a.label))if(!a.iconCss&&this.element.classList.contains(S)){this.checkValidState(a,s);var g=this.isProtectedOnChange;this.isProtectedOnChange=!0,a.label=null,this.isProtectedOnChange=g}else{this.textContainer=this.createElement("span",{className:h});var m=this.createElement("span",{className:"e-text"});if(a.label||(m.innerText=a.text,null===a.isValid||a.iconCss&&!this.element.classList.contains(x)?m.classList.add(h):this.textContainer.appendChild(m),this.stepperItemContainer.appendChild(null===a.isValid||a.iconCss&&!this.element.classList.contains(x)?m:this.textContainer),this.stepperItemContainer.classList.add("e-step-text")),(!a.iconCss||this.element.classList.contains(x))&&(this.stepperItemContainer.classList.add("e-step-text-only"),!a.label&&null!==a.isValid)){var y=this.createElement("span",{className:"e-step-validation-icon e-icons"});this.textContainer.appendChild(y)}a.label&&this.element.classList.contains(x)&&(m.innerText=a.label);var g=this.isProtectedOnChange;this.isProtectedOnChange=!0,a.text=a.label?null:a.text,this.isProtectedOnChange=g}if(a.cssClass&&i.i(n.addClass)([this.stepperItemContainer],a.cssClass.trim().split(" ")),a.disabled&&(this.stepperItemContainer.classList[a.disabled?"add":"remove"](v),i.i(n.attributes)(this.stepperItemContainer,{tabindex:"-1","aria-disabled":"true"})),a.label&&(!a.iconCss||!this.element.classList.contains(S))&&o)if(a.iconCss||a.text||!this.element.classList.contains(S)){if(!this.element.classList.contains(x)||!a.text||this.element.classList.contains(x)&&a.label){this.labelContainer=this.createElement("span",{className:"e-step-label-container"});var I=this.createElement("span",{className:"e-label"});if(I.innerText=a.label,this.labelContainer.appendChild(I),this.stepperItemContainer.classList.add("e-step-label"),this.updateLabelPosition(),(!a.iconCss&&!a.text||this.element.classList.contains(x))&&(this.stepperItemContainer.classList.add("e-step-label-only"),null!==a.isValid)){var y=this.createElement("span",{className:"e-step-validation-icon e-icons"});this.labelContainer.appendChild(y)}}}else this.checkValidState(a,s,!0);if(a.optional){var E=this.createElement("span",{className:"e-step-label-optional"});this.l10n.setLocale(this.locale);var N=this.l10n.getConstant("optional");E.innerText=N,a.label&&this.labelContainer&&(this.element.classList.contains("e-label-after")&&!this.stepperItemContainer.classList.contains("e-step-label-only")||this.element.classList.contains(C)&&this.element.classList.contains(b)&&!this.stepperItemContainer.classList.contains("e-step-label-only"))||this.element.classList.contains("e-vertical")&&this.element.classList.contains(b)?this.labelContainer.appendChild(E):this.stepperItemContainer.appendChild(E)}null!==a.isValid&&(a.isValid?this.stepperItemContainer.classList.add("e-step-valid"):this.stepperItemContainer.classList.add("e-step-error"))}this.renderItemContent(t,!1),this.stepperItemContainer.classList.contains(p)?i.i(n.attributes)(this.stepperItemContainer,{tabindex:"0","aria-current":"true"}):i.i(n.attributes)(this.stepperItemContainer,{tabindex:"-1"}),this.wireItemsEvents(this.stepperItemContainer,t),this.stepperItemElements.push(this.stepperItemContainer);var w={element:this.stepperItemContainer,index:t};this.trigger("beforeStepRender",w,function(t){e.stepperItemList.appendChild(t.element)}),this.isAngular&&this.template?setTimeout(function(){e.calculateProgressBarPosition()}):this.calculateProgressBarPosition()}if(this.element.classList.contains("e-vertical")&&this.element.classList.contains(b))for(var O=this.stepperItemList.querySelectorAll(".e-label"),f=0;f<O.length;f++){var L=O[parseInt(f.toString(),10)];L.style.setProperty("--label-width",this.beforeLabelWidth+5+"px")}},t.prototype.calculateProgressBarPosition=function(){var e=!!this.element.classList.contains(b);if(!!this.element.classList.contains("e-vertical")){var t=!(!this.stepperItemContainer.classList.contains("e-step-icon")||this.stepperItemContainer.classList.contains("e-step-text")||this.stepperItemContainer.classList.contains("e-step-label")),i=this.stepperItemContainer.querySelector("."+h);if(i&&(this.textEleWidth=this.textEleWidth<i.offsetWidth?i.offsetWidth:this.textEleWidth),e){var s=void 0,n=this.stepperItemContainer.querySelector(".e-label").offsetWidth+15;this.beforeLabelWidth<n&&(this.beforeLabelWidth=n),this.element.querySelector("ol").lastChild.querySelector("."+d)?s=this.beforeLabelWidth+this.stepperItemContainer.querySelector("."+d).offsetWidth/2:this.stepperItemContainer.querySelector("."+h)&&(s=this.beforeLabelWidth+this.stepperItemContainer.querySelector("."+h).offsetWidth/2),this.progressBarPosition<s&&(this.progressBarPosition=s)}else this.progressBarPosition<(t?this.stepperItemContainer.offsetWidth:this.element.querySelector("ol").lastChild.firstChild.offsetWidth)&&(this.progressBarPosition=t?this.stepperItemContainer.offsetWidth:this.element.querySelector("ol").lastChild.firstChild.offsetWidth)}},t.prototype.checkValidState=function(e,t,i){null==e.isValid?(t.classList.add("e-step-content"),t.innerHTML=i?e.label:e.label?e.label:e.text,this.stepperItemContainer.appendChild(t)):(t.classList.add(d),this.stepperItemContainer.appendChild(t),this.stepperItemContainer.classList.add("e-step-icon"))},t.prototype.updateCurrentLabel=function(){return this.element.classList.contains(C)?"top"===this.labelPosition.toLowerCase()?"before":"bottom"===this.labelPosition.toLowerCase()?"after":this.labelPosition.toLowerCase():"start"===this.labelPosition.toLowerCase()?"before":"end"===this.labelPosition.toLowerCase()?"after":this.labelPosition.toLowerCase()},t.prototype.updateLabelPosition=function(){this.clearLabelPosition(),this.labelContainer.classList.add("e-label-"+this.updateCurrentLabel()),"start"===this.labelPosition.toLowerCase()&&"vertical"===this.orientation.toLowerCase()&&this.stepperItemContainer.firstChild?this.stepperItemContainer.firstChild.before(this.labelContainer):this.stepperItemContainer.appendChild(this.labelContainer),this.element.classList.add("e-label-"+this.updateCurrentLabel())},t.prototype.clearLabelPosition=function(){var e=this.labelContainer.classList.value.match(/(e-label-[after|before]+)/g);e&&(i.i(n.removeClass)([this.labelContainer],e),i.i(n.removeClass)([this.element],e))},t.prototype.checkValidStep=function(){for(var e=0;e<this.steps.length;e++){var t=this.steps[parseInt(e.toString(),10)],i=this.stepperItemElements[parseInt(e.toString(),10)];if(null!==t.isValid){var s=void 0,n=void 0;this.element.classList.contains(S)&&!t.iconCss?s=i.querySelector("."+d):n=i.querySelector("."+d);var r=i.querySelector(".e-step-validation-icon"),o=t.iconCss.trim().split(" "),a=i.classList.contains("e-step-valid");if(s&&s.classList.add("e-icons",a?"e-check":"e-circle-info"),n){for(var l=0;l<o.length;l++)n.classList.remove(o[parseInt(l.toString(),10)]);n.classList.add("e-icons",a?"e-check":"e-circle-info")}if(r&&(r.classList.add(a?"e-circle-check":"e-circle-info"),this.element.classList.contains("e-vertical"))){var h=i.querySelector(".e-label"),c=i.querySelector(".e-text"),p=c?c.offsetWidth+c.getBoundingClientRect().left:h.offsetWidth+h.getBoundingClientRect().left;i.querySelector(".e-step-validation-icon").style.setProperty("--icon-position",p+20+"px")}}}},t.prototype.updateTooltip=function(){this.showTooltip?(this.tooltipObj=new o.Tooltip({target:".e-step-container",windowCollision:!0,opensOn:"Custom",cssClass:this.cssClass?"e-stepper-tooltip "+this.cssClass:"e-stepper-tooltip",position:"TopCenter"}),this.tooltipObj.appendTo(this.stepperItemList)):i.i(n.isNullOrUndefined)(this.tooltipObj)||(this.tooltipObj.destroy(),this.tooltipObj=null)},t.prototype.wireItemsEvents=function(e,t){var i=this;n.EventHandler.add(e,"click",function(s){if(i.linear){var n=t-i.activeStep;1===Math.abs(n)&&i.stepClickHandler(t,s,e)}else i.stepClickHandler(t,s,e)},this),n.EventHandler.add(e,"mouseover",function(){return i.openStepperTooltip(t)},this),n.EventHandler.add(e,"mouseleave",function(){return i.closeStepperTooltip()},this)},t.prototype.openStepperTooltip=function(e){var t=this.steps[parseInt(e.toString(),10)];if(this.showTooltip&&(t.label||t.text)&&!this.tooltipOpen){if(this.updateTooltipContent(e),this.tooltipObj.open(this.stepperItemElements[parseInt(e.toString(),10)]),"label"!==this.stepType.toLocaleLowerCase()&&("indicator"===this.stepType.toLocaleLowerCase()||""!==t.label&&""!==t.iconCss)){var i="inprogress"===t.status.toLowerCase()?"e-stepper-tooltip e-step-inprogress-tip "+(this.cssClass?this.cssClass:""):"e-stepper-tooltip "+(this.cssClass?this.cssClass:"");this.tooltipObj.setProperties({cssClass:i.trim()})}this.tooltipOpen=!0}},t.prototype.closeStepperTooltip=function(){this.tooltipOpen&&(this.tooltipObj.close(),this.tooltipOpen=!1)},t.prototype.updateTooltipContent=function(e){if(this.showTooltip){this.isReact&&this.clearTemplate(["stepperTooltipTemplate"]);var t=void 0,s=this.steps[parseInt(e.toString(),10)];if(this.tooltipTemplate){t=this.createElement("span",{className:"e-stepper-tooltip-content"});var r=this.getTemplateFunction(this.tooltipTemplate);i.i(n.append)(r({value:s},this,"stepperTooltipTemplate",this.element.id+"tooltipTemplate",this.isStringTemplate),t),this.tooltipObj.setProperties({content:t},!0)}else{var o=s.label?s.label:s.text;this.tooltipObj.setProperties({content:i.i(n.initializeCSPTemplate)(function(){return o})},!0)}this.renderReactTemplates()}},t.prototype.stepClickHandler=function(e,t,i){var s={element:i,event:t,previousStep:this.activeStep,activeStep:e};this.trigger("stepClick",s),this.navigateToStep(e,t,i,!0)},t.prototype.updateTemplateFunction=function(){this.templateFunction=this.template?this.getTemplateFunction(this.template):null},t.prototype.renderItemContent=function(e,t){var s=this.stepperItemList.querySelectorAll("li");if(t&&this.removeItemContent(s[parseInt(e.toString(),10)]),this.template){t?s[parseInt(e.toString(),10)].classList.add("e-step-template"):this.stepperItemContainer.classList.add("e-step-template");var r=this.steps[parseInt(e.toString(),10)];i.i(n.append)(this.templateFunction({step:r,currentStep:e},this,"stepperTemplate",this.element.id+"_stepperTemplate",this.isStringTemplate),t?s[parseInt(e.toString(),10)]:this.stepperItemContainer)}this.renderReactTemplates()},t.prototype.removeItemContent=function(e){e.classList.remove("e-step-template");for(var t=e.firstElementChild,i=0;i<e.childElementCount;i++)t.remove()},t.prototype.updateContent=function(){this.isReact&&this.clearTemplate(["stepperTemplate"]);for(var e=0;e<this.steps.length;e++)this.renderItemContent(e,!0)},t.prototype.getTemplateFunction=function(e){if("string"==typeof e){var t="";try{var s=i.i(n.select)(e);t=s?"SCRIPT"===s.tagName?s.innerHTML:s.outerHTML:e}catch(i){t=e}return i.i(n.compile)(t)}return i.i(n.compile)(e)},t.prototype.navigateToStep=function(e,t,i,s,n){var r=this,o={element:i,event:t,isInteracted:s,previousStep:this.activeStep,activeStep:e,cancel:!1};if(0!=n){var a=this.activeStep;this.trigger("stepChanging",o,function(n){if(!n.cancel){r.navigationHandler(e);var o={element:i,event:t,isInteracted:s,previousStep:a,activeStep:r.activeStep};r.trigger("stepChanged",o)}})}else this.navigationHandler(e)},t.prototype.navigationHandler=function(e,t,s){e=e>=this.steps.length-1?this.steps.length-1:e;var o=this.stepperItemElements.length;e>=0&&e<o-1&&(e=this.stepperItemElements[parseInt(e.toString(),10)].classList.contains(v)?this.activeStep:e);var a=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.activeStep=e,this.isProtectedOnChange=a;for(var l=0;l<this.steps.length;l++){var h=this.stepperItemElements[parseInt(l.toString(),10)],f=this.steps[parseInt(l.toString(),10)];if(h.classList.remove(c,p,m,u),l===this.activeStep&&h.classList.add(c),this.activeStep>=0&&this.progressbar)if(this.element.classList.contains(C))if((this.element.classList.contains(b)||this.element.classList.contains("e-label-after"))&&!this.element.classList.contains(S)&&this.stepperItemElements[parseInt(this.activeStep.toString(),10)].classList.contains("e-step-icon")){var g=this.element.querySelector(".e-stepper-progressbar"),x=this.stepperItemElements[parseInt(this.activeStep.toString(),10)].firstChild,I=0===this.activeStep?0:(x.offsetLeft-g.offsetLeft+x.offsetWidth/2)/g.offsetWidth*100;if(this.element.classList.contains(y)){var E=this.stepperItemElements[0].firstChild;I=(g.offsetWidth-x.offsetLeft+Math.abs(E.offsetLeft+E.offsetWidth-this.stepperItemList.offsetWidth))/g.offsetWidth*100,this.progressbar.style.setProperty("--progress-value",I+"%")}else this.progressbar.style.setProperty("--progress-value",I+"%")}else{for(var N=0,w=0,O=0;O<this.stepperItemElements.length;O++)N+=this.stepperItemElements[parseInt(O.toString(),10)].offsetWidth,O<=this.activeStep&&(O<this.activeStep?w+=this.stepperItemElements[parseInt(O.toString(),10)].offsetWidth:O==this.activeStep&&0!==O&&(w+=this.stepperItemElements[parseInt(O.toString(),10)].offsetWidth/2));var L=(this.stepperItemList.offsetWidth-N)/(this.stepperItemElements.length-1),k=(w+L*this.activeStep)/this.stepperItemList.offsetWidth*100;this.progressbar.style.setProperty("--progress-value",k+"%")}else this.progressbar.style.setProperty("--progress-value",100/(this.steps.length-1)*e+"%");else this.activeStep<0&&this.progressbar&&this.progressbar.style.setProperty("--progress-value","0%");l===this.activeStep?h.classList.add(p):this.activeStep>0&&l<this.activeStep?h.classList.add(m):h.classList.add(u),h.classList.contains(p)?i.i(n.attributes)(h,{tabindex:"0","aria-current":"true"}):i.i(n.attributes)(h,{tabindex:"-1","aria-current":"false"});var A=this.isProtectedOnChange;this.isProtectedOnChange=!0,!1!==s&&(l<this.activeStep||this.steps.length-1===this.activeStep&&"completed"===f.status.toLowerCase()?f.status=r.a.Completed:l===this.activeStep?f.status=r.a.InProgress:l>this.activeStep&&(f.status=r.a.NotStarted),t&&this.activeStep===l&&(f.status=t),"completed"===f.status.toLowerCase()&&(h.classList.remove(c,p,u),h.classList.add(m)),"notstarted"===f.status.toLowerCase()&&(h.classList.remove(c,p,m),h.classList.add(u))),this.isProtectedOnChange=A,this.renderDefault(l)&&this.element.classList.contains(S)&&(h.classList.contains(m)?(h.firstChild.classList.remove("e-icons","e-step-indicator"),h.firstChild.classList.add(d,"e-icons","e-check")):(h.classList.contains(p)||h.classList.contains(u))&&(h.firstChild.classList.remove(d,"e-icons","e-check"),h.firstChild.classList.add("e-icons","e-step-indicator")))}},t.prototype.removeItemElements=function(){for(var e=0;e<this.stepperItemElements.length;e++)i.i(n.remove)(this.stepperItemElements[parseInt(e.toString(),10)]);this.stepperItemElements=[]},t.prototype.nextStep=function(){this.activeStep!==this.steps.length-1&&this.navigateToStep(this.activeStep+1,null,null,!1)},t.prototype.previousStep=function(){this.activeStep>0&&this.navigateToStep(this.activeStep-1,null,null,!1)},t.prototype.reset=function(){if(0!==this.activeStep){var e=!!this.stepperItemElements[0].classList.contains(v);this.navigateToStep(e?-1:0,null,null,!1)}},t.prototype.updateElementClassArray=function(){var e=[y,g,"e-steps-focus","e-label-after",b,"e-label-top","e-label-bottom","e-label-start","e-label-end",S,x,"e-vertical",C];i.i(n.removeClass)([this.element],e)},t.prototype.destroy=function(){var t=this;e.prototype.destroy.call(this),n.EventHandler.remove(window,"resize",function(){t.stepperItemList&&t.progressbar&&t.setProgressPosition(t.element,!0)}),n.EventHandler.remove(window,"click",function(){t.updateStepFocus()}),this.removeItemElements(),this.clearTemplate(),this.stepperItemList&&i.i(n.remove)(this.stepperItemList),this.stepperItemList=null,this.progressStep&&i.i(n.remove)(this.progressStep),this.progressStep=null,this.progressbar=null,this.progressBarPosition=null,this.stepperItemContainer=null,this.textContainer=null,this.labelContainer=null,this.updateElementClassArray(),this.element.removeAttribute("aria-label"),this.showTooltip&&(this.tooltipObj.destroy(),this.tooltipObj=null),this.keyboardModuleStepper&&this.keyboardModuleStepper.destroy(),this.keyboardModuleStepper=null},t.prototype.wireKeyboardEvent=function(){this.keyboardModuleStepper=new n.KeyboardEvents(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})},t.prototype.keyActionHandler=function(e){if(!this.readOnly)switch(e.action){case"uparrow":case"downarrow":case"leftarrow":case"rightarrow":case"tab":case"shiftTab":this.handleNavigation(this.enableRtl&&this.element.classList.contains(C)?"leftarrow"===e.action||"shiftTab"===e.action||"uparrow"===e.action:"rightarrow"===e.action||"tab"===e.action||"downarrow"===e.action,e);break;case"space":case"enter":case"escape":this.handleNavigation(null,e);break;case"home":case"end":this.handleNavigation(null,e,this.enableRtl)}},t.prototype.handleNavigation=function(e,t,i){this.isKeyNavFocus=!0,this.element.classList.add("e-steps-focus");var s=this.element.querySelector("."+f);s||(s=this.element.querySelector("."+c));var n=Array.prototype.slice.call(this.stepperItemList.children),r=n.indexOf(s);if("tab"===t.action||"shiftTab"===t.action||"downarrow"===t.action||"uparrow"===t.action||"space"===t.action||"home"===t.action||"end"===t.action)if("tab"===t.action&&r===n.length-1||"shiftTab"===t.action&&0===r){if(s.classList.contains(f))return void this.updateStepFocus()}else t.preventDefault();if("escape"===t.action&&(n[parseInt(r.toString(),10)].classList.remove(f),this.element.classList.remove("e-steps-focus")),"space"!==t.action&&"enter"!==t.action){var o=r;for(r=e?r+1:r-1;r>=0&&r<n.length&&n[parseInt(r.toString(),10)].classList.contains(v);)r=e?r+1:r-1;r=r<0?0:r>n.length-1?n.length-1:r,n[parseInt(o.toString(),10)].classList.contains(f)&&n[parseInt(o.toString(),10)].classList.remove(f),"home"!==t.action&&"end"!==t.action||(r="home"===t.action?i?n.length-1:0:i?0:n.length-1),r>=0&&r<n.length&&n[parseInt(r.toString(),10)].classList.add(f)}else if("space"===t.action||"enter"===t.action){var a=!1;if(this.linear){var l=this.activeStep-r;1===Math.abs(l)&&(this.navigateToStep(r,null,null,!0),a=!0)}else this.navigateToStep(r,null,null,!0),a=!0;a&&(this.updateStepFocus(),this.stepperItemElements[r].focus())}},t.prototype.renderStepperItems=function(e,t){this.updateElementClassArray(),this.removeItemElements(),this.element.querySelector(".e-stepper-progressbar").remove(),e&&this.updatePosition(),t&&this.updateStepType(),this.readOnly&&(this.element.classList.contains(g)||this.element.classList.add(g)),this.enableRtl&&(this.element.classList.contains(y)||this.element.classList.add(y)),this.updateOrientaion(this.element),this.renderItems(),this.renderProgressBar(this.element),this.checkValidStep(),this.updateAnimation(),this.navigateToStep(this.activeStep,null,this.stepperItemElements[this.activeStep],!0)},t.prototype.onPropertyChanged=function(e,t){for(var s=0,r=Object.keys(e);s<r.length;s++){switch(r[s]){case"steps":if(e.steps instanceof Array&&t.steps instanceof Array)this.renderStepperItems(!0,!0);else for(var o=Object.keys(e.steps),a=0;a<o.length;a++)for(var l=parseInt(Object.keys(e.steps)[a],10),d=Object.keys(e.steps[l]).length,h=0;h<d;h++){var c=Object.keys(e.steps[l])[h];"status"===c?this.activeStep===l?this.navigationHandler(l,e.steps[l].status):this.steps[l].status=t.steps[l].status:(this.removeItemElements(),this.renderItems(),this.updateStepperStatus()),this.checkValidStep()}break;case"orientation":this.updateOrientaion(this.element),this.renderStepperItems(!0);break;case"activeStep":if(this.activeStep=e.activeStep>this.steps.length-1||e.activeStep<-1?t.activeStep:this.activeStep,this.activeStep>=0&&this.stepperItemElements[parseInt(this.activeStep.toString(),10)].classList.contains(v)&&(this.activeStep=t.activeStep),this.linear){var p=t.activeStep-this.activeStep;1===Math.abs(p)&&this.navigateToStep(this.activeStep,null,null,!0)}else this.navigateToStep(this.activeStep,null,this.stepperItemElements[this.activeStep],!0);break;case"enableRtl":this.element.classList[this.enableRtl?"add":"remove"](y);break;case"readOnly":this.element.classList[this.readOnly?"add":"remove"](g);break;case"cssClass":t.cssClass&&i.i(n.removeClass)([this.element],t.cssClass.trim().split(" ")),e.cssClass&&i.i(n.addClass)([this.element],e.cssClass.trim().split(" ")),this.tooltipObj&&this.tooltipObj.setProperties({cssClass:this.cssClass?"e-stepper-tooltip "+this.cssClass:"e-stepper-tooltip"});break;case"labelPosition":this.renderStepperItems(!0);break;case"showTooltip":this.updateTooltip();break;case"stepType":this.renderStepperItems(!0,!0);break;case"template":this.updateTemplateFunction(),this.updateContent();break;case"animation":this.updateAnimation()}}},l([i.i(n.Property)(0)],t.prototype,"activeStep",void 0),l([i.i(n.Complex)({},I)],t.prototype,"animation",void 0),l([i.i(n.Property)(!1)],t.prototype,"linear",void 0),l([i.i(n.Property)(!1)],t.prototype,"showTooltip",void 0),l([i.i(n.Property)("")],t.prototype,"template",void 0),l([i.i(n.Property)("")],t.prototype,"tooltipTemplate",void 0),l([i.i(n.Property)(s.Bottom)],t.prototype,"labelPosition",void 0),l([i.i(n.Property)(E.Default)],t.prototype,"stepType",void 0),l([i.i(n.Event)()],t.prototype,"stepChanged",void 0),l([i.i(n.Event)()],t.prototype,"stepChanging",void 0),l([i.i(n.Event)()],t.prototype,"stepClick",void 0),l([i.i(n.Event)()],t.prototype,"beforeStepRender",void 0),t=l([n.NotifyPropertyChanges],t)}(r.b)},function(e,t,i){"use strict";i.d(t,"a",function(){return p}),i.d(t,"b",function(){return u}),i.d(t,"c",function(){return f}),i.d(t,"d",function(){return m}),i.d(t,"e",function(){return v});var s=i(0),n=(i.n(s),i(9)),r=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),o=this&&this.__decorate||function(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},a="e-tab-header",l="e-tab-wrap",d="e-toolbar-items",h="e-toolbar-item",c="e-toolbar-popup",p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),o([i.i(s.Property)("SlideLeftIn")],t.prototype,"effect",void 0),o([i.i(s.Property)(600)],t.prototype,"duration",void 0),o([i.i(s.Property)("ease")],t.prototype,"easing",void 0),t}(s.ChildProperty),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),o([i.i(s.Complex)({effect:"SlideLeftIn",duration:600,easing:"ease"},p)],t.prototype,"previous",void 0),o([i.i(s.Complex)({effect:"SlideRightIn",duration:600,easing:"ease"},p)],t.prototype,"next",void 0),t}(s.ChildProperty),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),o([i.i(s.Property)("")],t.prototype,"text",void 0),o([i.i(s.Property)("")],t.prototype,"iconCss",void 0),o([i.i(s.Property)("left")],t.prototype,"iconPosition",void 0),t}(s.ChildProperty),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),o([i.i(s.Complex)({},f)],t.prototype,"header",void 0),o([i.i(s.Property)(null)],t.prototype,"headerTemplate",void 0),o([i.i(s.Property)("")],t.prototype,"content",void 0),o([i.i(s.Property)("")],t.prototype,"cssClass",void 0),o([i.i(s.Property)(!1)],t.prototype,"disabled",void 0),o([i.i(s.Property)(!0)],t.prototype,"visible",void 0),o([i.i(s.Property)()],t.prototype,"id",void 0),o([i.i(s.Property)(-1)],t.prototype,"tabIndex",void 0),t}(s.ChildProperty),v=function(e){function t(t,i){var s=e.call(this,t,i)||this;return s.show={},s.hide={},s.maxHeight=0,s.title="Close",s.isInteracted=!1,s.lastIndex=0,s.isAdd=!1,s.isIconAlone=!1,s.draggableItems=[],s.resizeContext=s.refreshActiveTabBorder.bind(s),s.keyConfigs={tab:"tab",home:"home",end:"end",enter:"enter",space:"space",delete:"delete",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow"},s}return r(t,e),t.prototype.destroy=function(){if((this.isReact||this.isAngular)&&this.clearTemplate(),i.i(s.isNullOrUndefined)(this.tbObj)||(this.tbObj.destroy(),this.tbObj=null),this.unWireEvents(),this.element.removeAttribute("aria-disabled"),this.expTemplateContent(),this.isTemplate){var t=i.i(s.select)(".e-tab > .e-content",this.element);this.element.classList.remove("e-template"),i.i(s.isNullOrUndefined)(t)||(t.innerHTML=this.cnt)}else for(;this.element.firstElementChild;)i.i(s.remove)(this.element.firstElementChild);if(this.btnCls&&(this.btnCls=null),this.hdrEle=null,this.cntEle=null,this.tbItems=null,this.tbItem=null,this.tbPop=null,this.prevItem=null,this.popEle=null,this.bdrLine=null,this.content=null,this.dragItem=null,this.cloneElement=null,this.draggingItems=[],this.draggableItems&&this.draggableItems.length>0){for(var n=0;n<this.draggableItems.length;n++)this.draggableItems[n].destroy(),this.draggableItems[n]=null;this.draggableItems=[]}e.prototype.destroy.call(this),this.trigger("destroyed")},t.prototype.refresh=function(){this.isReact&&this.clearTemplate(),e.prototype.refresh.call(this),this.isReact&&this.renderReactTemplates()},t.prototype.preRender=function(){var e=i.i(s.closest)(this.element,".e-content");this.prevIndex=0,this.isNested=!1,this.isPopup=!1,this.initRender=!0,this.isSwiped=!1,this.itemIndexArray=[],this.templateEle=[],this.allowDragAndDrop&&(this.dragArea=i.i(s.isNullOrUndefined)(this.dragArea)?"#"+this.element.id+" ."+a:this.dragArea),i.i(s.isNullOrUndefined)(e)||(e.parentElement.classList.add("e-nested"),this.isNested=!0);var t=s.Browser.info.name,n="msie"===t?"e-ie":"edge"===t?"e-edge":"safari"===t?"e-safari":"";i.i(s.setStyleAttribute)(this.element,{width:i.i(s.formatUnit)(this.width),height:i.i(s.formatUnit)(this.height)}),this.setCssClass(this.element,this.cssClass,!0),i.i(s.attributes)(this.element,{"aria-disabled":"false"}),this.setCssClass(this.element,n,!0),this.updatePopAnimationConfig()},t.prototype.render=function(){var e=this;this.btnCls=this.createElement("span",{className:"e-icons e-close-icon",attrs:{title:this.title}}),this.tabId=this.element.id.length>0?"-"+this.element.id:i.i(s.getRandomId)(),this.renderContainer(),this.wireEvents(),this.initRender=!1,this.isReact&&this.portals&&this.portals.length>0&&this.renderReactTemplates(function(){i.i(s.isNullOrUndefined)(e.tbObj)||e.tbObj.refreshOverflow(),e.refreshActiveBorder()})},t.prototype.renderContainer=function(){var e=this.element;if(this.items.forEach(function(e,t){i.i(s.isNullOrUndefined)(e.id)&&!i.i(s.isNullOrUndefined)(e.setProperties)&&e.setProperties({id:"tabitem_"+t.toString()},!0)}),this.items.length>0&&0===e.children.length)e.appendChild(this.createElement("div",{className:"e-content"})),this.setOrientation(this.headerPlacement,this.createElement("div",{className:a})),this.isTemplate=!1;else if(this.element.children.length>0){this.isTemplate=!0,e.classList.add("e-template");var t=e.querySelector("."+a);t&&"Bottom"===this.headerPlacement&&this.setOrientation(this.headerPlacement,t)}if(!i.i(s.isNullOrUndefined)(i.i(s.select)("."+a,this.element))&&!i.i(s.isNullOrUndefined)(i.i(s.select)(".e-content",this.element))){if(this.renderHeader(),this.tbItems=i.i(s.select)(".e-tab-header ."+d,this.element),i.i(s.isNullOrUndefined)(this.tbItems)||i.i(s.rippleEffect)(this.tbItems,{selector:".e-tab-wrap"}),this.renderContent(),i.i(s.selectAll)("."+h,this.element).length>0){this.tbItems=i.i(s.select)(".e-tab-header ."+d,this.element),this.bdrLine=this.createElement("div",{className:"e-indicator e-hidden e-ignore"});var n=i.i(s.select)("."+this.scrCntClass,this.tbItems);i.i(s.isNullOrUndefined)(n)?this.tbItems.insertBefore(this.bdrLine,this.tbItems.firstChild):n.insertBefore(this.bdrLine,n.firstChild),this.setContentHeight(!0),this.select(this.selectedItem)}this.setRTL(this.enableRtl)}},t.prototype.renderHeader=function(){var e=this,t=this.headerPlacement,r=[];if(this.hdrEle=this.getTabHeader(),this.addVerticalClass(),this.isTemplate){this.element.children.length>1&&this.element.children[1].classList.contains(a)&&this.setProperties({headerPlacement:"Bottom"},!0);for(var o=this.hdrEle.children.length,h=[],c=0;c<o;c++)h.push(this.hdrEle.children.item(c));if(o>0){var p=this.createElement("div",{className:"e-items"});this.hdrEle.appendChild(p),h.forEach(function(t,n){e.lastIndex=n;var r={className:"e-item",id:"e-item"+e.tabId+"_"+n},o=e.createElement("span",{className:"e-tab-text",attrs:{role:"presentation"}}).outerHTML,a=e.createElement("div",{className:"e-text-wrap",innerHTML:o+e.btnCls.outerHTML}).outerHTML,d=e.createElement("div",{className:l,innerHTML:a,attrs:{role:"tab",tabIndex:"-1","aria-selected":"false","aria-controls":"e-content"+e.tabId+"_"+n,"aria-disabled":"false"}});d.querySelector(".e-tab-text").appendChild(t),p.appendChild(e.createElement("div",r)),i.i(s.selectAll)(".e-item",p)[n].appendChild(d)})}}else r=this.parseObject(this.items,0);this.tbObj=new n.a({width:"Left"===t||"Right"===t?"auto":"100%",height:"Left"===t||"Right"===t?"100%":"auto",overflowMode:this.overflowMode,items:0!==r.length?r:[],clicked:this.clickHandler.bind(this),scrollStep:this.scrollStep,enableHtmlSanitizer:this.enableHtmlSanitizer,cssClass:this.cssClass}),this.tbObj.isStringTemplate=!0,this.tbObj.createElement=this.createElement,this.tbObj.appendTo(this.hdrEle),i.i(s.attributes)(this.hdrEle,{role:"tablist"}),i.i(s.isNullOrUndefined)(this.element.getAttribute("aria-label"))?i.i(s.isNullOrUndefined)(this.element.getAttribute("aria-labelledby"))||(this.hdrEle.setAttribute("aria-labelledby",this.element.getAttribute("aria-labelledby")),this.element.removeAttribute("aria-labelledby")):(this.hdrEle.setAttribute("aria-label",this.element.getAttribute("aria-label")),this.element.removeAttribute("aria-label")),this.setCloseButton(this.showCloseButton);var u=this.tbObj.element.querySelector("."+d);i.i(s.isNullOrUndefined)(u)||(i.i(s.isNullOrUndefined)(u.id)||""===u.id)&&(u.id=this.element.id+"_tab_header_items")},t.prototype.renderContent=function(){this.cntEle=i.i(s.select)(".e-content",this.element);var e=i.i(s.selectAll)("."+h,this.element);if(this.isTemplate){this.cnt=this.cntEle.children.length>0?this.cntEle.innerHTML:"";for(var t=this.cntEle.children,n=0;n<e.length;n++)t.length-1>=n&&(i.i(s.addClass)([t.item(n)],"e-item"),i.i(s.attributes)(t.item(n),{role:"tabpanel","aria-labelledby":"e-item"+this.tabId+"_"+n}),t.item(n).id="e-content"+this.tabId+"_"+n)}},t.prototype.reRenderItems=function(){this.renderContainer(),i.i(s.isNullOrUndefined)(this.cntEle)||(this.touchModule=new s.Touch(this.cntEle,{swipe:this.swipeHandler.bind(this)}))},t.prototype.parseObject=function(e,t){var n=this,r=Array.prototype.slice.call(i.i(s.selectAll)(".e-tab-header ."+h,this.element)),o=this.lastIndex;if(!this.isReplace&&r.length>0){var a=[];r.forEach(function(e){a.push(n.getIndexFromEle(e.id))}),o=Math.max.apply(Math,a)}var d,c=[],p=[];return e.forEach(function(e,a){var h=i.i(s.isNullOrUndefined)(e.header)||i.i(s.isNullOrUndefined)(e.header.iconPosition)?"":e.header.iconPosition,u=i.i(s.isNullOrUndefined)(e.header)||i.i(s.isNullOrUndefined)(e.header.iconCss)?"":e.header.iconCss;if(i.i(s.isNullOrUndefined)(e.headerTemplate)&&(i.i(s.isNullOrUndefined)(e.header)||i.i(s.isNullOrUndefined)(e.header.text)||0===e.header.text.length&&""===u))return void p.push(a);var f=e.headerTemplate||e.header.text;"string"==typeof f&&n.enableHtmlSanitizer&&(f=s.SanitizeHtmlHelper.sanitize(f));var m;n.isReplace&&!i.i(s.isNullOrUndefined)(n.tbId)&&""!==n.tbId?(m=parseInt(n.tbId.substring(n.tbId.lastIndexOf("_")+1),10),n.tbId=""):m=t+a,n.lastIndex=0===r.length?a:n.isReplace?m:o+1+a;var v=e.disabled?" e-disable e-overlay":"",g=!1===e.visible?" e-hidden":"";d=n.createElement("div",{className:"e-tab-text",attrs:{role:"presentation"}});var y=f instanceof Object?f.outerHTML:f,b=!i.i(s.isNullOrUndefined)(y)&&""!==y;i.i(s.isNullOrUndefined)(f.tagName)?n.headerTextCompile(d,f,a):d.appendChild(f);var C=n.createElement("span",{className:"e-icons e-tab-icon e-icon-"+h+" "+u}),S=n.createElement("div",{className:"e-text-wrap"});S.appendChild(d),""!==f&&void 0!==f&&""!==u?("left"===h||"top"===h?S.insertBefore(C,S.firstElementChild):S.appendChild(C),d,n.isIconAlone=!1):(""===u?d:C)===C&&(i.i(s.detach)(d),S.appendChild(C),n.isIconAlone=!0);var x=i.i(s.isNullOrUndefined)(e.tabIndex)?"-1":e.tabIndex.toString(),I=e.disabled?{}:{tabIndex:x,"data-tabindex":x,role:"tab","aria-selected":"false","aria-disabled":"false"};S.appendChild(n.btnCls.cloneNode(!0));var E=n.createElement("div",{className:l,attrs:I});E.appendChild(S),n.itemIndexArray instanceof Array&&n.itemIndexArray.splice(t+a,0,"e-item"+n.tabId+"_"+n.lastIndex);var N={id:"e-item"+n.tabId+"_"+n.lastIndex,"data-id":e.id},w={htmlAttributes:N,template:E};w.cssClass=(void 0!==e.cssClass?e.cssClass:" ")+" "+v+" "+g+" "+(""!==u?"e-i"+h:"")+" "+(b?"":"e-icon"),"top"!==h&&"bottom"!==h||n.element.classList.add("e-vertical-icon"),c.push(w),a++}),this.isAdd||p.forEach(function(e){n.items.splice(e,1)}),this.isIconAlone?this.element.classList.add("e-icon-tab"):this.element.classList.remove("e-icon-tab"),c},t.prototype.removeActiveClass=function(){var e=this.getTabHeader();if(e){var t=i.i(s.selectAll)(".e-toolbar-item.e-active",e);[].slice.call(t).forEach(function(e){return e.classList.remove("e-active")}),[].slice.call(t).forEach(function(e){return e.firstElementChild.setAttribute("aria-selected","false")})}},t.prototype.checkPopupOverflow=function(e){this.tbPop=i.i(s.select)(".e-toolbar-pop",this.element);var t=i.i(s.select)(".e-hor-nav",this.element),n=i.i(s.select)("."+d,this.element),r=n.lastChild,o=!1;return!this.isVertical()&&(this.enableRtl&&t.offsetLeft+t.offsetWidth>n.offsetLeft||!this.enableRtl&&t.offsetLeft<n.offsetWidth)?o=!0:this.isVertical()&&t.offsetTop<r.offsetTop+r.offsetHeight&&(o=!0),o&&(e.classList.add(c),this.tbPop.insertBefore(e,i.i(s.selectAll)("."+c,this.tbPop)[0])),!0},t.prototype.popupHandler=function(e){var t=e.querySelector(".e-ripple-element");i.i(s.isNullOrUndefined)(t)||(t.outerHTML="",e.querySelector("."+l).classList.remove("e-ripple")),this.tbItem=i.i(s.selectAll)(".e-toolbar-items ."+h,this.hdrEle);var n=this.tbItem[this.tbItem.length-1];if(0!==this.tbItem.length){if(e.classList.remove(c),e.removeAttribute("style"),this.tbItems.appendChild(e),this.actEleId=e.id,this.checkPopupOverflow(n)){var r=this.tbItems.lastChild.previousElementSibling;this.checkPopupOverflow(r)}this.isPopup=!0}return i.i(s.selectAll)("."+h,this.tbItems).length-1},t.prototype.setCloseButton=function(e){var t=i.i(s.select)("."+a,this.element);!0===e?t.classList.add("e-close-show"):t.classList.remove("e-close-show"),this.tbObj.refreshOverflow(),this.refreshActiveTabBorder()},t.prototype.prevCtnAnimation=function(e,t){this.enableRtl||this.element.classList.contains("e-rtl");return this.isPopup||e<=t?"SlideLeftIn"===this.animation.previous.effect?{name:"SlideLeftOut",duration:this.animation.previous.duration,timingFunction:this.animation.previous.easing}:null:"SlideRightIn"===this.animation.next.effect?{name:"SlideRightOut",duration:this.animation.next.duration,timingFunction:this.animation.next.easing}:null},t.prototype.triggerPrevAnimation=function(e,t){var n=this,r=this.prevCtnAnimation(t,this.selectedItem);i.i(s.isNullOrUndefined)(r)?e.classList.remove("e-active"):(r.begin=function(){i.i(s.setStyleAttribute)(e,{position:"absolute"}),e.classList.add("e-progress"),e.classList.add("e-view")},r.end=function(){e.style.display="none",e.classList.remove("e-active"),e.classList.remove("e-progress"),e.classList.remove("e-view"),i.i(s.setStyleAttribute)(e,{display:"",position:""}),0!==e.childNodes.length||n.isTemplate||i.i(s.detach)(e)},new s.Animation(r).animate(e))},t.prototype.triggerAnimation=function(e,t){var n,r=this,o=this.prevIndex;[].slice.call(this.element.querySelector(".e-content").children).forEach(function(e){e.id===r.prevActiveEle&&(n=e)});var a=this.tbItem[o],l=this.getTrgContent(this.cntEle,this.extIndex(e));if(i.i(s.isNullOrUndefined)(n)&&!i.i(s.isNullOrUndefined)(a)){var d=this.extIndex(a.id);n=this.getTrgContent(this.cntEle,d)}i.i(s.isNullOrUndefined)(l)||(this.prevActiveEle=l.id);var h=i.i(s.isNullOrUndefined)(this.animation)||i.i(s.isNullOrUndefined)(this.animation.next.effect)||i.i(s.isNullOrUndefined)(this.animation.previous.effect)||"None"===this.animation.previous.effect||"None"===this.animation.next.effect;if(this.initRender||!1===t||h)return void(n&&n!==l&&n.classList.remove("e-active"));var c,p=i.i(s.select)(".e-content",this.element);if(this.prevIndex>this.selectedItem&&!this.isPopup){var u=this.animation.previous.effect;c={name:"None"===u?"":"SlideLeftIn"!==u?u:"SlideLeftIn",duration:0===this.animation.previous.duration&&"Enable"===s.animationMode?600:this.animation.previous.duration,timingFunction:this.animation.previous.easing}}else if(this.isPopup||this.prevIndex<this.selectedItem||this.prevIndex===this.selectedItem){var f=this.animation.next.effect;c={name:"None"===f?"":"SlideRightIn"!==f?f:"SlideRightIn",duration:0===this.animation.next.duration&&"Enable"===s.animationMode?600:this.animation.next.duration,timingFunction:this.animation.next.easing}}c.progress=function(){p.classList.add("e-progress"),r.setActiveBorder()},c.end=function(){p.classList.remove("e-progress"),l.classList.add("e-active")},this.initRender||i.i(s.isNullOrUndefined)(n)||this.triggerPrevAnimation(n,o),this.isPopup=!1,""===c.name?l.classList.add("e-active"):new s.Animation(c).animate(l)},t.prototype.keyPressed=function(e){var t=i.i(s.closest)(e,".e-tab-header ."+h),n=this.getEleIndex(t);!i.i(s.isNullOrUndefined)(this.popEle)&&e.classList.contains("e-hor-nav")?this.popEle.classList.contains("e-popup-open")?this.popObj.hide(this.hide):this.popObj.show(this.show):e.classList.contains("e-scroll-nav")?e.click():i.i(s.isNullOrUndefined)(t)||!1!==t.classList.contains("e-active")||(this.selectTab(n,null,!0),i.i(s.isNullOrUndefined)(this.popEle)||this.popObj.hide(this.hide))},t.prototype.getTabHeader=function(){if(!i.i(s.isNullOrUndefined)(this.element)){var e=[].slice.call(this.element.children).filter(function(e){return e.classList.contains(a)});if(e.length>0)return e[0];var t=[].slice.call(this.element.children).filter(function(e){return!e.classList.contains("blazor-template")})[0];if(t)return[].slice.call(t.children).filter(function(e){return e.classList.contains(a)})[0]}},t.prototype.getEleIndex=function(e){return Array.prototype.indexOf.call(i.i(s.selectAll)("."+h,this.getTabHeader()),e)},t.prototype.extIndex=function(e){return e.replace("e-item"+this.tabId+"_","")},t.prototype.expTemplateContent=function(){var e=this;this.templateEle.forEach(function(t){i.i(s.isNullOrUndefined)(e.element.querySelector(t))||(document.body.appendChild(e.element.querySelector(t)).style.display="none")})},t.prototype.templateCompile=function(e,t,i){var s=this.createElement("div");this.compileElement(s,t,"content",i),0!==s.childNodes.length&&e.appendChild(s),this.isReact&&this.renderReactTemplates()},t.prototype.compileElement=function(e,t,n,r){var o;"string"==typeof t?(t=t.trim(),this.isVue?o=i.i(s.compile)(s.SanitizeHtmlHelper.sanitize(t)):e.innerHTML=s.SanitizeHtmlHelper.sanitize(t)):o=i.i(s.compile)(t);var a;i.i(s.isNullOrUndefined)(o)||(a=o({},this,n)),!i.i(s.isNullOrUndefined)(o)&&a.length>0&&[].slice.call(a).forEach(function(t){e.appendChild(t)})},t.prototype.headerTextCompile=function(e,t,i){this.compileElement(e,t,"headerTemplate",i)},t.prototype.getContent=function(e,t,n,r){var o;if("string"==typeof(t=i.i(s.isNullOrUndefined)(t)?"":t)||i.i(s.isNullOrUndefined)(t.innerHTML))if("string"==typeof t&&this.enableHtmlSanitizer&&(t=s.SanitizeHtmlHelper.sanitize(t)),"."===t[0]||"#"===t[0])if(document.querySelectorAll(t).length){var a=document.querySelector(t);o=a.outerHTML.trim(),"clone"===n?e.appendChild(a.cloneNode(!0)):(e.appendChild(a),a.style.display="")}else this.templateCompile(e,t,r);else this.templateCompile(e,t,r);else e.appendChild(t);i.i(s.isNullOrUndefined)(o)||-1===this.templateEle.indexOf(t.toString())&&this.templateEle.push(t.toString())},t.prototype.getTrgContent=function(e,t){return this.element.classList.contains("e-nested")?i.i(s.select)(".e-nested> .e-content > #e-content"+this.tabId+"_"+t,this.element):this.findEle(e.children,"e-content"+this.tabId+"_"+t)},t.prototype.findEle=function(e,t){for(var i,s=0;s<e.length;s++)if(e[s].id===t){i=e[s];break}return i},t.prototype.isVertical=function(){var e="Left"===this.headerPlacement||"Right"===this.headerPlacement;return this.scrCntClass=e?"e-vscroll-content":"e-hscroll-content",e},t.prototype.addVerticalClass=function(){if(this.isVertical()){var e="Left"===this.headerPlacement?"e-vertical-left":"e-vertical-right";i.i(s.addClass)([this.hdrEle],["e-vertical",e]),this.element.classList.contains("e-nested")?i.i(s.addClass)([this.hdrEle],["e-vertical-tab",e]):i.i(s.addClass)([this.element],["e-vertical-tab",e])}"Bottom"===this.headerPlacement&&i.i(s.addClass)([this.hdrEle],["e-horizontal-bottom"])},t.prototype.updatePopAnimationConfig=function(){this.show={name:this.isVertical()?"FadeIn":"SlideDown",duration:100},this.hide={name:this.isVertical()?"FadeOut":"SlideUp",duration:100}},t.prototype.changeOrientation=function(e){this.setOrientation(e,this.hdrEle);var t=this.hdrEle.querySelector(".e-active"),n=!!this.hdrEle.classList.contains("e-vertical");i.i(s.removeClass)([this.element],["e-vertical-tab"]),i.i(s.removeClass)([this.hdrEle],["e-vertical","e-vertical-left","e-vertical-right"]),n!==this.isVertical()&&(this.changeToolbarOrientation(),!i.i(s.isNullOrUndefined)(t)&&t.classList.contains(c)&&this.popupHandler(t)),this.addVerticalClass(),this.setActiveBorder(),this.focusItem()},t.prototype.focusItem=function(){var e=i.i(s.select)(" #e-item"+this.tabId+"_"+this.selectedItem,this.hdrEle);i.i(s.isNullOrUndefined)(e)||e.firstElementChild.focus()},t.prototype.changeToolbarOrientation=function(){this.tbObj.setProperties({height:this.isVertical()?"100%":"auto",width:this.isVertical()?"auto":"100%"},!0),this.tbObj.changeOrientation(),this.updatePopAnimationConfig()},t.prototype.setOrientation=function(e,t){var n=Array.prototype.indexOf.call(this.element.children,t),r=Array.prototype.indexOf.call(this.element.children,this.element.querySelector(".e-content"));"Bottom"===e&&r>n?this.element.appendChild(t):(i.i(s.removeClass)([t],["e-horizontal-bottom"]),this.element.insertBefore(t,i.i(s.select)(".e-content",this.element)))},t.prototype.setCssClass=function(e,t,i){if(""!==t)for(var s=t.split(" "),n=0;n<s.length;n++)i?e.classList.add(s[n]):e.classList.remove(s[n])},t.prototype.setContentHeight=function(e){if(this.element.classList.contains("e-fill-mode")&&i.i(s.removeClass)([this.element],["e-fill-mode"]),!i.i(s.isNullOrUndefined)(this.cntEle)){var t=this.getTabHeader();if("None"===this.heightAdjustMode){if("auto"===this.height)return;this.isVertical()||i.i(s.setStyleAttribute)(this.cntEle,{height:this.element.clientHeight-t.offsetHeight+"px"})}else if("Fill"===this.heightAdjustMode)i.i(s.addClass)([this.element],["e-fill-mode"]),i.i(s.setStyleAttribute)(this.element,{height:"100%"}),this.cntEle.style.height="calc(100% - "+this.hdrEle.offsetHeight+"px)";else if("Auto"===this.heightAdjustMode){if(!0===this.isTemplate)for(var n=i.i(s.selectAll)(".e-content > .e-item",this.element),r=0;r<n.length;r++)n[r].setAttribute("style","display:block; visibility: visible"),this.maxHeight=Math.max(this.maxHeight,this.getHeight(n[r])),n[r].style.removeProperty("display"),n[r].style.removeProperty("visibility");else{this.cntEle=i.i(s.select)(".e-content",this.element),!0===e&&this.cntEle.appendChild(this.createElement("div",{id:"e-content"+this.tabId+"_0",className:"e-item e-active",attrs:{role:"tabpanel","aria-labelledby":"e-item"+this.tabId+"_0"}}));for(var o=this.cntEle.children.item(0),r=0;r<this.items.length;r++)for(this.getContent(o,this.items[r].content,"clone",r),this.maxHeight=Math.max(this.maxHeight,this.getHeight(o));o.firstChild;)o.removeChild(o.firstChild);this.isReact&&this.clearTemplate(["content"]),this.templateEle=[],this.getContent(o,this.items[0].content,"render",0),this.prevIndex!==this.selectedItem&&o.classList.remove("e-active")}i.i(s.setStyleAttribute)(this.cntEle,{height:this.maxHeight+"px"})}else i.i(s.setStyleAttribute)(this.cntEle,{height:"auto"})}},t.prototype.getHeight=function(e){var t=window.getComputedStyle(e);return e.offsetHeight+parseFloat(t.getPropertyValue("padding-top"))+parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))},t.prototype.setActiveBorder=function(){var e=this.getTabHeader(),t=i.i(s.select)(".e-toolbar-item.e-active",e);if(!i.i(s.isNullOrUndefined)(t)){this.reorderActiveTab?e&&e.classList.remove("e-reorder-active-item"):(t.classList.contains(c)&&!this.bdrLine.classList.contains("e-hidden")&&this.bdrLine.classList.add("e-hidden"),e&&!e.classList.contains("e-reorder-active-item")&&e.classList.add("e-reorder-active-item"));var n=i.i(s.closest)(t,".e-tab");if(this.element===n){this.tbItems=i.i(s.select)("."+d,e);var r=i.i(s.select)(".e-indicator",e),o=i.i(s.select)(".e-toolbar-items ."+this.scrCntClass,e);if(this.isVertical()){i.i(s.setStyleAttribute)(r,{left:"",right:""});0!==(i.i(s.isNullOrUndefined)(o)?this.tbItems.offsetHeight:o.offsetHeight)?i.i(s.setStyleAttribute)(r,{top:t.offsetTop+"px",height:t.offsetHeight+"px"}):i.i(s.setStyleAttribute)(r,{top:0,height:0})}else{if("MultiRow"===this.overflowMode){var a="Bottom"===this.headerPlacement?t.offsetTop:t.offsetHeight+t.offsetTop;i.i(s.setStyleAttribute)(r,{top:a+"px",height:""})}else i.i(s.setStyleAttribute)(r,{top:"",height:""});var l=i.i(s.isNullOrUndefined)(o)?this.tbItems.offsetWidth:o.offsetWidth;0!==l?i.i(s.setStyleAttribute)(r,{left:t.offsetLeft+"px",right:l-(t.offsetLeft+t.offsetWidth)+"px"}):i.i(s.setStyleAttribute)(r,{left:"auto",right:"auto"})}i.i(s.isNullOrUndefined)(this.bdrLine)||t.classList.contains(c)||this.bdrLine.classList.remove("e-hidden")}}},t.prototype.setActive=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),this.tbItem=i.i(s.selectAll)("."+h,this.getTabHeader());var r=this.tbItem[e];if(!(e<0||isNaN(e)||0===this.tbItem.length||!i.i(s.isNullOrUndefined)(r)&&r.classList.contains("e-disable"))){if(e>=0&&!t&&(this.allowServerDataBinding=!1,this.setProperties({selectedItem:e},!0),this.allowServerDataBinding=!0,this.initRender||this.serverDataBind()),r.classList.contains("e-active"))return void this.setActiveBorder();this.isTemplate||i.i(s.attributes)(r.firstElementChild,{"aria-controls":"e-content"+this.tabId+"_"+e});var o=r.id;this.removeActiveClass(),r.classList.add("e-active"),r.firstElementChild.setAttribute("aria-selected","true");var a=Number(this.extIndex(o));if(i.i(s.isNullOrUndefined)(this.prevActiveEle)&&(this.prevActiveEle="e-content"+this.tabId+"_"+a),this.isTemplate){if(i.i(s.select)(".e-content",this.element).children.length>0){var l=this.findEle(i.i(s.select)(".e-content",this.element).children,"e-content"+this.tabId+"_"+a);i.i(s.isNullOrUndefined)(l)||l.classList.add("e-active"),this.triggerAnimation(o,this.enableAnimation)}}else{this.cntEle=i.i(s.select)(".e-tab > .e-content",this.element);var d=this.getTrgContent(this.cntEle,this.extIndex(o));if(i.i(s.isNullOrUndefined)(d)){this.cntEle.appendChild(this.createElement("div",{id:"e-content"+this.tabId+"_"+this.extIndex(o),className:"e-item e-active",attrs:{role:"tabpanel","aria-labelledby":"e-item"+this.tabId+"_"+this.extIndex(o)}}));var c=this.getTrgContent(this.cntEle,this.extIndex(o)),p=Array.prototype.indexOf.call(this.itemIndexArray,o);this.getContent(c,this.items[p].content,"render",p)}else d.classList.add("e-active");this.triggerAnimation(o,this.enableAnimation)}if(this.setActiveBorder(),this.refreshItemVisibility(r),!this.initRender&&!t){var u={previousItem:this.prevItem,previousIndex:this.prevIndex,selectedItem:r,selectedIndex:e,selectedContent:i.i(s.select)("#e-content"+this.tabId+"_"+this.selectingID,this.content),isSwiped:this.isSwiped,isInteracted:n,preventFocus:!1};this.trigger("selected",u,function(e){e.preventFocus||r.firstElementChild.focus()})}}},t.prototype.setItems=function(e){this.isReplace=!0,this.tbItems=i.i(s.select)("."+d,this.getTabHeader()),this.tbObj.items=this.parseObject(e,0),this.tbObj.dataBind(),this.isReplace=!1},t.prototype.setRTL=function(e){this.tbObj.enableRtl=e,this.tbObj.dataBind(),this.setCssClass(this.element,"e-rtl",e),this.refreshActiveBorder()},t.prototype.refreshActiveBorder=function(){i.i(s.isNullOrUndefined)(this.bdrLine)||this.bdrLine.classList.add("e-hidden"),this.setActiveBorder()},t.prototype.showPopup=function(e){var t=i.i(s.select)(".e-popup.e-toolbar-pop",this.hdrEle);if(t&&t.classList.contains("e-popup-close")){var n=t&&t.ej2_instances[0];n.position.X="Left"===this.headerPlacement?"left":"right",n.dataBind(),n.show(e)}},t.prototype.bindDraggable=function(){var e=this;if(this.allowDragAndDrop){var t=this.element.querySelector("."+a);if(t){Array.prototype.slice.call(t.querySelectorAll("."+h)).forEach(function(t){e.initializeDrag(t)})}}},t.prototype.wireEvents=function(){this.bindDraggable(),window.addEventListener("resize",this.resizeContext),s.EventHandler.add(this.element,"mouseover",this.hoverHandler,this),s.EventHandler.add(this.element,"keydown",this.spaceKeyDown,this),i.i(s.isNullOrUndefined)(this.cntEle)||(this.touchModule=new s.Touch(this.cntEle,{swipe:this.swipeHandler.bind(this)})),this.keyModule=new s.KeyboardEvents(this.element,{keyAction:this.keyHandler.bind(this),keyConfigs:this.keyConfigs}),this.tabKeyModule=new s.KeyboardEvents(this.element,{keyAction:this.keyHandler.bind(this),keyConfigs:{openPopup:"shift+f10",tab:"tab",shiftTab:"shift+tab"},eventName:"keydown"})},t.prototype.unWireEvents=function(){i.i(s.isNullOrUndefined)(this.keyModule)||this.keyModule.destroy(),i.i(s.isNullOrUndefined)(this.tabKeyModule)||this.tabKeyModule.destroy(),i.i(s.isNullOrUndefined)(this.cntEle)||i.i(s.isNullOrUndefined)(this.touchModule)||(this.touchModule.destroy(),this.touchModule=null),window.removeEventListener("resize",this.resizeContext),s.EventHandler.remove(this.element,"mouseover",this.hoverHandler),s.EventHandler.remove(this.element,"keydown",this.spaceKeyDown),this.element.classList.remove("e-rtl"),this.element.classList.remove("e-focused")},t.prototype.clickHandler=function(e){this.element.classList.remove("e-focused");var t=e.originalEvent.target,n=i.i(s.closest)(t,"."+h),r=this.getEleIndex(n);t.classList.contains("e-close-icon")?this.removeTab(r):this.isVertical()&&i.i(s.closest)(t,".e-hor-nav")?this.showPopup(this.show):(this.isPopup=!1,i.i(s.isNullOrUndefined)(n)||r===this.selectedItem||this.selectTab(r,e.originalEvent,!0))},t.prototype.swipeHandler=function(e){if(!(e.velocity<3&&i.i(s.isNullOrUndefined)(e.originalEvent.changedTouches))){this.isNested&&this.element.setAttribute("data-swipe","true");var t=this.element.querySelector('[data-swipe="true"]');if(t)return void t.removeAttribute("data-swipe");if(this.isSwiped=!0,"Right"===e.swipeDirection&&0!==this.selectedItem){for(var n=this.selectedItem-1;n>=0;n--)if(!this.tbItem[n].classList.contains("e-hidden")){this.selectTab(n,null,!0);break}}else if("Left"===e.swipeDirection&&this.selectedItem!==i.i(s.selectAll)("."+h,this.element).length-1)for(var r=this.selectedItem+1;r<this.tbItem.length;r++)if(!this.tbItem[r].classList.contains("e-hidden")){this.selectTab(r,null,!0);break}this.isSwiped=!1}},t.prototype.spaceKeyDown=function(e){if(32===e.keyCode&&32===e.which||35===e.keyCode&&35===e.which){var t=i.i(s.closest)(e.target,"."+a);i.i(s.isNullOrUndefined)(t)||e.preventDefault()}},t.prototype.keyHandler=function(e){if(!this.element.classList.contains("e-disable")){this.element.classList.add("e-focused");var t=e.target,n=this.getTabHeader(),r=i.i(s.select)(".e-active",n);this.popEle=i.i(s.select)(".e-toolbar-pop",n),i.i(s.isNullOrUndefined)(this.popEle)||(this.popObj=this.popEle.ej2_instances[0]);var o=i.i(s.closest)(document.activeElement,"."+h),a=i.i(s.closest)(t,"."+h);switch(e.action){case"space":case"enter":if(t.parentElement.classList.contains("e-disable"))return;if("enter"===e.action&&t.classList.contains("e-hor-nav")){this.showPopup(this.show);break}this.keyPressed(t);break;case"tab":case"shiftTab":t.classList.contains(l)&&!1===i.i(s.closest)(t,"."+h).classList.contains("e-active")&&t.setAttribute("tabindex",t.getAttribute("data-tabindex")),this.popObj&&i.i(s.isVisible)(this.popObj.element)&&this.popObj.hide(this.hide),i.i(s.isNullOrUndefined)(r)||"-1"!==r.children.item(0).getAttribute("tabindex")||r.children.item(0).setAttribute("tabindex","0");break;case"moveLeft":case"moveRight":i.i(s.isNullOrUndefined)(o)||this.refreshItemVisibility(o);break;case"openPopup":e.preventDefault(),!i.i(s.isNullOrUndefined)(this.popEle)&&this.popEle.classList.contains("e-popup-close")&&this.popObj.show(this.show);break;case"delete":if(!0===this.showCloseButton&&!i.i(s.isNullOrUndefined)(a)){var d=a.nextSibling;!i.i(s.isNullOrUndefined)(d)&&d.classList.contains(h)&&d.firstElementChild.focus(),this.removeTab(this.getEleIndex(a))}this.setActiveBorder()}}},t.prototype.refreshItemVisibility=function(e){var t=i.i(s.select)("."+this.scrCntClass,this.tbItems);if(!this.isVertical()&&!i.i(s.isNullOrUndefined)(t)){var n=i.i(s.select)(".e-hscroll-bar",this.tbItems),r=n.scrollLeft,o=r+n.offsetWidth,a=e.offsetLeft,l=e.offsetWidth,d=e.offsetLeft+e.offsetWidth;if(r<a&&o<d){var h=o-a;n.scrollLeft=r+(l-h)}else if(r>a&&o>d){var h=d-r;n.scrollLeft=r-(l-h)}}},t.prototype.getIndexFromEle=function(e){return parseInt(e.substring(e.lastIndexOf("_")+1),10)},t.prototype.hoverHandler=function(e){var t=e.target;!i.i(s.isNullOrUndefined)(t.classList)&&t.classList.contains("e-close-icon")&&t.setAttribute("title",new s.L10n("tab",{closeButtonTitle:this.title},this.locale).getConstant("closeButtonTitle"))},t.prototype.evalOnPropertyChangeItems=function(e,t){var n=this;if(e.items instanceof Array&&t.items instanceof Array)if(this.lastIndex=0,i.i(s.isNullOrUndefined)(this.tbObj))this.reRenderItems();else{(this.isReact||this.isAngular)&&this.clearTemplate(),this.setItems(e.items),this.templateEle.length>0&&this.expTemplateContent(),this.templateEle=[];for(var r=i.i(s.select)(".e-tab > .e-content",this.element);r.firstElementChild;)i.i(s.detach)(r.firstElementChild);this.select(this.selectedItem),this.draggableItems=[],this.bindDraggable()}else{for(var o=Object.keys(e.items),a=0;a<o.length;a++)for(var l=parseInt(Object.keys(e.items)[a],10),d=Object.keys(e.items[l]),c=0;c<d.length;c++){var p=Object(t.items[l])[d[c]],u=Object(e.items[l])[d[c]],f=this.element.querySelectorAll("."+h)[l],m=void 0;m=f&&!i.i(s.isNullOrUndefined)(f.id)&&""!==f.id?this.getIndexFromEle(f.id):l;var v=i.i(s.select)(".e-toolbar-items #e-item"+this.tabId+"_"+m,this.element),g=i.i(s.select)(".e-content #e-content"+this.tabId+"_"+m,this.element);if("header"===d[c]||"headerTemplate"===d[c]){var y=i.i(s.isNullOrUndefined)(this.items[l].header)||i.i(s.isNullOrUndefined)(this.items[l].header.iconCss)?"":this.items[l].header.iconCss,b=this.items[l].headerTemplate||this.items[l].header.text;if("headerTemplate"===d[c]&&this.clearTabTemplate(v,d[c],h),""===b&&""===y)this.removeTab(l);else{this.tbId=f.id;var C=[];C.push(this.items[l]),this.items.splice(l,1),this.itemIndexArray.splice(l,1),this.tbObj.items.splice(l,1);var S=v.classList.contains("e-hidden");i.i(s.detach)(v),this.isReplace=!0,this.addTab(C,l),S&&this.hideTab(l),this.isReplace=!1}}if("content"===d[c]&&!i.i(s.isNullOrUndefined)(g)){var x="string"==typeof u||i.i(s.isNullOrUndefined)(u.innerHTML);if(x&&("."===u[0]||"#"===u[0])&&u.length){var I=document.querySelector(u);g.appendChild(I),I.style.display=""}else""===u&&"#"===p[0]?(document.body.appendChild(this.element.querySelector(p)).style.display="none",g.innerHTML=u):this.isAngular||this.isReact?(this.clearTabTemplate(g,d[c],"e-item"),g.innerHTML="",this.templateCompile(g,u,l)):"function"!=typeof u&&(g.innerHTML=u)}"cssClass"===d[c]&&(i.i(s.isNullOrUndefined)(v)||(v.classList.remove(p),v.classList.add(u)),i.i(s.isNullOrUndefined)(g)||(g.classList.remove(p),g.classList.add(u))),"disabled"===d[c]&&this.enableTab(l,!0!==u),"visible"===d[c]&&this.hideTab(l,!0!==u)}this.isReact&&this.portals&&this.portals.length>0&&this.renderReactTemplates(function(){n.refreshActiveTabBorder()})}},t.prototype.clearTabTemplate=function(e,t,n){if(this.clearTemplates)if(this.registeredTemplate&&this.registeredTemplate[t])for(var r=this.registeredTemplate,o=0;o<r[t].length;o++){var a=r[t][o].rootNodes[0],l=i.i(s.closest)(a,"."+n);if(!i.i(s.isNullOrUndefined)(l)&&l===e){this.clearTemplate([t],[r[t][o]]);break}}else if(this.portals&&this.portals.length>0)for(var d=this.portals,o=0;o<d.length;o++){var h=d[o],l=i.i(s.closest)(h.containerInfo,"."+n);if(!i.i(s.isNullOrUndefined)(l)&&l===e){this.clearTemplate([t],o);break}}},t.prototype.initializeDrag=function(e){var t=this,n=new s.Draggable(e,{dragArea:this.dragArea,dragTarget:"."+h,clone:!0,helper:this.helper.bind(this),dragStart:this.itemDragStart.bind(this),drag:function(e){var n,r,o=t.getEleIndex(t.dragItem),d={draggedItem:t.dragItem,event:e.event,target:e.target,droppedItem:e.target.closest("."+h),clonedElement:t.cloneElement,index:o};if(i.i(s.isNullOrUndefined)(e.target.closest(".e-tab"))||e.target.closest(".e-tab").isEqualNode(t.element)||t.dragArea==="."+a){if(e.target.closest(t.dragArea)||"Popup"===t.overflowMode?(document.body.style.cursor="",t.dragItem.querySelector("."+l).style.visibility="hidden",t.cloneElement.classList.contains("e-hidden")&&i.i(s.removeClass)([t.cloneElement],"e-hidden")):(document.body.style.cursor="not-allowed",i.i(s.addClass)([t.cloneElement],"e-hidden"),t.dragItem.classList.contains("e-hidden")&&i.i(s.removeClass)([t.dragItem],"e-hidden"),t.dragItem.querySelector("."+l).style.visibility="visible"),"Scrollable"===t.overflowMode&&!i.i(s.isNullOrUndefined)(t.element.querySelector(".e-hscroll"))){var c=t.element.querySelector(".e-scroll-right-nav"),p=t.element.querySelector(".e-scroll-left-nav"),u=t.element.querySelector(".e-hscroll-bar");!i.i(s.isNullOrUndefined)(c)&&Math.abs(c.offsetWidth/2+c.offsetLeft)>t.cloneElement.offsetLeft+t.cloneElement.offsetWidth&&(u.scrollLeft-=10),!i.i(s.isNullOrUndefined)(p)&&Math.abs(p.offsetLeft+p.offsetWidth-t.cloneElement.offsetLeft)>p.offsetWidth/2&&(u.scrollLeft+=10)}t.cloneElement.style.pointerEvents="none",r=i.i(s.closest)(e.target,".e-toolbar-item.e-draggable");var f=0;"Scrollable"!==t.overflowMode||i.i(s.isNullOrUndefined)(t.element.querySelector(".e-hscroll"))||(f=t.element.querySelector(".e-hscroll-content").offsetWidth),null!=r&&!r.isSameNode(t.dragItem)&&r.closest(".e-tab").isSameNode(t.dragItem.closest(".e-tab"))&&(n=t.getEleIndex(r),n<o&&Math.abs(r.offsetLeft+r.offsetWidth-t.cloneElement.offsetLeft)>r.offsetWidth/2&&t.dragAction(r,o,n),n>o&&Math.abs(r.offsetWidth/2)+r.offsetLeft-f<t.cloneElement.offsetLeft+t.cloneElement.offsetWidth&&t.dragAction(r,o,n)),t.droppedIndex=t.getEleIndex(t.dragItem),t.trigger("dragging",d)}else t.trigger("dragging",d)},dragStop:this.itemDragStop.bind(this)});this.draggableItems.push(n)},t.prototype.helper=function(e){return this.cloneElement=this.createElement("div"),e.element&&(this.cloneElement=e.element.cloneNode(!0),i.i(s.addClass)([this.cloneElement],"e-tab-clone-element"),this.element.querySelector("."+a).classList.contains("e-close-show")&&i.i(s.addClass)([this.cloneElement],"e-close-show"),i.i(s.removeClass)([this.cloneElement.querySelector("."+l)],"e-ripple"),i.i(s.isNullOrUndefined)(this.cloneElement.querySelector(".e-ripple-element"))||i.i(s.remove)(this.cloneElement.querySelector(".e-ripple-element")),document.body.appendChild(this.cloneElement)),this.cloneElement},t.prototype.itemDragStart=function(e){var t=this;this.draggingItems=this.items.map(function(e){return e}),this.dragItem=e.element;var n={draggedItem:e.element,event:e.event,target:e.target,droppedItem:null,index:this.getEleIndex(this.dragItem),clonedElement:this.cloneElement,cancel:!1};this.trigger("onDragStart",n,function(n){if(n.cancel){var r=e.element.ej2_instances[0];i.i(s.isNullOrUndefined)(r)||r.intDestroy(e.event),i.i(s.detach)(t.cloneElement)}else t.removeActiveClass(),i.i(s.addClass)([t.tbItems.querySelector(".e-indicator")],"e-hidden"),t.dragItem.querySelector("."+l).style.visibility="hidden"})},t.prototype.dragAction=function(e,t,i){if(this.items.length>0){var s=this.draggingItems[t];this.draggingItems.splice(t,1),this.draggingItems.splice(i,0,s)}if("MultiRow"===this.overflowMode&&e.parentNode.insertBefore(this.dragItem,e.nextElementSibling),t>i)if(this.dragItem.parentElement.isSameNode(e.parentElement))this.dragItem.parentNode.insertBefore(this.dragItem,e);else if("Extended"===this.overflowMode)if(e.isSameNode(e.parentElement.lastChild)){var n=this.dragItem.parentNode;e.parentNode.insertBefore(this.dragItem,e),n.insertBefore(e.parentElement.lastChild,n.childNodes[0])}else this.dragItem.parentNode.insertBefore(e.parentElement.lastChild,this.dragItem.parentElement.childNodes[0]),e.parentNode.insertBefore(this.dragItem,e);else{var r=e.parentElement.lastChild;if(e.isSameNode(r)){var n=this.dragItem.parentNode;e.parentNode.insertBefore(this.dragItem,e),n.insertBefore(r,n.childNodes[0])}else this.dragItem.parentNode.insertBefore(e.parentElement.lastChild,this.dragItem.parentElement.childNodes[0]),e.parentNode.insertBefore(this.dragItem,e)}t<i&&(this.dragItem.parentElement.isSameNode(e.parentElement)?this.dragItem.parentNode.insertBefore(this.dragItem,e.nextElementSibling):"Extended"===this.overflowMode?(this.dragItem.parentElement.appendChild(e.parentElement.firstElementChild),e.parentNode.insertBefore(this.dragItem,e.nextSibling)):(this.dragItem.parentNode.insertBefore(e.parentElement.lastChild,this.dragItem.parentElement.childNodes[0]),e.parentNode.insertBefore(this.dragItem,e)))},t.prototype.itemDragStop=function(e){var t=this;i.i(s.detach)(this.cloneElement),this.cloneElement=null,this.dragItem.querySelector("."+l).style.visibility="visible",document.body.style.cursor="";var n={draggedItem:this.dragItem,event:e.event,target:e.target,droppedItem:this.tbItem[this.droppedIndex],clonedElement:null,index:this.droppedIndex,cancel:!1};this.trigger("dragged",n,function(e){e.cancel?t.refresh():t.items.length>0&&t.draggingItems.length>0?(t.items=t.draggingItems,t.selectedItem=t.droppedIndex,t.refresh()):(t.dragItem.querySelector("."+l).style.visibility="",i.i(s.removeClass)([t.tbItems.querySelector(".e-indicator")],"e-hidden"),t.selectTab(t.droppedIndex,null,!0))}),this.dragItem=null},t.prototype.enableTab=function(e,t){var n=i.i(s.selectAll)("."+h,this.element)[e];i.i(s.isNullOrUndefined)(n)||(!0===t?(n.classList.remove("e-disable","e-overlay"),n.firstElementChild.setAttribute("tabindex",n.firstElementChild.getAttribute("data-tabindex"))):(n.classList.add("e-disable","e-overlay"),n.firstElementChild.removeAttribute("tabindex"),n.classList.contains("e-active")&&this.select(e+1)),i.i(s.isNullOrUndefined)(this.items[e])||(this.items[e].disabled=!t,this.dataBind()),n.firstElementChild.setAttribute("aria-disabled",!0===t?"false":"true"))},t.prototype.addTab=function(e,t){var i=this,s={addedItems:e,cancel:!1};this.isReplace?this.addingTabContent(e,t):this.trigger("adding",s,function(s){s.cancel||i.addingTabContent(e,t)}),this.isReact&&this.renderReactTemplates()},t.prototype.addingTabContent=function(e,t){var n=this,r=0;if(this.hdrEle=i.i(s.select)("."+a,this.element),i.i(s.isNullOrUndefined)(this.hdrEle))this.items=e,this.reRenderItems(),this.bindDraggable();else{var o=i.i(s.selectAll)(".e-tab-header ."+h,this.element).length;if(0!==o&&(r=this.lastIndex+1),i.i(s.isNullOrUndefined)(t)&&(t=o-1),o<t||t<0||isNaN(t))return;0!==o||i.i(s.isNullOrUndefined)(this.hdrEle)||(this.hdrEle.style.display=""),i.i(s.isNullOrUndefined)(this.bdrLine)||this.bdrLine.classList.add("e-hidden"),this.tbItems=i.i(s.select)("."+d,this.getTabHeader()),this.isAdd=!0;var l=this.parseObject(e,t);this.isAdd=!1;var c,p=0;e.forEach(function(e,o){if(c=e.headerTemplate||e.header.text,i.i(s.isNullOrUndefined)(e.headerTemplate||e.header)||i.i(s.isNullOrUndefined)(c)||0===c.length&&!i.i(s.isNullOrUndefined)(e.header)&&i.i(s.isNullOrUndefined)(e.header.iconCss)||(l[o]&&(i.i(s.isNullOrUndefined)(e.id)&&(e.id="e-item"+n.tabId+"_tabitem_"+(r+o).toString()),l[o].htmlAttributes["data-id"]=e.id),n.items.splice(t+p,0,e),p++),n.isTemplate&&!i.i(s.isNullOrUndefined)(e.header)&&!i.i(s.isNullOrUndefined)(e.header.text)){var a=r+o,d=n.createElement("div",{id:"e-content"+n.tabId+"_"+a,className:"e-item",attrs:{role:"tabpanel","aria-labelledby":"e-item_"+a}});n.cntEle.insertBefore(d,n.cntEle.children[t+o]);var h=n.getTrgContent(n.cntEle,a.toString());n.getContent(h,e.content,"render",t)}}),this.tbObj.addItems(l,t),this.isReplace||this.trigger("added",{addedItems:e}),this.selectedItem===t?this.select(t):(this.setActiveBorder(),this.tbItem=i.i(s.selectAll)("."+h,this.getTabHeader())),this.bindDraggable()}},t.prototype.removeTab=function(e){var t=this,n=i.i(s.selectAll)("."+h,this.element)[e];if(!i.i(s.isNullOrUndefined)(n)){var r={removedItem:n,removedIndex:e,cancel:!1};this.trigger("removing",r,function(r){if(!r.cancel){var o=i.i(s.select)("#e-item"+t.tabId+"_"+t.extIndex(n.id),i.i(s.select)("."+d,t.element));i.i(s.isNullOrUndefined)(o)||t.clearTabTemplate(o,"headerTemplate",h),t.tbObj.removeItems(e),t.allowDragAndDrop&&e!==Array.prototype.indexOf.call(t.itemIndexArray,n.id)&&(e=Array.prototype.indexOf.call(t.itemIndexArray,n.id));var a=t.itemIndexArray.indexOf(n.id);t.items.splice(a,1),t.itemIndexArray.splice(a,1),t.refreshActiveBorder();var l=i.i(s.select)("#e-content"+t.tabId+"_"+t.extIndex(n.id),i.i(s.select)(".e-content",t.element));i.i(s.isNullOrUndefined)(l)||(t.clearTabTemplate(l,"content","e-item"),i.i(s.detach)(l)),t.trigger("removed",r),t.draggableItems&&t.draggableItems.length>0&&(t.draggableItems[e].destroy(),t.draggableItems[e]=null,t.draggableItems.splice(e,1)),n.classList.contains("e-active")?(e=e>i.i(s.selectAll)(".e-toolbar-item:not(.e-toolbar-popup)",t.element).length-1?e-1:e,t.enableAnimation=!1,t.selectedItem=e,t.select(e)):e!==t.selectedItem&&(e<t.selectedItem&&(e=t.itemIndexArray.indexOf(t.tbItem[t.selectedItem].id),t.setProperties({selectedItem:e>-1?e:t.selectedItem},!0),t.prevIndex=t.selectedItem),t.tbItem=i.i(s.selectAll)("."+h,t.getTabHeader())),0===i.i(s.selectAll)("."+h,t.element).length&&(t.hdrEle.style.display="none"),t.enableAnimation=!0}})}},t.prototype.hideTab=function(e,t){var n,r=i.i(s.selectAll)("."+h,this.element)[e];if(!i.i(s.isNullOrUndefined)(r)){if(i.i(s.isNullOrUndefined)(t)&&(t=!0),this.bdrLine.classList.add("e-hidden"),!0===t)if(r.classList.add("e-hidden"),n=i.i(s.selectAll)(".e-toolbar-item:not(.e-hidden)",this.tbItems),0!==n.length&&r.classList.contains("e-active")){if(0!==e)for(var o=e-1;o>=0;o--){if(!this.tbItem[o].classList.contains("e-hidden")){this.select(o);break}if(0===o)for(var a=e+1;a<this.tbItem.length;a++)if(!this.tbItem[a].classList.contains("e-hidden")){this.select(a);break}}else for(var a=e+1;a<this.tbItem.length;a++)if(!this.tbItem[a].classList.contains("e-hidden")){this.select(a);break}}else 0===n.length&&this.element.classList.add("e-hidden");else this.element.classList.remove("e-hidden"),n=i.i(s.selectAll)(".e-toolbar-item:not(.e-hidden)",this.tbItems),r.classList.remove("e-hidden"),0===n.length&&this.select(e);this.setActiveBorder(),i.i(s.isNullOrUndefined)(r.firstElementChild)||r.firstElementChild.setAttribute("aria-hidden",""+t),"Popup"===this.overflowMode&&this.tbObj&&this.tbObj.refreshOverflow()}},t.prototype.selectTab=function(e,t,i){void 0===t&&(t=null),void 0===i&&(i=!1),this.isInteracted=i,this.select(e,t)},t.prototype.select=function(e,t){var n=this,r=this.getTabHeader();this.tbItems=i.i(s.select)("."+d,r),this.tbItem=i.i(s.selectAll)("."+h,r),this.content=i.i(s.select)(".e-content",this.element),this.prevItem=this.tbItem[this.prevIndex],i.i(s.isNullOrUndefined)(this.selectedItem)||this.selectedItem<0||this.tbItem.length<=this.selectedItem||isNaN(this.selectedItem)?this.selectedItem=0:this.selectedID=this.extIndex(this.tbItem[this.selectedItem].id);var o=this.tbItem[e];i.i(s.isNullOrUndefined)(o)?this.selectedID="0":this.selectingID=this.extIndex(o.id),i.i(s.isNullOrUndefined)(this.prevItem)||this.prevItem.classList.contains("e-disable")||this.prevItem.children.item(0).setAttribute("tabindex",this.prevItem.firstElementChild.getAttribute("tabindex"));var a={event:t,previousItem:this.prevItem,previousIndex:this.prevIndex,selectedItem:this.tbItem[this.selectedItem],selectedIndex:this.selectedItem,selectedContent:i.i(s.isNullOrUndefined)(this.content)?null:i.i(s.select)("#e-content"+this.tabId+"_"+this.selectedID,this.content),selectingItem:o,selectingIndex:e,selectingContent:i.i(s.isNullOrUndefined)(this.content)?null:i.i(s.select)("#e-content"+this.tabId+"_"+this.selectingID,this.content),isSwiped:this.isSwiped,isInteracted:this.isInteracted,cancel:!1};this.initRender?this.selectingContent(e,this.isInteracted):this.trigger("selecting",a,function(t){t.cancel||n.selectingContent(e,n.isInteracted)}),this.isInteracted=!1},t.prototype.selectingContent=function(e,t){if("number"==typeof e){if(!i.i(s.isNullOrUndefined)(this.tbItem[e])&&(this.tbItem[e].classList.contains("e-disable")||this.tbItem[e].classList.contains("e-hidden")))for(var n=e+1;n<this.items.length;n++){if(!1===this.items[n].disabled&&!0===this.items[n].visible){e=n;break}e=0}if(this.tbItem.length>e&&e>=0&&!isNaN(e))if(this.prevIndex=this.selectedItem,this.prevItem=this.tbItem[this.prevIndex],this.tbItem[e].classList.contains(c)&&this.reorderActiveTab){if(this.setActive(this.popupHandler(this.tbItem[e]),null,t),!i.i(s.isNullOrUndefined)(this.items)&&this.items.length>0&&this.allowDragAndDrop){this.tbItem=i.i(s.selectAll)(".e-toolbar-items ."+h,this.hdrEle);var r=this.items[e];this.items.splice(e,1),this.items.splice(this.tbItem.length-1,0,r);var o=this.itemIndexArray[e];this.itemIndexArray.splice(e,1),this.itemIndexArray.splice(this.tbItem.length-1,0,o)}}else this.setActive(e,null,t);else this.setActive(0,null,t)}else e instanceof HTMLElement&&this.setActive(this.getEleIndex(e),null,t)},t.prototype.getItemIndex=function(e){for(var t,i=0;i<this.tbItem.length;i++){if(e===this.tbItem[i].getAttribute("data-id")){t=i;break}}return t},t.prototype.disable=function(e){this.setCssClass(this.element,"e-disable",e),this.element.setAttribute("aria-disabled",""+e)},t.prototype.getPersistData=function(){return this.addOnPersist(["selectedItem","actEleId"])},t.prototype.getModuleName=function(){return"tab"},t.prototype.onPropertyChanged=function(e,t){for(var n=this,r=0,o=Object.keys(e);r<o.length;r++){switch(o[r]){case"width":i.i(s.setStyleAttribute)(this.element,{width:i.i(s.formatUnit)(e.width)});break;case"height":i.i(s.setStyleAttribute)(this.element,{height:i.i(s.formatUnit)(e.height)}),this.setContentHeight(!1);break;case"cssClass":var l=this.element.querySelector("."+a);""===t.cssClass||i.i(s.isNullOrUndefined)(t.cssClass)?(this.setCssClass(this.element,e.cssClass,!0),i.i(s.isNullOrUndefined)(l)||this.setCssClass(l,e.cssClass,!0)):(this.setCssClass(this.element,t.cssClass,!1),this.setCssClass(this.element,e.cssClass,!0),i.i(s.isNullOrUndefined)(l)||(this.setCssClass(l,t.cssClass,!1),this.setCssClass(l,e.cssClass,!0)));break;case"items":this.evalOnPropertyChangeItems(e,t);break;case"showCloseButton":this.setCloseButton(e.showCloseButton);break;case"reorderActiveTab":this.refreshActiveTabBorder();break;case"selectedItem":this.selectedItem=t.selectedItem,this.select(e.selectedItem);break;case"headerPlacement":this.changeOrientation(e.headerPlacement);break;case"enableRtl":this.setRTL(e.enableRtl);break;case"overflowMode":this.tbObj.overflowMode=e.overflowMode,this.tbObj.dataBind(),this.refreshActiveTabBorder();break;case"heightAdjustMode":this.setContentHeight(!1),this.select(this.selectedItem);break;case"scrollStep":this.tbObj&&(this.tbObj.scrollStep=this.scrollStep);break;case"allowDragAndDrop":this.bindDraggable();break;case"dragArea":this.allowDragAndDrop&&(this.draggableItems.forEach(function(e){e.dragArea=n.dragArea}),this.refresh())}}},t.prototype.refreshActiveTab=function(){if(this.isReact&&this.isTemplate&&this.clearTemplate(),this.isTemplate){var e=this.element.querySelector("."+d),t=this.element.querySelector(".e-toolbar-item.e-active"),n=this.getIndexFromEle(t.id),r=t.innerText,o=this.element.querySelector(".e-content").querySelector(".e-active").children[0],a=o.innerHTML;i.i(s.detach)(t),i.i(s.detach)(o);var c={className:h+" e-template e-active",id:"e-item"+this.tabId+"_"+n},p=this.createElement("span",{className:"e-tab-text",innerHTML:r,attrs:{role:"presentation"}}).outerHTML,u=this.createElement("div",{className:"e-text-wrap",innerHTML:p+this.btnCls.outerHTML}).outerHTML,f=t.firstElementChild.getAttribute("data-tabindex"),m=this.createElement("div",{className:l,innerHTML:u,attrs:{tabIndex:f,"data-tabindex":f,role:"tab","aria-controls":"e-content"+this.tabId+"_"+n,"aria-selected":"true","aria-disabled":"false"}});e.insertBefore(this.createElement("div",c),e.children[n+1]),this.element.querySelector(".e-toolbar-item.e-active").appendChild(m);var v=this.createElement("div",{innerHTML:a});this.element.querySelector(".e-content").querySelector(".e-active").appendChild(v)}else if(this.element.querySelector(".e-toolbar-item.e-active")){i.i(s.detach)(this.element.querySelector(".e-toolbar-item.e-active").children[0]),i.i(s.detach)(this.element.querySelector(".e-content").querySelector(".e-active").children[0]);var g=this.items[this.selectedItem],y=i.i(s.isNullOrUndefined)(g.header)||i.i(s.isNullOrUndefined)(g.header.iconPosition)?"":g.header.iconPosition,b=i.i(s.isNullOrUndefined)(g.header)||i.i(s.isNullOrUndefined)(g.header.iconCss)?"":g.header.iconCss,C=g.headerTemplate||g.header.text,S=this.createElement("div",{className:"e-tab-text",attrs:{role:"presentation"}});i.i(s.isNullOrUndefined)(C.tagName)?this.headerTextCompile(S,C,this.selectedItem):S.appendChild(C);var x=this.createElement("span",{className:"e-icons e-tab-icon e-icon-"+y+" "+b}),I=this.createElement("div",{className:"e-text-wrap"});I.appendChild(S),""!==C&&void 0!==C&&""!==b?("left"===y||"top"===y?I.insertBefore(x,I.firstElementChild):I.appendChild(x),S,this.isIconAlone=!1):(""===b?S:x)===x&&(i.i(s.detach)(S),I.appendChild(x),this.isIconAlone=!0);var f=i.i(s.isNullOrUndefined)(g.tabIndex)?"-1":g.tabIndex.toString(),E=g.disabled?{}:{tabIndex:f,"data-tabindex":f,role:"tab","aria-selected":"true","aria-disabled":"false"};I.appendChild(this.btnCls.cloneNode(!0));var N=this.createElement("div",{className:l,attrs:E});N.appendChild(I),"top"!==y&&"bottom"!==y||this.element.classList.add("e-vertical-icon"),this.element.querySelector(".e-toolbar-item.e-active").appendChild(N);var v=this.createElement("div"),w=g.content,O=void 0;if("string"==typeof w||i.i(s.isNullOrUndefined)(w.innerHTML))if("string"==typeof w&&this.enableHtmlSanitizer&&(w=s.SanitizeHtmlHelper.sanitize(w)),"."===w[0]||"#"===w[0])if(document.querySelectorAll(w).length){var L=document.querySelector(w);O=L.outerHTML.trim(),v.appendChild(L),L.style.display=""}else this.compileElement(v,w,"content",this.selectedItem);else this.compileElement(v,w,"content",this.selectedItem);else v.appendChild(w);i.i(s.isNullOrUndefined)(O)||-1===this.templateEle.indexOf(w.toString())&&this.templateEle.push(w.toString()),this.element.querySelector(".e-item.e-active").appendChild(v)}this.isReact&&this.renderReactTemplates()},t.prototype.refreshActiveTabBorder=function(){var e=i.i(s.select)(".e-toolbar-item.e-toolbar-popup.e-active",this.element);!i.i(s.isNullOrUndefined)(e)&&this.reorderActiveTab&&this.select(this.getEleIndex(e)),this.refreshActiveBorder()},o([i.i(s.Collection)([],m)],t.prototype,"items",void 0),o([i.i(s.Property)("100%")],t.prototype,"width",void 0),o([i.i(s.Property)("auto")],t.prototype,"height",void 0),o([i.i(s.Property)("")],t.prototype,"cssClass",void 0),o([i.i(s.Property)(0)],t.prototype,"selectedItem",void 0),o([i.i(s.Property)("Top")],t.prototype,"headerPlacement",void 0),o([i.i(s.Property)("Content")],t.prototype,"heightAdjustMode",void 0),o([i.i(s.Property)("Scrollable")],t.prototype,"overflowMode",void 0),o([i.i(s.Property)("Dynamic")],t.prototype,"loadOn",void 0),o([i.i(s.Property)(!1)],t.prototype,"enablePersistence",void 0),o([i.i(s.Property)(!1)],t.prototype,"enableHtmlSanitizer",void 0),o([i.i(s.Property)(!1)],t.prototype,"showCloseButton",void 0),o([i.i(s.Property)(!0)],t.prototype,"reorderActiveTab",void 0),o([i.i(s.Property)()],t.prototype,"scrollStep",void 0),o([i.i(s.Property)()],t.prototype,"dragArea",void 0),o([i.i(s.Property)(!1)],t.prototype,"allowDragAndDrop",void 0),o([i.i(s.Property)(!0)],t.prototype,"clearTemplates",void 0),o([i.i(s.Complex)({},u)],t.prototype,"animation",void 0),o([i.i(s.Event)()],t.prototype,"created",void 0),o([i.i(s.Event)()],t.prototype,"adding",void 0),o([i.i(s.Event)()],t.prototype,"added",void 0),o([i.i(s.Event)()],t.prototype,"selecting",void 0),o([i.i(s.Event)()],t.prototype,"selected",void 0),o([i.i(s.Event)()],t.prototype,"removing",void 0),o([i.i(s.Event)()],t.prototype,"removed",void 0),o([i.i(s.Event)()],t.prototype,"onDragStart",void 0),o([i.i(s.Event)()],t.prototype,"dragging",void 0),o([i.i(s.Event)()],t.prototype,"dragged",void 0),o([i.i(s.Event)()],t.prototype,"destroyed",void 0),t=o([s.NotifyPropertyChanges],t)}(s.Component)},function(e,t,i){"use strict";i.d(t,"a",function(){return A}),i.d(t,"b",function(){return P}),i.d(t,"c",function(){return T}),i.d(t,"d",function(){return D});var s=i(0),n=(i.n(s),i(34)),r=(i.n(n),i(6)),o=(i.n(r),i(5)),a=(i.n(o),i(35)),l=(i.n(a),i(1)),d=(i.n(l),this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}()),h=this&&this.__decorate||function(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},c="e-treeview",p="e-icon-collapsible",u="e-icon-expandable",f="e-list-item",m="e-list-text",v="e-list-parent",g="e-active",y="e-icons-spinner",b="e-process",C="e-icons",S="e-text-content",x="e-drop-in",I="e-drop-next",E="e-fullrow",N="e-selected",w="e-check",O="e-checkbox-wrapper",L="e-node-focus",k={treeRole:"group",itemRole:"treeitem",listRole:"group",itemText:"",wrapperRole:""},A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),h([i.i(s.Property)("child")],t.prototype,"child",void 0),h([i.i(s.Property)([])],t.prototype,"dataSource",void 0),h([i.i(s.Property)("expanded")],t.prototype,"expanded",void 0),h([i.i(s.Property)("hasChildren")],t.prototype,"hasChildren",void 0),h([i.i(s.Property)("htmlAttributes")],t.prototype,"htmlAttributes",void 0),h([i.i(s.Property)("iconCss")],t.prototype,"iconCss",void 0),h([i.i(s.Property)("id")],t.prototype,"id",void 0),h([i.i(s.Property)("imageUrl")],t.prototype,"imageUrl",void 0),h([i.i(s.Property)("isChecked")],t.prototype,"isChecked",void 0),h([i.i(s.Property)("parentID")],t.prototype,"parentID",void 0),h([i.i(s.Property)(null)],t.prototype,"query",void 0),h([i.i(s.Property)("selectable")],t.prototype,"selectable",void 0),h([i.i(s.Property)("selected")],t.prototype,"selected",void 0),h([i.i(s.Property)(null)],t.prototype,"tableName",void 0),h([i.i(s.Property)("text")],t.prototype,"text",void 0),h([i.i(s.Property)("tooltip")],t.prototype,"tooltip",void 0),h([i.i(s.Property)("navigateUrl")],t.prototype,"navigateUrl",void 0),t}(s.ChildProperty),P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),h([i.i(s.Property)("SlideDown")],t.prototype,"effect",void 0),h([i.i(s.Property)(400)],t.prototype,"duration",void 0),h([i.i(s.Property)("linear")],t.prototype,"easing",void 0),t}(s.ChildProperty),T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),h([i.i(s.Complex)({effect:"SlideUp",duration:400,easing:"linear"},P)],t.prototype,"collapse",void 0),h([i.i(s.Complex)({effect:"SlideDown",duration:400,easing:"linear"},P)],t.prototype,"expand",void 0),t}(s.ChildProperty),D=function(e){function t(t,i){var s=e.call(this,t,i)||this;return s.isRefreshed=!1,s.preventExpand=!1,s.checkedElement=[],s.disableNode=[],s.validArr=[],s.validNodes=[],s.expandChildren=[],s.isFieldChange=!1,s.changeDataSource=!1,s.hasTemplate=!1,s.isFirstRender=!1,s.isNodeDropped=!1,s.isInteracted=!1,s.isRightClick=!1,s.mouseDownStatus=!1,s}d(t,e),P=t,t.prototype.getModuleName=function(){return"treeview"},t.prototype.preRender=function(){var e=this;this.checkActionNodes=[],this.parentNodeCheck=[],this.dragStartAction=!1,this.isAnimate=!1,this.keyConfigs={escape:"escape",end:"end",enter:"enter",f2:"f2",home:"home",moveDown:"downarrow",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",ctrlDown:"ctrl+downarrow",ctrlUp:"ctrl+uparrow",ctrlEnter:"ctrl+enter",ctrlHome:"ctrl+home",ctrlEnd:"ctrl+end",ctrlA:"ctrl+A",shiftDown:"shift+downarrow",shiftUp:"shift+uparrow",shiftEnter:"shift+enter",shiftHome:"shift+home",shiftEnd:"shift+end",csDown:"ctrl+shift+downarrow",csUp:"ctrl+shift+uparrow",csEnter:"ctrl+shift+enter",csHome:"ctrl+shift+home",csEnd:"ctrl+shift+end",space:"space",shiftSpace:"shift+space",ctrlSpace:"ctrl+space"},this.listBaseOption={expandCollapse:!0,showIcon:!0,expandIconClass:u,ariaAttributes:k,expandIconPosition:"Left",itemCreated:function(t){e.beforeNodeCreate(t)},enableHtmlSanitizer:this.enableHtmlSanitizer,itemNavigable:this.fullRowNavigable},this.updateListProp(this.fields),this.aniObj=new s.Animation({}),this.treeList=[],this.isLoaded=!1,this.isInitalExpand=!1,this.expandChildren=[],this.index=0,this.setTouchClass(),i.i(s.isNullOrUndefined)(this.selectedNodes)&&this.setProperties({selectedNodes:[]},!0),i.i(s.isNullOrUndefined)(this.checkedNodes)&&this.setProperties({checkedNodes:[]},!0),i.i(s.isNullOrUndefined)(this.expandedNodes)?this.setProperties({expandedNodes:[]},!0):this.isInitalExpand=!0},t.prototype.getPersistData=function(){var e=["selectedNodes","checkedNodes","expandedNodes"];return this.addOnPersist(e)},t.prototype.render=function(){this.initialRender=!0,this.initialize(),this.setDataBinding(!1),this.setDisabledMode(),this.setExpandOnType(),this.disabled||this.setRipple(),this.wireEditingEvents(this.allowEditing),this.setDragAndDrop(this.allowDragAndDrop),this.disabled||this.wireEvents(),this.initialRender=!1,this.renderComplete()},t.prototype.initialize=function(){this.element.setAttribute("role","tree"),this.element.setAttribute("aria-activedescendant",this.element.id+"_active"),this.setCssClass(null,this.cssClass),this.setEnableRtl(),this.setFullRow(this.fullRowSelect),this.setTextWrap(),this.nodeTemplateFn=this.templateComplier(this.nodeTemplate)},t.prototype.setDisabledMode=function(){this.disabled?(this.element.classList.add("e-disabled"),this.element.setAttribute("aria-disabled","true")):(this.element.classList.remove("e-disabled"),this.element.setAttribute("aria-disabled","false"))},t.prototype.setEnableRtl=function(){(this.enableRtl?s.addClass:s.removeClass)([this.element],"e-rtl")},t.prototype.setRipple=function(){var e={selector:".e-fullrow,.e-text-content",ignore:"."+S+" > ."+C+",.e-input-group,.e-input, ."+O};this.rippleFn=i.i(s.rippleEffect)(this.element,e);var t={selector:"."+S+" > ."+C,isCenterRipple:!0};this.rippleIconFn=i.i(s.rippleEffect)(this.element,t)},t.prototype.setFullRow=function(e){(e?s.addClass:s.removeClass)([this.element],"e-fullrow-wrap")},t.prototype.setMultiSelect=function(e){e?this.element.setAttribute("aria-multiselectable","true"):this.element.setAttribute("aria-multiselectable","false")},t.prototype.templateComplier=function(e){if(e){this.hasTemplate=!0;this.element.classList.add("e-interaction");try{return"function"!=typeof e&&document.querySelectorAll(e).length?i.i(s.compile)(document.querySelector(e).innerHTML.trim()):i.i(s.compile)(e)}catch(t){return i.i(s.compile)(e)}}this.element.classList.remove("e-interaction")},t.prototype.setDataBinding=function(e){var t=this;this.treeList.push("false"),this.fields.dataSource instanceof n.DataManager?(this.isOffline=this.fields.dataSource.dataSource.offline,this.fields.dataSource.ready?this.fields.dataSource.ready.then(function(e){t.isOffline=t.fields.dataSource.dataSource.offline,t.fields.dataSource instanceof n.DataManager&&t.isOffline&&(t.treeList.pop(),t.treeData=e.result,t.isNumberTypeId=t.getType(),t.setRootData(),t.renderItems(!0),0!==t.treeList.length||t.isLoaded||t.finalize())}).catch(function(e){t.trigger("actionFailure",{error:e})}):this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then(function(i){t.treeList.pop(),t.treeData=i.result,t.isNumberTypeId=t.getType(),t.setRootData(),e&&(t.changeDataSource=!0),t.renderItems(!0),t.changeDataSource=!1,0!==t.treeList.length||t.isLoaded||t.finalize()}).catch(function(e){t.trigger("actionFailure",{error:e})})):(this.treeList.pop(),i.i(s.isNullOrUndefined)(this.fields.dataSource)?this.rootData=this.treeData=[]:(this.treeData=JSON.parse(JSON.stringify(this.fields.dataSource)),this.setRootData()),this.isNumberTypeId=this.getType(),this.renderItems(!1)),0!==this.treeList.length||this.isLoaded||this.finalize()},t.prototype.getQuery=function(e,t){void 0===t&&(t=null);var o,a=[];if(e.query)o=e.query.clone();else{o=new n.Query;for(var l=this.getActualProperties(e),d=0,h=Object.keys(l);d<h.length;d++){var c=h[d];"dataSource"!==c&&"tableName"!==c&&"child"!==c&&e[c]&&"url"!==c&&-1===a.indexOf(e[c])&&a.push(e[c])}o.select(a),l.hasOwnProperty("tableName")&&o.from(e.tableName)}return r.ListBase.addSorting(this.sortOrder,e.text,o),i.i(s.isNullOrUndefined)(t)||i.i(s.isNullOrUndefined)(e.parentID)||o.where(e.parentID,"equal",this.isNumberTypeId?parseFloat(t):t),o},t.prototype.getType=function(){return!!this.treeData[0]&&"number"==typeof i.i(s.getValue)(this.fields.id,this.treeData[0])},t.prototype.setRootData=function(){if(this.dataType=this.getDataType(this.treeData,this.fields),1===this.dataType){this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID);var e=this.getChildNodes(this.treeData,void 0,!0);i.i(s.isNullOrUndefined)(e)?this.rootData=[]:this.rootData=e}else this.rootData=this.treeData},t.prototype.isChildObject=function(){return"object"==typeof this.fields.child},t.prototype.renderItems=function(e){this.listBaseOption.ariaAttributes.level=1;var t=this.getSortedData(this.rootData);this.ulElement=r.ListBase.createList(this.createElement,e?this.rootData:t,this.listBaseOption),this.element.appendChild(this.ulElement);var n=this.ulElement.querySelectorAll(".e-list-item");if(!1===this.loadOnDemand)for(var o=0;o<n.length;)this.renderChildNodes(n[o],!0,null,!0),o++;(1===i.i(s.selectAll)("."+v,this.element).length&&n&&0!==n.length||this.loadOnDemand)&&this.finalizeNode(this.element),this.parentNodeCheck=[],this.parentCheckData=[],this.updateCheckedStateFromDS(),this.autoCheck&&this.showCheckBox&&!this.isLoaded&&this.updateParentCheckState()},t.prototype.updateCheckedStateFromDS=function(e){if(this.validNodes=[],this.treeData&&this.showCheckBox){if(1===this.dataType){for(var t=this.fields,r=new n.DataManager(this.treeData).executeLocal((new n.Query).where(t.isChecked,"equal",!0,!1)),o=0;o<r.length;o++){var a=r[o][this.fields.id]?r[o][this.fields.id].toString():null;r[o][this.fields.parentID]&&r[o][this.fields.parentID].toString();if(-1!==this.checkedNodes.indexOf(a)||this.isLoaded||this.checkedNodes.push(a),r[o][this.fields.hasChildren])for(var l=r[o][this.fields.id],d=new n.DataManager(this.treeData).executeLocal((new n.Query).where(t.parentID,"equal",l,!1)),h=0;h<d.length;h++){var c=d[h][this.fields.id]?d[h][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(c)&&this.autoCheck&&this.checkedNodes.push(c)}}for(var o=0;o<this.checkedNodes.length;o++){var p=this.fields,u=new n.DataManager(this.treeData).executeLocal((new n.Query).where(p.id,"equal",this.checkedNodes[o],!0));if(u[0]&&this.autoCheck&&(this.getCheckedNodeDetails(p,u),this.checkIndeterminateState(u[0])),u.length>0){var f=u[0][this.fields.id]?u[0][this.fields.id].toString():null;this.checkedNodes.indexOf(f)>-1&&-1===this.validNodes.indexOf(f)&&this.validNodes.push(f)}for(var m=new n.DataManager(this.treeData).executeLocal((new n.Query).where(p.parentID,"equal",this.checkedNodes[o],!0)),v=0;v<m.length;v++){var f=m[v][this.fields.id]?m[v][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(f)&&this.autoCheck&&this.checkedNodes.push(f),this.checkedNodes.indexOf(f)>-1&&-1===this.validNodes.indexOf(f)&&this.validNodes.push(f)}}}else if(2===this.dataType||this.fields.dataSource instanceof n.DataManager&&this.isOffline){for(var v=0;v<this.treeData.length;v++){var g=this.treeData[v][this.fields.id]?this.treeData[v][this.fields.id].toString():"";this.treeData[v][this.fields.isChecked]&&!this.isLoaded&&-1===this.checkedNodes.indexOf(g)&&this.checkedNodes.push(g),this.checkedNodes.indexOf(g)>-1&&-1===this.validNodes.indexOf(g)&&this.validNodes.push(g);var y=i.i(s.getValue)(this.fields.child.toString(),this.treeData[v]);y&&this.updateChildCheckState(y,this.treeData[v])}this.validNodes=this.enablePersistence?this.checkedNodes:this.validNodes}this.setProperties({checkedNodes:this.validNodes},!0)}},t.prototype.getCheckedNodeDetails=function(e,t){var r=t[0][this.fields.parentID]?t[0][this.fields.parentID].toString():null,o=0,a=this.element.querySelector('[data-uid="'+t[0][this.fields.id]+'"]'),l=this.element.querySelector('[data-uid="'+t[0][this.fields.parentID]+'"]');if(a||l){if(l){var d=i.i(s.select)("."+w,l);d||this.changeState(l,"indeterminate",null,!0,!0)}}else{this.parentNodeCheck.length;-1===this.parentNodeCheck.indexOf(r)&&this.parentNodeCheck.push(r);for(var h=this.getChildNodes(this.treeData,r),c=0;c<h.length;c++){var p=h[c][this.fields.id]?h[c][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(p)&&o++,o===h.length&&-1===this.checkedNodes.indexOf(r)&&this.checkedNodes.push(r)}var u=new n.DataManager(this.treeData).executeLocal((new n.Query).where(e.id,"equal",r,!0));this.getCheckedNodeDetails(e,u)}},t.prototype.updateParentCheckState=function(){for(var e,t=i.i(s.selectAll)(".e-stop",this.element),r=0;r<t.length;r++){var o=i.i(s.closest)(t[r],"."+f),a=o.getAttribute("data-uid").toString();e=1===this.dataType?new n.DataManager(this.treeData).executeLocal((new n.Query).where(this.fields.parentID,"equal",a,!0)):this.getChildNodes(this.treeData,a);var l=0;if(e){for(var d=0;d<e.length;d++){var h=e[d][this.fields.id].toString();-1!==this.checkedNodes.indexOf(h)&&l++}if(l===e.length){var c=o.getAttribute("data-uid");-1===this.checkedNodes.indexOf(c)&&this.checkedNodes.push(c),this.changeState(o,"check",null,!0,!0)}else 0===l&&0===this.checkedNodes.length&&this.changeState(o,"uncheck",null,!0,!0)}}},t.prototype.checkIndeterminateState=function(e){var t;if(t=1===this.dataType?this.element.querySelector('[data-uid="'+e[this.fields.parentID]+'"]'):this.element.querySelector('[data-uid="'+e[this.fields.id]+'"]')){"true"!==t.getAttribute("aria-checked")&&this.changeState(t,"indeterminate",null,!0,!0)}else if(2===this.dataType){this.parentNodeCheck.length;-1===this.parentNodeCheck.indexOf(e[this.fields.id].toString())&&this.parentNodeCheck.push(e[this.fields.id].toString())}},t.prototype.updateChildCheckState=function(e,t){for(var n=0,r=t[this.fields.id]?t[this.fields.id].toString():"",o=0;o<e.length;o++){var a=e[o][this.fields.id]?e[o][this.fields.id].toString():"";e[o][this.fields.isChecked]&&!this.isLoaded&&-1===this.checkedNodes.indexOf(a)&&this.checkedNodes.push(a),-1!==this.checkedNodes.indexOf(r)&&-1===this.checkedNodes.indexOf(a)&&this.autoCheck&&this.checkedNodes.push(a),-1!==this.checkedNodes.indexOf(a)&&this.autoCheck&&n++,this.checkedNodes.indexOf(a)>-1&&-1===this.validNodes.indexOf(a)&&this.validNodes.push(a);var l=i.i(s.getValue)(this.fields.child.toString(),e[o]);l&&l.length&&(-1===this.parentCheckData.indexOf(t)&&this.parentCheckData.push(t),this.updateChildCheckState(l,e[o])),n===e.length&&this.autoCheck&&-1===this.checkedNodes.indexOf(r)&&this.checkedNodes.push(r)}if(0!==n&&this.autoCheck){this.checkIndeterminateState(t);for(var d=0;d<this.parentCheckData.length;d++)t!==this.parentCheckData[d]&&this.parentCheckData[d]&&this.checkIndeterminateState(this.parentCheckData[d])}this.parentCheckData=[]},t.prototype.beforeNodeCreate=function(e){if(this.showCheckBox){var t=i.i(o.createCheckBox)(this.createElement,!0,{cssClass:this.touchClass}),n=i.i(s.select)("div."+C,e.item),r=e.item.getAttribute("data-uid");e.item.childNodes[0].insertBefore(t,e.item.childNodes[0].childNodes[i.i(s.isNullOrUndefined)(n)?0:1]);var a=i.i(s.getValue)(e.fields.isChecked,e.curData);this.checkedNodes.indexOf(r)>-1?(i.i(s.select)(".e-frame",t).classList.add(w),e.item.setAttribute("aria-checked","true"),this.addCheck(e.item)):i.i(s.isNullOrUndefined)(a)||"true"!==a.toString()?e.item.setAttribute("aria-checked","false"):(i.i(s.select)(".e-frame",t).classList.add(w),e.item.setAttribute("aria-checked","true"),this.addCheck(e.item));var l=i.i(s.select)(".e-frame",t);s.EventHandler.add(l,"mousedown",this.frameMouseHandler,this),s.EventHandler.add(l,"mouseup",this.frameMouseHandler,this)}this.fullRowSelect&&this.createFullRow(e.item),this.allowMultiSelection&&!e.item.classList.contains(N)&&e.item.setAttribute("aria-selected","false");var d=e.fields;if(this.addActionClass(e,d.selected,N),this.addActionClass(e,d.expanded,"e-expanded"),e.item.setAttribute("tabindex","-1"),s.EventHandler.add(e.item,"focus",this.focusIn,this),!i.i(s.isNullOrUndefined)(this.nodeTemplateFn)){var h=e.item.querySelector("."+m),c=e.item.getAttribute("data-uid");h.innerHTML="",this.renderNodeTemplate(e.curData,h,c)}var p={node:e.item,nodeData:e.curData,text:e.text};this.isRefreshed||(this.trigger("drawNode",p),!1!==e.curData[this.fields.selectable]||this.showCheckBox||(e.item.classList.add("e-prevent"),e.item.firstElementChild.setAttribute("style","cursor: not-allowed")))},t.prototype.frameMouseHandler=function(e){var t=i.i(s.select)(".e-ripple-container",e.target.parentElement);i.i(o.rippleMouseHandler)(e,t)},t.prototype.addActionClass=function(e,t,n){var r=e.curData,o=i.i(s.getValue)(t,r);i.i(s.isNullOrUndefined)(o)||"false"===o.toString()||e.item.classList.add(n)},t.prototype.getDataType=function(e,t){if(this.fields.dataSource instanceof n.DataManager){for(var r=0;r<e.length;r++)if(this.isOffline){if("string"==typeof t.child&&i.i(s.isNullOrUndefined)(i.i(s.getValue)(t.child,e[r]))&&!i.i(s.isNullOrUndefined)(i.i(s.getValue)(t.parentID,e[r])))return 1}else if("string"==typeof t.child&&i.i(s.isNullOrUndefined)(i.i(s.getValue)(t.child,e[r])))return 1;return 2}for(var r=0,o=e.length;r<o;r++){if("string"==typeof t.child&&!i.i(s.isNullOrUndefined)(i.i(s.getValue)(t.child,e[r])))return 2;if(this.isChildObject())return 2;if(!i.i(s.isNullOrUndefined)(i.i(s.getValue)(t.parentID,e[r]))||!i.i(s.isNullOrUndefined)(i.i(s.getValue)(t.hasChildren,e[r])))return 1}return 1},t.prototype.getGroupedData=function(e,t){for(var i=(new n.Query).group(t),s=r.ListBase.getDataSource(e,i),o=[],a=0;a<s.length;a++){var l=s[a].items;o.push(l)}return o},t.prototype.getSortedData=function(e){return e&&"None"!==this.sortOrder&&(e=r.ListBase.getDataSource(e,r.ListBase.addSorting(this.sortOrder,this.fields.text))),e},t.prototype.finalizeNode=function(e){for(var t=this,r=i.i(s.selectAll)(".e-list-img",e),o=0;o<r.length;o++)r[o].setAttribute("alt","e-list-img");if(this.isLoaded){for(var a=i.i(s.selectAll)("."+N,e),l=0;l<a.length;l++){this.selectNode(a[l],null);break}i.i(s.removeClass)(a,N)}for(var d=i.i(s.selectAll)(".e-list-item:not(.e-expanded)",e),h=0;h<d.length;h++){var c=i.i(s.select)("div."+C,d[h]);c&&c.classList.contains(u)&&this.disableExpandAttr(d[h])}var p=i.i(s.selectAll)(".e-expanded",e);if(!this.loadOnDemand&&this.fields.dataSource instanceof n.DataManager&&(this.isInitalExpand=this.treeData.filter(function(e){return 1==e[t.fields.expanded]}).length>0||this.isInitalExpand),!this.isInitalExpand)for(var l=0;l<p.length;l++)this.renderChildNodes(p[l]);i.i(s.removeClass)(p,"e-expanded"),this.updateList(),this.isLoaded&&this.updateCheckedProp()},t.prototype.updateCheckedProp=function(){if(this.showCheckBox){var e=[].concat([],this.checkedNodes);this.setProperties({checkedNodes:e},!0)}},t.prototype.ensureIndeterminate=function(){if(this.autoCheck)for(var e=i.i(s.selectAll)("li",this.element),t=void 0,n=0;n<e.length;n++)e[n].classList.contains(f)&&(t=i.i(s.select)("."+v,e[n]),t?this.ensureParentCheckState(e[n]):this.ensureChildCheckState(e[n]));else for(var r=i.i(s.selectAll)(".e-stop",this.element),n=0;n<r.length;n++)r[n].classList.remove("e-stop")},t.prototype.ensureParentCheckState=function(e){if(!i.i(s.isNullOrUndefined)(e)){if(e.classList.contains(c))return;var t=e;e.classList.contains(f)&&(t=i.i(s.select)("."+v,e));var n=i.i(s.selectAll)("."+w,t),r=i.i(s.selectAll)(".e-stop",t),o=i.i(s.selectAll)("."+f,t),a=e.getElementsByClassName(O)[0];o.length===n.length?this.changeState(a,"check",null,!0,!0):n.length>0||r.length>0?this.changeState(a,"indeterminate",null,!0,!0):0===n.length&&this.changeState(a,"uncheck",null,!0,!0);var l=i.i(s.closest)(e,"."+v);if(!i.i(s.isNullOrUndefined)(l)){var d=i.i(s.closest)(l,"."+f);this.ensureParentCheckState(d)}}},t.prototype.ensureChildCheckState=function(e,t){if(!i.i(s.isNullOrUndefined)(e)){var n=i.i(s.select)("."+v,e),r=void 0;if(!i.i(s.isNullOrUndefined)(n)){r=i.i(s.selectAll)("."+O,n);for(var o=e.getElementsByClassName("e-frame")[0].classList.contains(w),a=e.getElementsByClassName("e-frame")[0].classList.contains("e-stop"),l=n.querySelectorAll("li"),d=(n.parentElement.getAttribute("aria-expanded"),void 0),h=0;h<r.length;h++){var c=l[h].getAttribute("data-uid");if(i.i(s.isNullOrUndefined)(this.currentLoadData)||i.i(s.isNullOrUndefined)(i.i(s.getValue)(this.fields.isChecked,this.currentLoadData[h]))){var p=r[h].getElementsByClassName("e-frame")[0].classList.contains(w);o?d="check":p&&!this.isLoaded?d="check":-1!==this.checkedNodes.indexOf(c)&&this.isLoaded&&(a||o)?d="check":l[h].classList.contains("e-has-child")&&!i.i(s.isUndefined)(this.parentNodeCheck)&&this.autoCheck&&(o||a)&&-1!==this.parentNodeCheck.indexOf(c)?(d="indeterminate",this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(c),1)):1===this.dataType&&!i.i(s.isUndefined)(this.parentNodeCheck)&&this.autoCheck&&(o||a)&&-1!==this.parentNodeCheck.indexOf(c)?(d="indeterminate",this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(c),1)):d="uncheck"}else d=i.i(s.getValue)(this.fields.isChecked,this.currentLoadData[h])?"check":"uncheck",-1!==this.ele&&(d=o?"check":"uncheck"),"uncheck"===d&&!i.i(s.isUndefined)(this.parentNodeCheck)&&this.autoCheck&&-1!==this.parentNodeCheck.indexOf(c)&&(this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(c),1),d="indeterminate");this.changeState(r[h],d,t,!0,!0)}}this.autoCheck&&this.isLoaded&&this.updateParentCheckState()}},t.prototype.doCheckBoxAction=function(e,t){i.i(s.selectAll)("."+f,this.element);if(i.i(s.isNullOrUndefined)(e)){var n=i.i(s.selectAll)("."+O,this.element);if(this.loadOnDemand)for(var r=0;r<n.length;r++)this.updateFieldChecked(n[r],t),this.changeState(n[r],t?"check":"uncheck",null,null,null,t);else for(var r=0;r<n.length;r++)this.updateFieldChecked(n[r],t),this.changeState(n[r],t?"check":"uncheck")}else for(var o=e.length-1;o>=0;o--){var a=this.getElement(e[o]);if(i.i(s.isNullOrUndefined)(a)){var l=void 0;if(""!==(l=e[o-(e.length-1)]?e[o-(e.length-1)].toString():e[o]?e[o].toString():null)&&t&&l)this.setValidCheckedNode(l),this.dynamicCheckState(l,t);else if(-1!==this.checkedNodes.indexOf(l)&&""!==l&&!t){this.checkedNodes.splice(this.checkedNodes.indexOf(l),1);var d=this.getChildNodes(this.treeData,l);if(d){for(var h=0;h<d.length;h++){var c=d[h][this.fields.id]?d[h][this.fields.id].toString():null;if(-1!==this.checkedNodes.indexOf(c)){this.checkedNodes.splice(this.checkedNodes.indexOf(c),1);var p=this.element.querySelector('[data-uid="'+c+'"]');p&&this.changeState(p,"uncheck",null)}}-1!==this.parentNodeCheck.indexOf(l)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(l),1)}l&&this.dynamicCheckState(l,t),this.updateField(this.treeData,this.fields,l,"isChecked",null)}}else{var u=i.i(s.select)(".e-list-parent ."+O,a);this.validateCheckNode(u,!t,a,null)}}if(e)for(var m=0;m<e.length-1;m++){var l=e[m]?e[m].toString():"";t||this.updateField(this.treeData,this.fields,l,"isChecked",null)}this.autoCheck&&this.updateParentCheckState()},t.prototype.updateFieldChecked=function(e,t){var n=i.i(s.closest)(e,"."+f),r=n.getAttribute("data-uid");"true"!==this.getNodeData(n).isChecked||t||this.updateField(this.treeData,this.fields,r,"isChecked",null)},t.prototype.dynamicCheckState=function(e,t){if(1===this.dataType){var r=0,o=new n.DataManager(this.treeData).executeLocal((new n.Query).where(this.fields.id,"equal",e,!0));if(o[0]){var a=o[0][this.fields.id]?o[0][this.fields.id].toString():null,l=o[0][this.fields.parentID]?o[0][this.fields.parentID].toString():null,d=this.element.querySelector('[data-uid="'+l+'"]'),h=(d&&i.i(s.select)(".e-stop",d),d?i.i(s.select)("."+w,d):null),c=this.element.querySelector('[data-uid="'+a+'"]'),p=this.getChildNodes(this.treeData,l);if(p)for(var u=0;u<p.length;u++){var f=p[u][this.fields.id]?p[u][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(f)&&r++}-1!==this.checkedNodes.indexOf(e)&&d&&a===e&&this.autoCheck?this.changeState(d,"indeterminate",null):-1===this.checkedNodes.indexOf(e)&&c&&a===e&&!t?this.changeState(c,"uncheck",null):-1!==this.checkedNodes.indexOf(e)&&c&&a===e&&t?this.changeState(c,"check",null):-1===this.checkedNodes.indexOf(e)&&!c&&d&&a===e&&this.autoCheck&&0!==r?this.changeState(d,"indeterminate",null):-1===this.checkedNodes.indexOf(e)&&!c&&d&&a===e&&this.autoCheck&&0===r?this.changeState(d,"uncheck",null):c||d||a!==e||!this.autoCheck||this.updateIndeterminate(e,t)}}else if(2===this.dataType||this.fields.dataSource instanceof n.DataManager&&this.isOffline)for(var a=void 0,d=void 0,h=void 0,u=0;u<this.treeData.length;u++){a=this.treeData[u][this.fields.id]?this.treeData[u][this.fields.id].toString():"",d=this.element.querySelector('[data-uid="'+a+'"]'),h=d?i.i(s.select)("."+w,d):null,-1===this.checkedNodes.indexOf(a)&&d&&h&&!t&&this.changeState(d,"uncheck",null);var m=i.i(s.getValue)(this.fields.child.toString(),this.treeData[u]);m&&this.updateChildIndeterminate(m,a,e,t,a)}},t.prototype.updateIndeterminate=function(e,t){var i,s=this.getTreeData(e),n=0;1===this.dataType&&(i=s[0][this.fields.parentID]?s[0][this.fields.parentID].toString():null);var r=this.getChildNodes(this.treeData,i);if(r)for(var o=0;o<r.length;o++){var a=r[o][this.fields.id]?r[o][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(a)&&n++}var l=this.element.querySelector('[data-uid="'+i+'"]');l&&t?this.changeState(l,"indeterminate",null):!t&&l&&-1===this.parentNodeCheck.indexOf(i)&&0!==n?this.changeState(l,"indeterminate",null):!t&&l&&-1===this.parentNodeCheck.indexOf(i)&&0===n?this.changeState(l,"uncheck",null):l||(t||-1!==this.checkedNodes.indexOf(i)||-1===this.parentNodeCheck.indexOf(i)?t&&-1===this.checkedNodes.indexOf(i)&&-1===this.parentNodeCheck.indexOf(i)?this.parentNodeCheck.push(i):t||-1===this.checkedNodes.indexOf(i)||-1!==this.parentNodeCheck.indexOf(i)||0===n||this.parentNodeCheck.push(i):this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(i),1),this.updateIndeterminate(i,t),-1===this.checkedNodes.indexOf(i)||t||this.checkedNodes.splice(this.checkedNodes.indexOf(i),1))},t.prototype.updateChildIndeterminate=function(e,t,n,r,o){for(var a=0,l=0;l<e.length;l++){var d=e[l][this.fields.id]?e[l][this.fields.id].toString():"";-1!==this.checkedNodes.indexOf(d)&&a++;var h=this.element.querySelector('[data-uid="'+t+'"]'),c=h?i.i(s.select)(".e-stop",h):null,p=h?i.i(s.select)("."+w,h):null,u=this.element.querySelector('[data-uid="'+d+'"]'),f=u?i.i(s.select)("."+w,u):null;if(-1!==this.checkedNodes.indexOf(n)&&h&&d===n&&this.autoCheck)this.changeState(h,"indeterminate",null);else if(-1!==this.checkedNodes.indexOf(n)||!h||u||d!==n||r){if(-1===this.checkedNodes.indexOf(n)&&u&&d===n&&!r)this.changeState(u,"uncheck",null);else if(-1===this.checkedNodes.indexOf(n)&&c&&d===n&&this.autoCheck&&0===a&&!r)c.classList.remove("e-stop");else if(-1===this.checkedNodes.indexOf(n)&&!u&&p&&d===n&&0===a)this.changeState(h,"uncheck",null);else if(-1===this.checkedNodes.indexOf(d)&&u&&f&&0===a)this.changeState(u,"uncheck",null);else if(!u&&!h&&d===n||-1!==this.parentNodeCheck.indexOf(t)&&this.autoCheck){var m=this.element.querySelector('[data-uid="'+o+'"]');r&&0!==a?this.changeState(m,"indeterminate",null):r&&a===e.length&&-1===this.checkedNodes.indexOf(t)?this.checkedNodes.push(t):r||0!==a||-1===this.parentNodeCheck.indexOf(t)||this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(t)),-1===this.parentNodeCheck.indexOf(t)&&this.parentNodeCheck.push(t)}}else this.autoCheck?this.changeState(h,"uncheck",null):0!==a?this.changeState(h,"indeterminate",null):this.changeState(h,"uncheck",null);var v=i.i(s.getValue)(this.fields.child.toString(),e[l]);v&&this.updateChildIndeterminate(v,d,n,r,o)}},t.prototype.changeState=function(e,t,n,r,o,a){var l,d=this,h=i.i(s.closest)(e,"."+f);e===h&&(e=i.i(s.select)("."+O,h)),r?this.nodeCheckAction(e,t,h,l,n,r,o,a):(this.checkActionNodes=[],l=this.getCheckEvent(h,t,n),this.trigger("nodeChecking",l,function(i){i.cancel||d.nodeCheckAction(e,t,h,i,n,r,o,a)}))},t.prototype.nodeCheckAction=function(e,t,n,r,o,a,l,d){var h,c=e.getElementsByClassName("e-frame")[0];if("check"!==t||c.classList.contains(w)?"uncheck"===t&&(c.classList.contains(w)||c.classList.contains("e-stop"))?(i.i(s.removeClass)([c],[w,"e-stop"]),this.removeCheck(n),h="false"):"indeterminate"===t&&this.autoCheck&&(c.classList.remove(w),c.classList.add("e-stop"),this.removeCheck(n),h="mixed"):(c.classList.remove("e-stop"),c.classList.add(w),this.addCheck(n),h="true"),h="check"===t?"true":"uncheck"===t?"false":h,i.i(s.isNullOrUndefined)(h)||n.setAttribute("aria-checked",h),l){var p=[].concat([],this.checkActionNodes);r=this.getCheckEvent(n,t,o),i.i(s.isUndefined)(a)&&(r.data=p)}void 0!==d&&this.ensureStateChange(n,d),a||i.i(s.isNullOrUndefined)(h)||(n.setAttribute("aria-checked",h),r.data[0].checked=h,this.trigger("nodeChecked",r),this.checkActionNodes=[])},t.prototype.addCheck=function(e){var t=e.getAttribute("data-uid");i.i(s.isNullOrUndefined)(t)||-1!==this.checkedNodes.indexOf(t)||this.checkedNodes.push(t)},t.prototype.removeCheck=function(e){var t=this.checkedNodes.indexOf(e.getAttribute("data-uid"));t>-1&&this.checkedNodes.splice(t,1)},t.prototype.getCheckEvent=function(e,t,n){this.checkActionNodes.push(this.getNodeData(e));var r=this.checkActionNodes;return{action:t,cancel:!1,isInteracted:!i.i(s.isNullOrUndefined)(n),node:e,data:r}},t.prototype.finalize=function(){var e=i.i(s.select)("."+v,this.element);if(!i.i(s.isNullOrUndefined)(e)){e.setAttribute("role",k.treeRole),this.setMultiSelect(this.allowMultiSelection);var t=i.i(s.select)("."+f,this.element);t&&(t.setAttribute("tabindex","0"),this.updateIdAttr(null,t)),this.allowTextWrap&&this.updateWrap(),this.renderReactTemplates(),this.hasPid=!!this.rootData[0]&&this.rootData[0].hasOwnProperty(this.fields.parentID),this.doExpandAction()}},t.prototype.setTextWrap=function(){(this.allowTextWrap?s.addClass:s.removeClass)([this.element],"e-text-wrap"),s.Browser.isIE&&(this.allowTextWrap?s.addClass:s.removeClass)([this.element],"e-ie-wrap")},t.prototype.updateWrap=function(e){if(this.fullRowSelect)for(var t=e?i.i(s.selectAll)("."+f,e):this.liList,n=t.length,r=0;r<n;r++)this.calculateWrap(t[r])},t.prototype.calculateWrap=function(e){var t=i.i(s.select)("."+E,e);t&&t.nextElementSibling&&(t.style.height=this.allowTextWrap?t.nextElementSibling.offsetHeight+"px":"")},t.prototype.doExpandAction=function(){var e=this,t=this.expandedNodes;if(!this.loadOnDemand&&this.fields.dataSource instanceof n.DataManager&&(this.isInitalExpand=this.treeData.filter(function(t){return 1==t[e.fields.expanded]}).length>0||this.isInitalExpand),this.isInitalExpand&&t.length>0)if(this.setProperties({expandedNodes:[]},!0),this.fields.dataSource instanceof n.DataManager)this.expandGivenNodes(t);else{for(var r=0;r<t.length;r++){var o=i.i(s.select)('[data-uid="'+t[r]+'"]',this.element);if(i.i(s.isNullOrUndefined)(o))t[r]&&-1===this.expandChildren.indexOf(t[r])&&this.expandChildren.push(t[r].toString());else{var a=i.i(s.select)("."+u,i.i(s.select)("."+S,o));i.i(s.isNullOrUndefined)(a)||this.expandAction(o,a,null)}}this.afterFinalized()}else this.afterFinalized()},t.prototype.expandGivenNodes=function(e){var t=this;this.expandCallback(e[this.index],function(){t.index++,t.index<e.length?t.expandGivenNodes(e):t.afterFinalized()})},t.prototype.expandCallback=function(e,t){var n=i.i(s.select)('[data-uid="'+e+'"]',this.element);if(i.i(s.isNullOrUndefined)(n))t();else{var r=i.i(s.select)("."+u,i.i(s.select)("."+S,n));i.i(s.isNullOrUndefined)(r)?t():this.expandAction(n,r,null,!1,t)}},t.prototype.afterFinalized=function(){if(this.doSelectionAction(),this.updateCheckedProp(),this.isAnimate=!0,this.isInitalExpand=!1,(!this.isLoaded||this.isFieldChange)&&!this.isNodeDropped){var e={data:this.treeData};this.trigger("dataBound",e)}this.isLoaded=!0,this.isNodeDropped=!1},t.prototype.doSelectionAction=function(){var e=i.i(s.selectAll)("."+N,this.element),t=this.selectedNodes;if(t.length>0){this.setProperties({selectedNodes:[]},!0);for(var n=0;n<t.length;n++){var r=i.i(s.select)('[data-uid="'+t[n]+'"]',this.element);if(r&&!r.classList.contains("e-active")?this.selectNode(r,null,!0):this.selectedNodes.push(t[n]),!this.allowMultiSelection)break}}else this.selectGivenNodes(e);i.i(s.removeClass)(e,N)},t.prototype.selectGivenNodes=function(e){for(var t=0;t<e.length&&(e[t].classList.contains("e-disable")||this.selectNode(e[t],null,!0),this.allowMultiSelection);t++);},t.prototype.clickHandler=function(e){var t=s.Browser.isDevice&&!s.Browser.isIos?document.elementFromPoint(e.originalEvent.changedTouches[0].clientX,e.originalEvent.changedTouches[0].clientY):e.originalEvent.target;if(s.EventHandler.remove(this.element,"contextmenu",this.preventContextMenu),t&&!this.dragStartAction){var n=t.classList,r=i.i(s.closest)(t,"."+f);if(r&&(!r.classList.contains("e-prevent")||n.contains(u)||n.contains(p))){if(3!==e.originalEvent.which){var o=i.i(s.select)(".e-ripple-element",r),a=i.i(s.select)("."+C,r);if(this.removeHover(),this.setFocusElement(r),this.showCheckBox&&!r.classList.contains("e-disable")){var l=i.i(s.closest)(t,"."+O);if(!i.i(s.isNullOrUndefined)(l)){var d=i.i(s.select)(".e-frame",l);return this.validateCheckNode(l,d.classList.contains(w),r,e.originalEvent),void this.triggerClickEvent(e.originalEvent,r)}}n.contains(u)?this.expandAction(r,t,e):n.contains(p)?this.collapseNode(r,t,e):o&&a?a.classList.contains("e-ripple")&&a.classList.contains(u)?this.expandAction(r,a,e):a.classList.contains("e-ripple")&&a.classList.contains(p)?this.collapseNode(r,a,e):n.contains(v)||n.contains(f)||this.toggleSelect(r,e.originalEvent,!1):n.contains(v)||n.contains(f)||this.toggleSelect(r,e.originalEvent,!1)}3===e.originalEvent.which&&(this.isRightClick=!0),this.triggerClickEvent(e.originalEvent,r)}}},t.prototype.nodeCheckedEvent=function(e,t,n){var r=(i.i(s.closest)(e,"."+f),this.getCheckEvent(e,t?"uncheck":"check",n));r.data=r.data.splice(0,r.data.length-1),this.trigger("nodeChecked",r)},t.prototype.triggerClickEvent=function(e,t){var i={event:e,node:t};this.trigger("nodeClicked",i)},t.prototype.expandNode=function(e,t,r){var o=this;if(this.renderReactTemplates(),t.classList.contains(y)&&this.hideSpinner(t),this.initialRender||t.classList.add("interaction"),!0!==r||!0===r&&e.classList.contains("e-expanded")){if(!0!==this.preventExpand){i.i(s.removeClass)([t],u),i.i(s.addClass)([t],p);var a=0,l=0,d=this,h=i.i(s.select)("."+v,e),c=e;this.setHeight(c,h);var f=i.i(s.select)(".e-list-item."+g,e);this.isAnimate&&!this.isRefreshed?this.aniObj.animate(h,{name:this.animation.expand.effect,duration:0===this.animation.expand.duration&&"Enable"===s.animationMode?400:this.animation.expand.duration,timingFunction:this.animation.expand.easing,begin:function(t){c.style.overflow="hidden",!i.i(s.isNullOrUndefined)(f)&&f instanceof HTMLElement&&f.classList.add("e-animation-active"),a=c.offsetHeight,l=i.i(s.select)("."+S,e).offsetHeight},progress:function(e){e.element.style.display="block",d.animateHeight(e,a,l)},end:function(e){e.element.style.display="block",!i.i(s.isNullOrUndefined)(f)&&f instanceof HTMLElement&&f.classList.remove("e-animation-active"),o.expandedNode(c,h,t)}}):this.expandedNode(c,h,t)}}else{i.i(s.select)("."+v,e).style.display="none",this.fields.dataSource instanceof n.DataManager==!0&&(this.preventExpand=!1)}this.initialRender&&t.classList.add("interaction")},t.prototype.expandedNode=function(e,t,n){t.style.display="block",e.style.display="block",e.style.overflow="",e.style.height="",i.i(s.removeClass)([n],b),this.addExpand(e),this.allowTextWrap&&this.isLoaded&&this.isFirstRender&&(this.updateWrap(e),this.isFirstRender=!1),this.isLoaded&&this.expandArgs&&!this.isRefreshed&&(this.expandArgs=this.getExpandEvent(e,null),this.expandArgs.isInteracted=this.isInteracted,this.trigger("nodeExpanded",this.expandArgs))},t.prototype.addExpand=function(e){e.setAttribute("aria-expanded","true"),i.i(s.removeClass)([e],"e-node-collapsed");var t=e.getAttribute("data-uid");i.i(s.isNullOrUndefined)(t)||-1!==this.expandedNodes.indexOf(t)||this.expandedNodes.push(t)},t.prototype.collapseNode=function(e,t,n){var r=this;if(!t.classList.contains(b)){i.i(s.addClass)([t],b);var o;this.isLoaded?(o=this.getExpandEvent(e,n),this.isInteracted=o.isInteracted,this.trigger("nodeCollapsing",o,function(n){n.cancel?i.i(s.removeClass)([t],b):r.nodeCollapseAction(e,t,n)})):this.nodeCollapseAction(e,t,o)}},t.prototype.nodeCollapseAction=function(e,t,n){var r=this;i.i(s.removeClass)([t],p),i.i(s.addClass)([t],u);var o=0,a=0,l=this,d=i.i(s.select)("."+v,e),h=e,c=i.i(s.select)(".e-list-item."+g,e);this.isAnimate?this.aniObj.animate(d,{name:this.animation.collapse.effect,duration:0===this.animation.collapse.duration&&"Enable"===s.animationMode?400:this.animation.collapse.duration,timingFunction:this.animation.collapse.easing,begin:function(t){h.style.overflow="hidden",!i.i(s.isNullOrUndefined)(c)&&c instanceof HTMLElement&&c.classList.add("e-animation-active"),o=i.i(s.select)("."+S,e).offsetHeight,a=h.offsetHeight},progress:function(e){l.animateHeight(e,o,a)},end:function(e){e.element.style.display="none",!i.i(s.isNullOrUndefined)(c)&&c instanceof HTMLElement&&c.classList.remove("e-animation-active"),r.collapsedNode(h,d,t,n)}}):this.collapsedNode(h,d,t,n)},t.prototype.collapsedNode=function(e,t,n,r){t.style.display="none",e.style.overflow="",e.style.height="",i.i(s.removeClass)([n],b),this.removeExpand(e),this.isLoaded&&(r=this.getExpandEvent(e,null),r.isInteracted=this.isInteracted,this.trigger("nodeCollapsed",r))},t.prototype.removeExpand=function(e,t){t?e.removeAttribute("aria-expanded"):this.disableExpandAttr(e);var i=this.expandedNodes.indexOf(e.getAttribute("data-uid"));i>-1&&this.expandedNodes.splice(i,1)},t.prototype.disableExpandAttr=function(e){e.setAttribute("aria-expanded","false"),i.i(s.addClass)([e],"e-node-collapsed")},t.prototype.setHeight=function(e,t){t.style.display="block",t.style.visibility="hidden",e.style.height=e.offsetHeight+"px",t.style.display="none",t.style.visibility=""},t.prototype.animateHeight=function(e,t,i){var s=(e.duration-e.timeStamp)/e.duration,n=(i-t)*s+t;e.element.parentElement.style.height=n+"px"},t.prototype.renderChildNodes=function(e,t,o,a){var l=this,d=i.i(s.select)("div."+C,e);if(!i.i(s.isNullOrUndefined)(d)){this.showSpinner(d);var h;if(this.fields.dataSource instanceof n.DataManager){var c=this.parents(e,"."+v).length,p=this.getChildFields(this.fields,c,1);if(i.i(s.isNullOrUndefined)(p)||i.i(s.isNullOrUndefined)(p.dataSource))return i.i(s.detach)(d),void this.removeExpand(e,!0);this.treeList.push("false"),this.fields.dataSource instanceof n.DataManager&&this.isOffline?(this.treeList.pop(),h=this.getChildNodes(this.treeData,e.getAttribute("data-uid")),this.loadChild(h,p,d,e,t,o,a)):p.dataSource.executeQuery(this.getQuery(p,e.getAttribute("data-uid"))).then(function(i){l.treeList.pop(),h=i.result,1===l.dataType&&(l.dataType=2),l.loadChild(h,p,d,e,t,o,a)}).catch(function(e){l.trigger("actionFailure",{error:e})})}else{if(h=this.getChildNodes(this.treeData,e.getAttribute("data-uid"),!1,parseFloat(e.getAttribute("aria-level"))+1),this.currentLoadData=this.getSortedData(h),i.i(s.isNullOrUndefined)(h)||0===h.length)return i.i(s.detach)(d),void this.removeExpand(e,!0);this.listBaseOption.ariaAttributes.level=parseFloat(e.getAttribute("aria-level"))+1,e.appendChild(r.ListBase.createList(this.createElement,this.currentLoadData,this.listBaseOption)),this.expandNode(e,d,a),this.setSelectionForChildNodes(h),this.ensureCheckNode(e),this.finalizeNode(e),this.disableTreeNodes(h),this.renderSubChild(e,t,a)}}},t.prototype.loadChild=function(e,t,o,a,l,d,h){if(this.currentLoadData=e,i.i(s.isNullOrUndefined)(e)||0===e.length)i.i(s.detach)(o),this.removeExpand(a,!0);else{if(this.updateListProp(t),this.fields.dataSource instanceof n.DataManager&&!this.isOffline){var c=a.getAttribute("data-uid"),p=this.getNodeObject(c);i.i(s.setValue)("child",e,p)}this.listBaseOption.ariaAttributes.level=parseFloat(a.getAttribute("aria-level"))+1,a.appendChild(r.ListBase.createList(this.createElement,e,this.listBaseOption)),this.expandNode(a,o,h),this.setSelectionForChildNodes(e),this.ensureCheckNode(a),this.finalizeNode(a),this.disableTreeNodes(e),this.renderSubChild(a,l,h)}d&&d(),l&&this.expandedNodes.push(a.getAttribute("data-uid")),0!==this.treeList.length||this.isLoaded||this.finalize()},t.prototype.disableTreeNodes=function(e){for(var t=0;t<e.length;){var i=e[t][this.fields.id]?e[t][this.fields.id].toString():null;void 0!==this.disableNode&&-1!==this.disableNode.indexOf(i)&&this.doDisableAction([i]),t++}},t.prototype.setSelectionForChildNodes=function(e){var t;for(t=0;t<e.length;t++){var i=e[t][this.fields.id]?e[t][this.fields.id].toString():null;void 0!==this.selectedNodes&&-1!==this.selectedNodes.indexOf(i)&&this.doSelectionAction()}},t.prototype.ensureCheckNode=function(e){this.showCheckBox&&(this.ele=this.checkedElement?this.checkedElement.indexOf(e.getAttribute("data-uid")):null,this.autoCheck&&(this.ensureChildCheckState(e),this.ensureParentCheckState(e))),this.currentLoadData=null},t.prototype.getFields=function(e,t,i){return t===i?e:this.getFields(this.getChildMapper(e),t,i+1)},t.prototype.getChildFields=function(e,t,i){return t===i?this.getChildMapper(e):this.getChildFields(this.getChildMapper(e),t,i+1)},t.prototype.getChildMapper=function(e){return"string"==typeof e.child||i.i(s.isNullOrUndefined)(e.child)?e:e.child},t.prototype.getChildNodes=function(e,t,n,r){var o=this;void 0===n&&(n=!1);var a;if(i.i(s.isNullOrUndefined)(e))return a;if(1===this.dataType)return this.getChildGroup(this.groupedData,t,n);if("string"==typeof this.fields.child){var l=e.findIndex(function(e){return i.i(s.getValue)(o.fields.id,e)&&i.i(s.getValue)(o.fields.id,e).toString()===t});if(-1!==l)return i.i(s.getValue)(this.fields.child,e[l]);if(-1===l)for(var d=0,h=e.length;d<h;d++){var c=i.i(s.getValue)(this.fields.child,e[d]),p=i.i(s.isNullOrUndefined)(c)?-1:c.findIndex(function(e){return i.i(s.getValue)(o.fields.id,e)&&i.i(s.getValue)(o.fields.id,e).toString()===t});if(-1!==p)return i.i(s.getValue)(this.fields.child,c[p]);if(!i.i(s.isNullOrUndefined)(c)&&void 0!==(a=this.getChildNodes(c,t)))break}}else if(this.isChildObject()){for(var u=i.i(s.isNullOrUndefined)(r)?this.fields.child:this.fields,d=1;d<r&&!i.i(s.isNullOrUndefined)(u.child);)u=u.child,d++;this.updateListProp(u);var l=e.findIndex(function(e){return i.i(s.getValue)(o.fields.id,e)&&i.i(s.getValue)(o.fields.id,e).toString()===t});if(-1!==l)return i.i(s.getValue)("child",e[l]);if(-1===l)for(var f=0,h=e.length;f<h;f++){var c=i.i(s.getValue)("child",e[f]),p=i.i(s.isNullOrUndefined)(c)?-1:c.findIndex(function(e){return i.i(s.getValue)(o.fields.child.id,e)&&i.i(s.getValue)(o.fields.child.id,e).toString()===t});if(-1!==p)return i.i(s.getValue)("child",c[p]);if(!i.i(s.isNullOrUndefined)(c)&&void 0!==(a=this.getChildNodes(c,t,!1,r)))break}}return a},t.prototype.getChildGroup=function(e,t,n){if(!i.i(s.isNullOrUndefined)(e))for(var r=0,o=e.length;r<o;r++){if(i.i(s.isNullOrUndefined)(e[r][0])||i.i(s.isNullOrUndefined)(i.i(s.getValue)(this.fields.parentID,e[r][0])))return n?e[r]:[];if(i.i(s.getValue)(this.fields.parentID,e[r][0]).toString()===t)return e[r]}},t.prototype.renderSubChild=function(e,t,n){if(t)for(var r=i.i(s.selectAll)("."+u,e),o=0,a=r.length;o<a;o++){var l=r[o];if(e.querySelector(".e-icons")!==r[o]){var d=i.i(s.closest)(l,"."+f);this.expandArgs=this.getExpandEvent(d,null),!0!==n&&this.trigger("nodeExpanding",this.expandArgs),this.renderChildNodes(d,t,null,n)}}},t.prototype.toggleSelect=function(e,t,i){e.classList.contains("e-disable")||(this.allowMultiSelection&&(t&&t.ctrlKey||i)&&this.isActive(e)?this.unselectNode(e,t):this.selectNode(e,t,i))},t.prototype.isActive=function(e){return!!e.classList.contains(g)},t.prototype.selectNode=function(e,t,n){var r=this;if(i.i(s.isNullOrUndefined)(e)||!this.allowMultiSelection&&this.isActive(e)&&!i.i(s.isNullOrUndefined)(t))return void this.setFocusElement(e);var o;this.isLoaded?(o=this.getSelectEvent(e,"select",t),this.trigger("nodeSelecting",o,function(i){i.cancel||i.node.classList.contains("e-prevent")||r.nodeSelectAction(e,t,i,n)})):this.nodeSelectAction(e,t,o,n)},t.prototype.nodeSelectAction=function(e,t,n,r){if(this.allowMultiSelection&&(r||t&&(!t||t.ctrlKey||t.metaKey))||this.removeSelectAll(),this.allowMultiSelection&&t&&t.shiftKey){this.startNode||(this.startNode=e);var o=this.liList.indexOf(this.startNode),a=this.liList.indexOf(e);if(o>a){var l=o;o=a,a=l}for(var d=o;d<=a;d++){var h=this.liList[d];i.i(s.isVisible)(h)&&!h.classList.contains("e-disable")&&this.addSelect(h)}}else this.startNode=e,this.addSelect(e);this.isLoaded&&(n.nodeData=this.getNodeData(e),this.trigger("nodeSelected",n),this.isRightClick=!1),this.isRightClick=!1},t.prototype.unselectNode=function(e,t){var i,s=this;this.isLoaded?(i=this.getSelectEvent(e,"un-select",t),this.trigger("nodeSelecting",i,function(t){t.cancel||s.nodeUnselectAction(e,t)})):this.nodeUnselectAction(e,i)},t.prototype.nodeUnselectAction=function(e,t){this.removeSelect(e),this.setFocusElement(e),this.isLoaded&&(t.nodeData=this.getNodeData(e),this.trigger("nodeSelected",t))},t.prototype.setFocusElement=function(e){if(!i.i(s.isNullOrUndefined)(e)){var t=this.getFocusedNode();t&&(i.i(s.removeClass)([t],L),t.setAttribute("tabindex","-1")),i.i(s.addClass)([e],L),e.setAttribute("tabindex","0"),s.EventHandler.add(e,"blur",this.focusOut,this),this.updateIdAttr(t,e)}},t.prototype.addSelect=function(e){e.setAttribute("aria-selected","true"),i.i(s.addClass)([e],g);var t=e.getAttribute("data-uid");i.i(s.isNullOrUndefined)(t)||-1!==this.selectedNodes.indexOf(t)||this.selectedNodes.push(t)},t.prototype.removeSelect=function(e){this.allowMultiSelection?e.setAttribute("aria-selected","false"):e.removeAttribute("aria-selected"),i.i(s.removeClass)([e],g);var t=this.selectedNodes.indexOf(e.getAttribute("data-uid"));t>-1&&this.selectedNodes.splice(t,1)},t.prototype.removeSelectAll=function(){for(var e=this.element.querySelectorAll("."+g),t=0,n=e;t<n.length;t++){var r=n[t];this.allowMultiSelection?r.setAttribute("aria-selected","false"):r.removeAttribute("aria-selected")}i.i(s.removeClass)(e,g),this.setProperties({selectedNodes:[]},!0)},t.prototype.getSelectEvent=function(e,t,n){var r=this.getNodeData(e);return{action:t,cancel:!1,isInteracted:!i.i(s.isNullOrUndefined)(n),node:e,nodeData:r}},t.prototype.setExpandOnType=function(){this.expandOnType="Auto"===this.expandOn?s.Browser.isDevice?"Click":"DblClick":this.expandOn},t.prototype.expandHandler=function(e){var t=e.originalEvent.target;!t||t.classList.contains("e-input")||t.classList.contains(c)||t.classList.contains(v)||t.classList.contains(f)||t.classList.contains(C)||this.showCheckBox&&i.i(s.closest)(t,"."+O)||this.expandCollapseAction(i.i(s.closest)(t,"."+f),e)},t.prototype.expandCollapseAction=function(e,t){var n=i.i(s.select)("div."+C,e);if(n&&!n.classList.contains(b)){var r=n.classList;r.contains(u)?this.expandAction(e,n,t):r.contains(p)&&this.collapseNode(e,n,t)}},t.prototype.expandAction=function(e,t,n,r,o){var a=this;t.classList.contains(b)||(i.i(s.addClass)([t],b),this.isLoaded&&!this.isRefreshed?(this.expandArgs=this.getExpandEvent(e,n),this.isInteracted=this.expandArgs.isInteracted,this.trigger("nodeExpanding",this.expandArgs,function(n){n.cancel?i.i(s.removeClass)([t],b):a.nodeExpandAction(e,t,r,o)})):this.nodeExpandAction(e,t,r,o))},t.prototype.nodeExpandAction=function(e,t,n,r){var o=i.i(s.select)("."+v,e);if(o&&"UL"===o.nodeName)this.expandNode(e,t);else{this.isFirstRender=!0,this.renderChildNodes(e,n,r);for(var a=i.i(s.selectAll)("."+f,e),l=0;l<a.length;l++){var d=this.getId(a[l]);if(-1!==this.expandChildren.indexOf(d)&&void 0!==this.expandChildren){var h=i.i(s.select)("."+u,i.i(s.select)("."+S,a[l]));i.i(s.isNullOrUndefined)(h)||this.expandAction(a[l],h,null),this.expandChildren.splice(this.expandChildren.indexOf(d),1)}}}},t.prototype.keyActionHandler=function(e){var t=this,n=e.target,r=this.getFocusedNode();if(n&&n.classList.contains("e-input")){var o=n;return void("enter"===e.action?o.blur():"escape"===e.action&&(o.value=this.oldText,o.blur()))}e.preventDefault();var a={cancel:!1,event:e,node:r};this.trigger("keyPress",a,function(n){if(!n.cancel)switch(e.action){case"space":t.showCheckBox?t.checkNode(e):t.toggleSelect(r,e);break;case"moveRight":t.openNode(!t.enableRtl,e);break;case"moveLeft":t.openNode(!!t.enableRtl,e);break;case"shiftDown":t.shiftKeySelect(!0,e);break;case"moveDown":case"ctrlDown":case"csDown":t.navigateNode(!0);break;case"shiftUp":t.shiftKeySelect(!1,e);break;case"moveUp":case"ctrlUp":case"csUp":t.navigateNode(!1);break;case"home":case"shiftHome":case"ctrlHome":case"csHome":t.navigateRootNode(!0);break;case"end":case"shiftEnd":case"ctrlEnd":case"csEnd":t.navigateRootNode(!1);break;case"enter":case"ctrlEnter":case"shiftEnter":case"csEnter":case"shiftSpace":case"ctrlSpace":t.toggleSelect(r,e);break;case"f2":t.allowEditing&&!r.classList.contains("e-disable")&&t.createTextbox(r,e);break;case"ctrlA":if(t.allowMultiSelection){var o=i.i(s.selectAll)(".e-list-item:not(.e-active)",t.element);t.selectGivenNodes(o)}}})},t.prototype.navigateToFocus=function(e){var t=this.getFocusedNode().querySelector("."+S),n=t.getBoundingClientRect(),r=this.getScrollParent(this.element);if(!i.i(s.isNullOrUndefined)(r)){var o=r.getBoundingClientRect();n.bottom>o.bottom?r.scrollTop+=n.bottom-o.bottom:n.top<o.top&&(r.scrollTop-=o.top-n.top)}this.isVisibleInViewport(t)||t.scrollIntoView(e)},t.prototype.isVisibleInViewport=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},t.prototype.getScrollParent=function(e){return i.i(s.isNullOrUndefined)(e)?null:e.scrollHeight>e.clientHeight?e:this.getScrollParent(e.parentElement)},t.prototype.shiftKeySelect=function(e,t){if(this.allowMultiSelection){var i=this.getFocusedNode(),s=e?this.getNextNode(i):this.getPrevNode(i);this.removeHover(),this.setFocusElement(s),this.toggleSelect(s,t,!1),this.navigateToFocus(!e)}else this.navigateNode(e)},t.prototype.checkNode=function(e){var t=this.getFocusedNode(),n=i.i(s.select)("."+O,t),r=i.i(s.select)(" .e-frame",n).classList.contains(w);t.classList.contains("e-disable")||0==t.getElementsByClassName("e-checkbox-disabled").length&&this.validateCheckNode(n,r,t,e)},t.prototype.validateCheckNode=function(e,t,n,r){var o=this,a=i.i(s.closest)(e,"."+f);this.checkActionNodes=[];var l=t?"false":"true";i.i(s.isNullOrUndefined)(l)||a.setAttribute("aria-checked",l);var d=this.getCheckEvent(a,t?"uncheck":"check",r);this.trigger("nodeChecking",d,function(i){i.cancel||o.nodeCheckingAction(e,t,n,i,r)})},t.prototype.nodeCheckingAction=function(e,t,n,r,o){if(-1===this.checkedElement.indexOf(n.getAttribute("data-uid"))&&(this.checkedElement.push(n.getAttribute("data-uid")),this.autoCheck)){var a=this.getChildNodes(this.treeData,n.getAttribute("data-uid"));null!==a?this.allCheckNode(a,this.checkedElement,null,null,!1):a=null}if(this.changeState(e,t?"uncheck":"check",o,!0),this.autoCheck){this.ensureChildCheckState(n),this.ensureParentCheckState(i.i(s.closest)(i.i(s.closest)(n,"."+v),"."+f));var l=void 0;"check"===r.action?l=!0:"uncheck"===r.action&&(l=!1),this.ensureStateChange(n,l)}this.nodeCheckedEvent(e,t,o)},t.prototype.ensureStateChange=function(e,t){var r=i.i(s.select)("."+v,e),o=e.getAttribute("data-uid"),a=this.fields;if(1===this.dataType&&this.autoCheck)for(var l=new n.DataManager(this.treeData).executeLocal((new n.Query).where(a.parentID,"equal",o,!0)),d=0;d<l.length;d++){var h=l[d][this.fields.id]?l[d][this.fields.id].toString():null,c=l[d][this.fields.isChecked]?l[d][this.fields.isChecked].toString():null;if(-1!==this.checkedNodes.indexOf(o)&&-1===this.checkedNodes.indexOf(h)){this.checkedNodes.push(h);var p=this.getChildNodes(this.treeData,h);this.getChildItems(p,t),-1!==this.parentNodeCheck.indexOf(h)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(h),1)}else if(-1===this.checkedNodes.indexOf(o)&&null===r&&-1!==this.checkedNodes.indexOf(h)){if(this.checkedNodes.splice(this.checkedNodes.indexOf(h),1),"true"===c&&this.updateField(this.treeData,this.fields,h,"isChecked",null),-1===this.checkedNodes.indexOf(o)&&null===r||-1!==this.parentNodeCheck.indexOf(h)){var u=this.getChildNodes(this.treeData,h);this.getChildItems(u,t),-1!==this.parentNodeCheck.indexOf(h)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(h),1)}}else{var p=this.getChildNodes(this.treeData,h);this.getChildItems(p,t)}}else if(1!==this.dataType||this.autoCheck){var p=this.getChildNodes(this.treeData,o);p&&this.childStateChange(p,o,r,t)}else if(t)for(var d=0;d<this.treeData.length;d++){var f=this.treeData[d][this.fields.id]?this.treeData[d][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(f)&&this.checkedNodes.push(f)}else{for(var m=new n.DataManager(this.treeData).executeLocal((new n.Query).where(a.isChecked,"equal",!0,!1)),d=0;d<m.length;d++){var g=m[d][this.fields.id]?m[d][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(g)&&this.checkedNodes.splice(this.checkedNodes.indexOf(g),1),this.updateField(this.treeData,this.fields,g,"isChecked",null)}this.checkedNodes=[]}},t.prototype.getChildItems=function(e,t){for(var i=0;i<e.length;i++){var s=e[i][this.fields.id]?e[i][this.fields.id].toString():null,n=e[i][this.fields.isChecked]?e[i][this.fields.isChecked].toString():null;-1===this.checkedNodes.indexOf(s)||t||this.checkedNodes.splice(this.checkedNodes.indexOf(s),1),-1===this.checkedNodes.indexOf(s)&&t&&this.checkedNodes.push(s),"true"!==n||t||this.updateField(this.treeData,this.fields,s,"isChecked",null);var r=this.getChildNodes(this.treeData,s);r.length>0&&this.getChildItems(r,t)}},t.prototype.childStateChange=function(e,t,i,s){for(var n=0;n<e.length;n++){var r=e[n][this.fields.id]?e[n][this.fields.id].toString():"",o=e[n][this.fields.isChecked]?e[n][this.fields.isChecked].toString():null;this.autoCheck?-1!==this.checkedNodes.indexOf(t)&&-1===this.checkedNodes.indexOf(r)?(this.checkedNodes.push(r),-1!==this.parentNodeCheck.indexOf(r)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(r),1)):-1!==this.checkedNodes.indexOf(t)||-1===this.checkedNodes.indexOf(r)||s||(this.checkedNodes.splice(this.checkedNodes.indexOf(r),1),"true"===o&&this.updateField(this.treeData,this.fields,r,"isChecked",null)):this.autoCheck||(s?-1===this.checkedNodes.indexOf(r)&&this.checkedNodes.push(r):(-1!==this.checkedNodes.indexOf(r)&&this.checkedNodes.splice(this.checkedNodes.indexOf(r),1),this.updateField(this.treeData,this.fields,r,"isChecked",null),this.checkedNodes=[]));var a=this.getChildNodes([e[n]],r);a&&this.childStateChange(a,t,i,s)}},t.prototype.allCheckNode=function(e,t,n,r,o){if(e)for(var a=0;a<e.length;a++){var l=i.i(s.getValue)(this.fields.id,e[a]),d=this.element.querySelector('[data-uid="'+l+'"]');!1!==o&&-1===this.checkedElement.indexOf(l.toString())&&(null===d&&!i.i(s.isNullOrUndefined)(e[a][this.fields.isChecked])&&-1===t.indexOf(l.toString())||0===r||2===n)&&(!1!==e[a][this.fields.isChecked]||2===n?t.push(l.toString()):r=null,r=!1!==e[a][this.fields.isChecked]||2===n?0:null),-1===t.indexOf(l.toString())&&i.i(s.isNullOrUndefined)(n)&&t.push(l.toString());var h=i.i(s.getValue)(this.fields.child.toString(),e[a]);if(!0===i.i(s.getValue)(this.fields.hasChildren,e[a])||h){var c=i.i(s.getValue)(this.fields.id,e[a]),p=void 0;p=1===this.dataType?this.getChildNodes(this.treeData,c.toString()):h,p&&(i.i(s.isNullOrUndefined)(o)?this.allCheckNode(p,t,n,r):this.allCheckNode(p,t,n,r,o),r=null)}r=null}},t.prototype.openNode=function(e,t){var n=this.getFocusedNode(),r=i.i(s.select)("div."+C,n);if(e){if(!r)return;r.classList.contains(u)?this.expandAction(n,r,t):this.focusNextNode(n,!0)}else if(r&&r.classList.contains(p))this.collapseNode(n,r,t);else{var o=i.i(s.closest)(i.i(s.closest)(n,"."+v),"."+f);if(!o)return;o.classList.contains("e-disable")||(this.setFocus(n,o),this.navigateToFocus(!0))}},t.prototype.navigateNode=function(e){var t=this.getFocusedNode();this.focusNextNode(t,e)},t.prototype.navigateRootNode=function(e){var t=this.getFocusedNode(),i=e?this.getRootNode():this.getEndNode();i.classList.contains("e-disable")||(this.setFocus(t,i),this.navigateToFocus(e))},t.prototype.getFocusedNode=function(){var e,t=i.i(s.select)('.e-list-item[tabindex="0"]',this.element);return i.i(s.isNullOrUndefined)(t)&&(e=i.i(s.select)("."+f,this.element)),i.i(s.isNullOrUndefined)(t)?i.i(s.isNullOrUndefined)(e)?this.element.firstElementChild:e:t},t.prototype.focusNextNode=function(e,t){var i=t?this.getNextNode(e):this.getPrevNode(e);if(this.setFocus(e,i),this.navigateToFocus(!t),i.classList.contains("e-disable")){var s=i.lastChild;null==i.previousSibling&&i.classList.contains("e-level-1")?this.focusNextNode(i,!0):null==i.nextSibling&&i.classList.contains("e-node-collapsed")?this.focusNextNode(i,!1):null==i.nextSibling&&s.classList.contains(S)?this.focusNextNode(i,!1):this.focusNextNode(i,t)}},t.prototype.getNextNode=function(e){var t,n=this.liList.indexOf(e);do{if(n++,t=this.liList[n],i.i(s.isNullOrUndefined)(t))return e}while(!i.i(s.isVisible)(t));return t},t.prototype.getPrevNode=function(e){var t,n=this.liList.indexOf(e);do{if(n--,t=this.liList[n],i.i(s.isNullOrUndefined)(t))return e}while(!i.i(s.isVisible)(t));return t},t.prototype.getRootNode=function(){var e,t=0;do{e=this.liList[t],t++}while(!i.i(s.isVisible)(e));return e},t.prototype.getEndNode=function(){var e,t=this.liList.length-1;do{e=this.liList[t],t--}while(!i.i(s.isVisible)(e));return e},t.prototype.setFocus=function(e,t){i.i(s.removeClass)([e],L),e.setAttribute("tabindex","-1"),t.classList.contains("e-disable")||t.classList.contains("e-prevent")||(i.i(s.addClass)([t],L),t.setAttribute("tabindex","0"),t.focus(),s.EventHandler.add(t,"blur",this.focusOut,this),this.updateIdAttr(e,t))},t.prototype.updateIdAttr=function(e,t){this.element.removeAttribute("aria-activedescendant"),e&&e.removeAttribute("id"),t.setAttribute("id",this.element.id+"_active"),this.element.setAttribute("aria-activedescendant",this.element.id+"_active")},t.prototype.focusIn=function(){if(!this.mouseDownStatus){var e=this.getFocusedNode();e.setAttribute("tabindex","0"),i.i(s.addClass)([e],L),s.EventHandler.add(e,"blur",this.focusOut,this)}this.mouseDownStatus=!1},t.prototype.focusOut=function(e){var t=this.getFocusedNode();e.target==t&&(i.i(s.removeClass)([t],L),s.EventHandler.remove(t,"blur",this.focusOut))},t.prototype.onMouseOver=function(e){var t=e.target,n=t.classList,r=i.i(s.closest)(t,"."+f);if(!r||n.contains(v)||n.contains(f))return void this.removeHover();r&&!r.classList.contains("e-disable")&&this.setHover(r)},t.prototype.setHover=function(e){e.classList.contains("e-hover")||e.classList.contains("e-prevent")||(this.removeHover(),i.i(s.addClass)([e],"e-hover"))},t.prototype.onMouseLeave=function(e){this.removeHover()},t.prototype.removeHover=function(){var e=i.i(s.selectAll)(".e-hover",this.element);e&&e.length&&i.i(s.removeClass)(e,"e-hover")},t.prototype.getNodeData=function(e,t){if(!i.i(s.isNullOrUndefined)(e)&&e.classList.contains(f)&&!i.i(s.isNullOrUndefined)(i.i(s.closest)(e,".e-control"))&&i.i(s.closest)(e,".e-control").classList.contains(c)){var n=e.getAttribute("data-uid"),r=this.getText(e,t),o=i.i(s.closest)(e.parentNode,"."+f),a=o?o.getAttribute("data-uid"):null,l=e.classList.contains(g),d=!e.classList.contains("e-prevent"),h="true"===e.getAttribute("aria-expanded"),m=null!==e.getAttribute("aria-expanded")||null!=(i.i(s.select)("."+u,e)||i.i(s.select)("."+p,e)),v=null,y=i.i(s.select)("."+O,e);return this.showCheckBox&&y&&(v=e.getAttribute("aria-checked")),{id:n,text:r,parentID:a,selected:l,selectable:d,expanded:h,isChecked:v,hasChildren:m}}return{id:"",text:"",parentID:"",selected:!1,expanded:!1,isChecked:"",hasChildren:!1}},t.prototype.getText=function(e,t){if(t){var n=this.getNodeObject(e.getAttribute("data-uid")),r=parseFloat(e.getAttribute("aria-level")),o=this.getFields(this.fields,r,1);return i.i(s.getValue)(o.text,n)}return i.i(s.select)("."+m,e).textContent},t.prototype.getExpandEvent=function(e,t){var n=this.getNodeData(e);return{cancel:!1,isInteracted:!i.i(s.isNullOrUndefined)(t),node:e,nodeData:n,event:t}},t.prototype.renderNodeTemplate=function(e,t,n){var r=this.nodeTemplateFn(e,this,"nodeTemplate"+n,this.element.id+"nodeTemplate",this.isStringTemplate,void 0,t,this.root);r&&(r=Array.prototype.slice.call(r),i.i(s.append)(r,t))},t.prototype.destroyTemplate=function(e){this.clearTemplate(["nodeTemplate"+e.getAttribute("data-uid")])},t.prototype.reRenderNodes=function(){this.updateListProp(this.fields),s.Browser.isIE?(this.ulElement=this.element.querySelector(".e-list-parent.e-ul"),this.ulElement.parentElement.removeChild(this.ulElement)):this.element.innerHTML="",i.i(s.isNullOrUndefined)(this.nodeTemplateFn)||this.clearTemplate(),this.setTouchClass(),this.setProperties({selectedNodes:[],checkedNodes:[],expandedNodes:[]},!0),this.checkedElement=[],this.isLoaded=!1,this.setDataBinding(!0)},t.prototype.setCssClass=function(e,t){i.i(s.isNullOrUndefined)(e)||""===e||i.i(s.removeClass)([this.element],e.split(" ")),i.i(s.isNullOrUndefined)(t)||""===t||i.i(s.addClass)([this.element],t.split(" "))},t.prototype.editingHandler=function(e){var t=e.target;if(!(!t||t.classList.contains(c)||t.classList.contains(v)||t.classList.contains(f)||t.classList.contains(C)||t.classList.contains("e-input")||t.classList.contains("e-input-group"))){var n=i.i(s.closest)(t,"."+f);this.createTextbox(n,e)}},t.prototype.createTextbox=function(e,t){var n=this,r=i.i(s.select)(".e-tree-input",this.element);r&&r.blur();var o=i.i(s.select)("."+m,e);this.updateOldText(e);var a=this.createElement("input",{className:"e-tree-input",attrs:{value:this.oldText}}),l=this.getEditEvent(e,null,a.outerHTML);this.trigger("nodeEditing",l,function(t){if(!t.cancel){var r=o.offsetWidth+5,a="width:"+r+"px";i.i(s.addClass)([e],"e-editing"),i.i(s.isNullOrUndefined)(n.nodeTemplateFn)||n.destroyTemplate(e),n.isReact?setTimeout(function(){n.renderTextBox(l,o,a)},5):n.renderTextBox(l,o,a)}})},t.prototype.renderTextBox=function(e,t,n){t.innerHTML=e.innerHtml;var r=i.i(s.select)(".e-tree-input",t);this.inputObj=a.Input.createInput({element:r,properties:{enableRtl:this.enableRtl}},this.createElement),this.inputObj.container.setAttribute("style",n),r.focus();var o=r;o.setSelectionRange(0,o.value.length),this.wireInputEvents(r)},t.prototype.updateOldText=function(e){var t=e.getAttribute("data-uid");this.editData=this.getNodeObject(t);var n=parseFloat(e.getAttribute("aria-level"));this.editFields=this.getFields(this.fields,n,1),this.oldText=i.i(s.getValue)(this.editFields.text,this.editData)},t.prototype.inputFocusOut=function(e){if(i.i(s.select)(".e-tree-input",this.element)){var t=e.target,r=t.value,o=i.i(s.closest)(t,"."+m),a=i.i(s.closest)(t,"."+f);i.i(s.detach)(this.inputObj.container),this.fields.dataSource instanceof n.DataManager&&!this.isOffline?this.crudOperation("update",null,a,r,null,null,!0):this.appendNewText(a,o,r,!0)}},t.prototype.appendNewText=function(e,t,i,s){var n=this,r=this.getEditEvent(e,i,null);this.trigger("nodeEdited",r,function(r){i=r.cancel?r.oldText:r.newText,n.updateText(e,t,i,s),r.oldText!==i&&n.triggerEvent("nodeEdited",[n.getNode(e)])})},t.prototype.updateText=function(e,t,n,r){var o=i.i(s.setValue)(this.editFields.text,n,this.editData);if(i.i(s.isNullOrUndefined)(this.nodeTemplateFn))this.enableHtmlSanitizer?t.innerText=s.SanitizeHtmlHelper.sanitize(n):t.innerHTML=n;else{t.innerText="";var a=e.getAttribute("data-uid");this.renderNodeTemplate(o,t,a),this.renderReactTemplates()}r&&(i.i(s.removeClass)([e],"e-editing"),e.focus(),s.EventHandler.add(e,"blur",this.focusOut,this),i.i(s.addClass)([e],L)),this.allowTextWrap&&this.calculateWrap(e)},t.prototype.getElement=function(e){return i.i(s.isNullOrUndefined)(e)?null:"string"==typeof e?this.element.querySelector('[data-uid="'+e+'"]'):"object"==typeof e?i.i(s.getElement)(e):null},t.prototype.getId=function(e){return i.i(s.isNullOrUndefined)(e)?null:"string"==typeof e?e:"object"==typeof e?i.i(s.getElement)(e).getAttribute("data-uid"):null},t.prototype.getEditEvent=function(e,t,i){return{cancel:!1,newText:t,node:e,nodeData:this.getNodeData(e),oldText:this.oldText,innerHtml:i}},t.prototype.getNodeObject=function(e){if(!i.i(s.isNullOrUndefined)(e)){if(1!==this.dataType)return this.getChildNodeObject(this.treeData,this.fields,e);for(var t=0,n=this.treeData.length;t<n;t++){var r=i.i(s.getValue)(this.fields.id,this.treeData[t]);if(!i.i(s.isNullOrUndefined)(this.treeData[t])&&!i.i(s.isNullOrUndefined)(r)&&r.toString()===e)return this.treeData[t]}}},t.prototype.getChildNodeObject=function(e,t,r){var o;if(i.i(s.isNullOrUndefined)(e))return o;for(var a=0,l=e.length;a<l;a++){var d=i.i(s.getValue)(t.id,e[a]);if(e[a]&&d&&d.toString()===r)return e[a];if("string"!=typeof t.child||i.i(s.isNullOrUndefined)(i.i(s.getValue)(t.child,e[a]))){if(this.fields.dataSource instanceof n.DataManager&&!i.i(s.isNullOrUndefined)(i.i(s.getValue)("child",e[a]))){if(void 0!==(o=this.getChildNodeObject(i.i(s.getValue)("child",e[a]),this.getChildMapper(t),r)))break}else if(this.isChildObject()){var h=i.i(s.getValue)("child",e[a]);if(void 0!==(o=this.getChildNodeObject(h,this.getChildMapper(t),r)))break}}else{var h=i.i(s.getValue)(t.child,e[a]);if(void 0!==(o=this.getChildNodeObject(h,this.getChildMapper(t),r)))break}}return o},t.prototype.setDragAndDrop=function(e){e&&!this.disabled?this.initializeDrag():this.destroyDrag()},t.prototype.initializeDrag=function(){var e,t=this,n=this;this.dragObj=new s.Draggable(this.element,{enableTailMode:!0,enableAutoScroll:!0,dragArea:this.dragArea,dragTarget:"."+S,enableTapHold:!0,tapHoldThreshold:100,helper:function(r){t.dragTarget=r.sender.target;var o=i.i(s.closest)(t.dragTarget,"."+c),a=i.i(s.closest)(t.dragTarget,"."+S);if(t.dragLi=i.i(s.closest)(t.dragTarget,"."+f),t.fullRowSelect&&!a&&t.dragTarget.classList.contains(E)&&(a=t.dragTarget.nextElementSibling),!t.dragTarget||!r.element.isSameNode(o)||!a||t.dragTarget.classList.contains(c)||t.dragTarget.classList.contains(v)||t.dragTarget.classList.contains(f)||t.dragLi.classList.contains("e-disable"))return!1;var l=a.cloneNode(!0);if(i.i(s.isNullOrUndefined)(i.i(s.select)("div."+C,l))){var d=n.createElement("div",{className:C+" "+u});l.insertBefore(d,l.children[0])}var h="e-drag-item "+c+" "+t.cssClass+" "+(t.enableRtl?"e-rtl":"");e=n.createElement("div",{className:h}),e.appendChild(l);var p=t.selectedNodes.length;if(p>1&&t.allowMultiSelection&&t.dragLi.classList.contains(g)){var m=n.createElement("span",{className:"e-drop-count",innerHTML:""+p});e.appendChild(m)}return document.body.appendChild(e),document.body.style.cursor="",t.dragData=t.getNodeData(t.dragLi),e},dragStart:function(n){i.i(s.addClass)([t.element],"e-dragging");var r,o=i.i(s.closest)(n.target,".e-list-item");o&&(r=parseInt(o.getAttribute("aria-level"),10));var a=t.getDragEvent(n.event,t,null,n.target,null,e,r);a.draggedNode.classList.contains("e-editing")?(t.dragObj.intDestroy(n.event),t.dragCancelAction(e)):t.trigger("nodeDragStart",a,function(i){i.cancel?(t.dragObj.intDestroy(n.event),t.dragCancelAction(e)):t.dragStartAction=!0})},drag:function(n){t.dragObj.setProperties({cursorAt:{top:!i.i(s.isNullOrUndefined)(n.event.targetTouches)||s.Browser.isDevice?60:-20}}),t.dragAction(n,e)},dragStop:function(e){i.i(s.removeClass)([t.element],"e-dragging"),t.removeVirtualEle();var n=e.target,r=i.i(s.closest)(n,".e-droppable"),o=!0;n&&r||(i.i(s.detach)(e.helper),document.body.style.cursor="",o=!1);var a,l=i.i(s.closest)(n,".e-list-item");l&&(a=parseInt(l.getAttribute("aria-level"),10));var d=t.getDragEvent(e.event,t,n,n,null,e.helper,a);d.preventTargetExpand=!1,t.trigger("nodeDragStop",d,function(n){t.dragParent=n.draggedParentNode,t.preventExpand=n.preventTargetExpand,n.cancel&&(e.helper.parentNode&&i.i(s.detach)(e.helper),document.body.style.cursor="",o=!1),t.dragStartAction=!1})}}),this.dropObj=new s.Droppable(this.element,{out:function(e){!i.i(s.isNullOrUndefined)(e)&&!e.target.classList.contains("e-sibling")&&t.dropObj.dragData.default&&t.dropObj.dragData.default.helper.classList.contains(c)&&(document.body.style.cursor="not-allowed")},over:function(e){document.body.style.cursor=""},drop:function(e){t.dropAction(e)}})},t.prototype.dragCancelAction=function(e){i.i(s.detach)(e),i.i(s.removeClass)([this.element],"e-dragging"),this.dragStartAction=!1},t.prototype.dragAction=function(e,t){var n=i.i(s.closest)(e.target,".e-droppable"),r=i.i(s.closest)(e.target,"."+S),o=i.i(s.select)("div."+C,t);i.i(s.removeClass)([o],[x,I,"e-drop-out","e-no-drop"]),this.removeVirtualEle(),document.body.style.cursor="";var a=e.target.classList;if(this.fullRowSelect&&!r&&!i.i(s.isNullOrUndefined)(a)&&a.contains(E)&&(r=e.target.nextElementSibling),n){var l=i.i(s.closest)(e.target,"."+f),d=i.i(s.closest)(e.target,"."+O),h=i.i(s.closest)(e.target,"."+p),m=i.i(s.closest)(e.target,"."+u);if(!n.classList.contains(c)||r&&!l.isSameNode(this.dragLi)&&!this.isDescendant(this.dragLi,l))if(this.hasTemplate&&l){var v=i.i(s.select)(this.fullRowSelect?"."+E:"."+S,l);if(e&&!m&&!h&&e.event.offsetY<7&&!d||m&&e.event.offsetY<5||h&&e.event.offsetX<3){var g=this.fullRowSelect?1:0;this.appendIndicator(l,o,g)}else if(e&&!m&&!h&&!d&&v&&e.event.offsetY>v.offsetHeight-10||m&&e.event.offsetY>19||h&&e.event.offsetX>19){var g=this.fullRowSelect?2:1;this.appendIndicator(l,o,g)}else i.i(s.addClass)([o],x)}else if(l&&e&&!m&&!h&&e.event.offsetY<7&&!d||m&&e.event.offsetY<5||h&&e.event.offsetX<3){var g=this.fullRowSelect?1:0;this.appendIndicator(l,o,g)}else if(l&&e&&!m&&!h&&e.target.offsetHeight>0&&e.event.offsetY>e.target.offsetHeight-10&&!d||m&&e.event.offsetY>19||h&&e.event.offsetX>19){var g=this.fullRowSelect?2:1;this.appendIndicator(l,o,g)}else i.i(s.addClass)([o],x);else"LI"!==e.target.nodeName||l.isSameNode(this.dragLi)||this.isDescendant(this.dragLi,l)?e.target.classList.contains("e-sibling")?i.i(s.addClass)([o],I):i.i(s.addClass)([o],"e-drop-out"):(i.i(s.addClass)([o],I),this.renderVirtualEle(e))}else i.i(s.addClass)([o],"e-no-drop"),document.body.style.cursor="not-allowed";var y,b=i.i(s.closest)(e.target,".e-list-item");b&&(y=parseInt(b.getAttribute("aria-level"),10));var N=this.getDragEvent(e.event,this,e.target,e.target,null,t,y);N.dropIndicator&&i.i(s.removeClass)([o],N.dropIndicator),this.trigger("nodeDragging",N),N.dropIndicator&&i.i(s.addClass)([o],N.dropIndicator)},t.prototype.appendIndicator=function(e,t,n){i.i(s.addClass)([t],I);var r=this.createElement("div",{className:"e-sibling"});e.insertBefore(r,e.children[n])},t.prototype.dropAction=function(e){var t,r,o,a=e.event.offsetY,l=e.target,d=!1,h=[],p=[];o=e.dragData.draggable;for(var u=0;u<o.ej2_instances.length;u++)if(o.ej2_instances[u]instanceof P){t=o.ej2_instances[u];break}if(t&&t.dragTarget){var m=t.dragTarget,v=i.i(s.closest)(m,"."+f),y=i.i(s.closest)(l,"."+f);if(p.push(v),null==y&&l.classList.contains(c)&&(y=l.firstElementChild),i.i(s.detach)(e.droppedElement),document.body.style.cursor="",!y||y.isSameNode(v)||this.isDescendant(v,y))return void(this.fields.dataSource instanceof n.DataManager==!1&&(this.preventExpand=!1));if(t.allowMultiSelection&&v.classList.contains(g)){var b=i.i(s.selectAll)("."+g,t.element);if(p=b,e.target.offsetHeight<=33&&a>e.target.offsetHeight-10&&a>6)for(var C=b.length-1;C>=0;C--)y.isSameNode(b[C])||this.isDescendant(b[C],y)||this.appendNode(l,b[C],y,e,t,a);else for(var S=0;S<b.length;S++)y.isSameNode(b[S])||this.isDescendant(b[S],y)||this.appendNode(l,b[S],y,e,t,a)}else this.appendNode(l,v,y,e,t,a);r=parseInt(v.getAttribute("aria-level"),10),d=!0}this.fields.dataSource instanceof n.DataManager==!1&&(this.preventExpand=!1);for(var x=0;x<p.length;x++)h.push(this.getNode(p[x]));this.trigger("nodeDropped",this.getDragEvent(e.event,t,l,e.target,e.dragData.draggedElement,null,r,d)),t.element.id!==this.element.id&&(t.triggerEvent("nodeDropped",h),this.isNodeDropped=!0,this.fields.dataSource=this.treeData),this.triggerEvent("nodeDropped",h)},t.prototype.appendNode=function(e,t,n,r,o,a){var l=i.i(s.closest)(e,"."+O),d=i.i(s.closest)(r.target,"."+p),h=i.i(s.closest)(r.target,"."+u);t.classList.contains("e-disable")||l||!(h&&r.event.offsetY<5||d&&r.event.offsetX<3||h&&r.event.offsetY>19||d&&r.event.offsetX>19||!h&&!d)?this.dropAsChildNode(t,n,o,null,r,a,!0):"LI"===e.nodeName?this.dropAsSiblingNode(t,n,r,o):e.firstElementChild&&e.classList.contains(c)?"UL"===e.firstElementChild.nodeName&&this.dropAsSiblingNode(t,n,r,o):e.classList.contains("e-icon-collapsible")||e.classList.contains("e-icon-expandable")?this.dropAsSiblingNode(t,n,r,o):this.dropAsChildNode(t,n,o,null,r,a),this.showCheckBox&&this.ensureIndeterminate()},t.prototype.dropAsSiblingNode=function(e,t,n,r){var o,a=i.i(s.closest)(t,"."+v),l=i.i(s.closest)(e,"."+v),d=i.i(s.closest)(l,"."+f);if(n.target.offsetHeight>0&&n.event.offsetY>n.target.offsetHeight-2?o=!1:n.event.offsetY<2?o=!0:(n.target.classList.contains("e-icon-expandable")||n.target.classList.contains("e-icon-collapsible"))&&(n.event.offsetY<5||n.event.offsetX<3?o=!0:(n.event.offsetY>15||n.event.offsetX>17)&&(o=!1)),n.target.classList.contains("e-icon-expandable")||n.target.classList.contains("e-icon-collapsible")){var h=n.target.closest("li");a.insertBefore(e,o?h:h.nextElementSibling)}else a.insertBefore(e,o?n.target:n.target.nextElementSibling);this.moveData(e,t,a,o,r),this.updateElement(l,d),this.updateAriaLevel(e),r.element.id===this.element.id?this.updateList():(r.updateInstance(),this.updateInstance())},t.prototype.dropAsChildNode=function(e,t,n,r,o,a,l){var d,h=i.i(s.closest)(e,"."+v),c=i.i(s.closest)(h,"."+f),p=i.i(s.closest)(t,"."+v);if(o&&o.target&&(d=i.i(s.select)(this.fullRowSelect?"."+E:"."+S,t)),o&&a<7&&!l)p.insertBefore(e,t),this.moveData(e,t,p,!0,n);else if(o&&o.target.offsetHeight>0&&a>o.target.offsetHeight-10&&!l&&!this.hasTemplate)p.insertBefore(e,t.nextElementSibling),this.moveData(e,t,p,!1,n);else if(this.hasTemplate&&d&&a>d.offsetHeight-10&&!l)p.insertBefore(e,t.nextElementSibling),this.moveData(e,t,p,!1,n);else{var u=this.expandParent(t),m=u.childNodes[r];u.insertBefore(e,m),this.moveData(e,m,u,!0,n)}this.updateElement(h,c),this.updateAriaLevel(e),n.element.id===this.element.id?this.updateList():(n.updateInstance(),this.updateInstance())},t.prototype.moveData=function(e,t,n,r,o){var a=i.i(s.closest)(n,"."+f),l=this.getId(e),d=o.updateChildField(o.treeData,o.fields,l,null,null,!0),h=this.getId(t),c=this.getDataPos(this.treeData,this.fields,h),p=this.getId(a);if(1===this.dataType){this.updateField(this.treeData,this.fields,p,"hasChildren",!0);var u=i.i(s.isNullOrUndefined)(c)?this.treeData.length:r?c:c+1;if(i.i(s.isNullOrUndefined)(p)&&!this.hasPid)delete d[0][this.fields.parentID];else{var m=this.isNumberTypeId?parseFloat(p):p;i.i(s.setValue)(this.fields.parentID,m,d[0])}if(this.treeData.splice(u,0,d[0]),o.element.id!==this.element.id){var v=o.removeChildNodes(l);u++;for(var g=0,y=v.length;g<y;g++)this.treeData.splice(u,0,v[g]),u++;o.groupedData=o.getGroupedData(o.treeData,o.fields.parentID)}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}else this.addChildData(this.treeData,this.fields,p,d,r?c:c+1)},t.prototype.expandParent=function(e){var t=i.i(s.select)("div."+C,e);t&&t.classList.contains(u)&&!0!==this.preventExpand&&this.expandAction(e,t,null);var n=i.i(s.select)("."+v,e);if(!0===this.preventExpand&&!n&&t&&this.renderChildNodes(e),n=i.i(s.select)("."+v,e),i.i(s.isNullOrUndefined)(n)||!0!==this.preventExpand||(n.style.display="none"),i.i(s.isNullOrUndefined)(n)||!1!==this.preventExpand||(n.style.display="block"),i.i(s.isNullOrUndefined)(n)&&!0===this.preventExpand){i.i(s.isNullOrUndefined)(t)&&r.ListBase.generateIcon(this.createElement,e,u,this.listBaseOption);var o=i.i(s.select)("div."+C,e);o&&o.classList.add("e-icon-expandable"),n=r.ListBase.generateUL(this.createElement,[],null,this.listBaseOption),e.appendChild(n),o?i.i(s.removeClass)([o],p):r.ListBase.generateIcon(this.createElement,e,u,this.listBaseOption),e.setAttribute("aria-expanded","false"),n.style.display="none"}if(i.i(s.isNullOrUndefined)(n)){var a=this.expandArgs;(i.i(s.isNullOrUndefined)(a)||"nodeExpanding"!=a.name)&&this.trigger("nodeExpanding",this.getExpandEvent(e,null)),i.i(s.isNullOrUndefined)(t)&&r.ListBase.generateIcon(this.createElement,e,p,this.listBaseOption);var o=i.i(s.select)("div."+C,e);o?i.i(s.removeClass)([o],u):(r.ListBase.generateIcon(this.createElement,e,p,this.listBaseOption),o=i.i(s.select)("div."+C,e),i.i(s.removeClass)([o],u)),n=r.ListBase.generateUL(this.createElement,[],null,this.listBaseOption),e.appendChild(n),this.addExpand(e),this.trigger("nodeExpanded",this.getExpandEvent(e,null))}return n},t.prototype.updateElement=function(e,t){if(t&&0===e.childElementCount){var n=i.i(s.select)("div."+C,t);i.i(s.detach)(e),i.i(s.detach)(n);var r=this.getId(t);this.updateField(this.treeData,this.fields,r,"hasChildren",!1),this.removeExpand(t,!0)}},t.prototype.updateAriaLevel=function(e){var t=this.parents(e,"."+v).length;e.setAttribute("aria-level",""+t),this.updateChildAriaLevel(i.i(s.select)("."+v,e),t+1)},t.prototype.updateChildAriaLevel=function(e,t){if(!i.i(s.isNullOrUndefined)(e))for(var n=e.childNodes,r=0,o=n.length;r<o;r++){var a=n[r];a.setAttribute("aria-level",""+t),this.updateChildAriaLevel(i.i(s.select)("."+v,a),t+1)}},t.prototype.renderVirtualEle=function(e){var t;e.event.offsetY>e.target.offsetHeight-2?t=!1:e.event.offsetY<2&&(t=!0);var i=this.createElement("div",{className:"e-sibling"}),s=this.fullRowSelect?t?1:2:t?0:1;e.target.insertBefore(i,e.target.children[s])},t.prototype.removeVirtualEle=function(){var e=i.i(s.select)(".e-sibling");e&&i.i(s.detach)(e)},t.prototype.destroyDrag=function(){this.dragObj&&this.dropObj&&(this.dragObj.destroy(),this.dropObj.destroy())},t.prototype.getDragEvent=function(e,t,r,o,a,l,d,h){var p=r?i.i(s.closest)(r,"."+f):null,u=p?this.getNodeData(p):null,m=t?t.dragLi:a,v=t?t.dragData:null,g=r?this.parents(r,"."+f):null,y=t.dragLi.parentElement,b=t.dragLi?i.i(s.closest)(y,"."+f):null,S=null,E=null,N=[I,x,"e-drop-out","e-no-drop"],w=null,O=!0===h?m:p,L=O?i.i(s.closest)(O,".e-list-parent"):null,k=0,A=null;if(b=t.dragLi&&null===b?i.i(s.closest)(y,"."+c):b,b=!0===h?this.dragParent:b,l)for(;k<4;){if(i.i(s.select)("."+C,l).classList.contains(N[k])){w=N[k];break}k++}if(L){var P=0;for(k=0;k<L.childElementCount;k++){if(P=!0!==h&&L.children[k]===m&&p!==m?++P:P,!0!==h&&L.children[k].classList.contains("e-hover")){E=e.offsetY>=23?k+1:k;break}if(L.children[k]===O){e.offsetY,E=k;break}}E=0!==P?--E:E,A="e-drop-in"==w?"Inside":e.offsetY<7?"Before":"After"}if(r&&(S=0===g.length?null:r.classList.contains(f)?g[0]:g[1]),p===m&&(S=p),r&&o.offsetHeight<=33&&e.offsetY<o.offsetHeight-10&&e.offsetY>6&&(S=p,!0!==h)){d=++d;var T=S?i.i(s.select)(".e-list-parent",S):null;if(E=T?T.children.length:0,!(this.fields.dataSource instanceof n.DataManager)&&null===T&&S){var D=S.hasAttribute("data-uid")?this.getChildNodes(this.fields.dataSource,S.getAttribute("data-uid").toString()):null;E=D?D.length:0}}return{cancel:!1,clonedNode:l,event:e,draggedNode:m,draggedNodeData:v,droppedNode:p,droppedNodeData:u,dropIndex:E,dropLevel:d,draggedParentNode:b,dropTarget:S,dropIndicator:w,target:o,position:A}},t.prototype.addFullRow=function(e){var t=this.liList.length;if(e)for(var n=0;n<t;n++)this.createFullRow(this.liList[n]);else for(var n=0;n<t;n++){var r=i.i(s.select)("."+E,this.liList[n]);i.i(s.detach)(r)}},t.prototype.createFullRow=function(e){var t=this.createElement("div",{className:E});e.insertBefore(t,e.childNodes[0])},t.prototype.addMultiSelect=function(e){if(e)for(var t=i.i(s.selectAll)('.e-list-item:not([aria-selected="true"])',this.element),n=0,r=t;n<r.length;n++){var o=r[n];o.setAttribute("aria-selected","false")}else for(var t=i.i(s.selectAll)('.e-list-item[aria-selected="false"]',this.element),a=0,l=t;a<l.length;a++){var o=l[a];o.removeAttribute("aria-selected")}},t.prototype.collapseByLevel=function(e,t,n){if(t>0&&!i.i(s.isNullOrUndefined)(e))for(var r=this.getVisibleNodes(n,e.childNodes),o=0,a=r.length;o<a;o++){var l=r[o],d=i.i(s.select)("."+p,i.i(s.select)("."+S,l));i.i(s.isNullOrUndefined)(d)||this.collapseNode(l,d,null),this.collapseByLevel(i.i(s.select)("."+v,l),t-1,n)}},t.prototype.collapseAllNodes=function(e){for(var t=this.getVisibleNodes(e,i.i(s.selectAll)("."+p,this.element)),n=0,r=t.length;n<r;n++){var o=t[n],a=i.i(s.closest)(o,"."+f);this.collapseNode(a,o,null)}},t.prototype.expandByLevel=function(e,t,n){if(t>0&&!i.i(s.isNullOrUndefined)(e))for(var r=this.getVisibleNodes(n,e.childNodes),o=0,a=r.length;o<a;o++){var l=r[o],d=i.i(s.select)("."+u,i.i(s.select)("."+S,l));i.i(s.isNullOrUndefined)(d)||this.expandAction(l,d,null),this.expandByLevel(i.i(s.select)("."+v,l),t-1,n)}},t.prototype.expandAllNodes=function(e){for(var t=this.getVisibleNodes(e,i.i(s.selectAll)("."+u,this.element)),n=0,r=t.length;n<r;n++){var o=t[n],a=i.i(s.closest)(o,"."+f);this.expandAction(a,o,null,!0)}},t.prototype.getVisibleNodes=function(e,t){var n=Array.prototype.slice.call(t);if(e)for(var r=0;r<n.length;r++)i.i(s.isVisible)(n[r])||(n.splice(r,1),r--);return n},t.prototype.removeNode=function(e){var t=i.i(s.closest)(e,"."+v),n=i.i(s.closest)(t,"."+f);i.i(s.isNullOrUndefined)(this.nodeTemplateFn)||this.destroyTemplate(e),i.i(s.detach)(e),this.updateElement(t,n),this.removeData(e)},t.prototype.updateInstance=function(){this.updateList(),this.updateSelectedNodes(),this.updateExpandedNodes()},t.prototype.updateList=function(){this.liList=Array.prototype.slice.call(i.i(s.selectAll)("."+f,this.element))},t.prototype.updateSelectedNodes=function(){this.setProperties({selectedNodes:[]},!0);var e=i.i(s.selectAll)("."+g,this.element);this.selectGivenNodes(e)},t.prototype.updateExpandedNodes=function(){this.setProperties({expandedNodes:[]},!0);for(var e=i.i(s.selectAll)('[aria-expanded="true"]',this.element),t=0,n=e.length;t<n;t++)this.addExpand(e[t])},t.prototype.removeData=function(e){if(1===this.dataType){var t=new n.DataManager(this.treeData),i=this.getId(e),s={},r=this.isNumberTypeId?parseFloat(i):i;s[this.fields.id]=r,t.remove(this.fields.id,s),this.removeChildNodes(i)}else{var i=this.getId(e);this.updateChildField(this.treeData,this.fields,i,null,null,!0)}},t.prototype.removeChildNodes=function(e){var t=this.getChildGroup(this.groupedData,e,!1),r=[];if(t)for(var o=0,a=t.length;o<a;o++){var l=new n.DataManager(this.treeData),d=i.i(s.getValue)(this.fields.id,t[o]).toString(),h={},c=this.isNumberTypeId?parseFloat(d):d;h[this.fields.id]=c;var p=l.remove(this.fields.id,h);r.push(p[0]),this.removeChildNodes(d)}return r},t.prototype.doGivenAction=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var a=this.getElement(e[r]);if(!i.i(s.isNullOrUndefined)(a)){var l=i.i(s.select)("."+t,i.i(s.select)("."+S,a));i.i(s.isNullOrUndefined)(l)||(n?this.expandAction(a,l,null):this.collapseNode(a,l,null))}}},t.prototype.addGivenNodes=function(e,t,n,o,a){if(0!==e.length){var l=this.getSortedData(e),d=t?parseFloat(t.getAttribute("aria-level"))+1:1;o&&this.updateMapper(d);var h,c,p=r.ListBase.createListItemFromJson(this.createElement,l,this.listBaseOption,d),f=this.getId(t);i.i(s.isNullOrUndefined)(t)||(c=i.i(s.select)("div."+C,t)),1===this.dataType&&c&&c.classList.contains(u)&&!i.i(s.isNullOrUndefined)(this.element.offsetParent)&&!this.element.offsetParent.parentElement.classList.contains("e-filemanager")&&(this.preventExpand=!0),1!==this.dataType&&(this.addChildData(this.treeData,this.fields,f,e,n),this.isFirstRender=!1);var m;if(m=a||(t?this.expandParent(t):i.i(s.select)("."+v,this.element)),h=m.childNodes[n],!this.isFirstRender||1===this.dataType){var g=this.expandArgs;if(h||"None"===this.sortOrder){for(var y=0;y<p.length;y++)m.insertBefore(p[y],h);if(1===this.dataType&&!i.i(s.isNullOrUndefined)(t)&&!i.i(s.isNullOrUndefined)(this.element.offsetParent)&&!this.element.offsetParent.parentElement.classList.contains("e-filemanager")){this.preventExpand=!1;var b=i.i(s.select)("div."+C,t);b&&b.classList.contains(u)&&(i.i(s.isNullOrUndefined)(g)||"nodeExpanding"!=g.name)&&this.expandAction(t,b,null)}}if(!h&&("Ascending"===this.sortOrder||"Descending"===this.sortOrder))if(0===m.childNodes.length){for(var y=0;y<p.length;y++)m.insertBefore(p[y],h);if(1===this.dataType&&!i.i(s.isNullOrUndefined)(t)&&!i.i(s.isNullOrUndefined)(this.element.offsetParent)&&!this.element.offsetParent.parentElement.classList.contains("e-filemanager")){this.preventExpand=!1;var b=i.i(s.select)("div."+C,t);b&&b.classList.contains(u)&&(i.i(s.isNullOrUndefined)(g)||"nodeExpanding"!=g.name)&&this.expandAction(t,b,null)}}else for(var S=m.childNodes,y=0;y<p.length;y++)for(var x=0;x<S.length;x++){var I="Ascending"===this.sortOrder?S[x].textContent.toUpperCase()>p[y].innerText.toUpperCase():S[x].textContent.toUpperCase()<p[y].innerText.toUpperCase();if(I){m.insertBefore(p[y],S[x]);break}m.insertBefore(p[y],S[S.length])}}if(1===this.dataType){this.updateField(this.treeData,this.fields,f,"hasChildren",!0);for(var E=this.getId(h),N=i.i(s.isNullOrUndefined)(E)?this.treeData.length:this.getDataPos(this.treeData,this.fields,E),x=0;x<e.length;x++){if(!i.i(s.isNullOrUndefined)(f)){var w=this.isNumberTypeId?parseFloat(f):f;i.i(s.setValue)(this.fields.parentID,w,e[x])}this.treeData.splice(N,0,e[x]),N++}}this.finalizeNode(m)}},t.prototype.updateMapper=function(e){var t=1===e?this.fields:this.getChildFields(this.fields,e-1,1);this.updateListProp(t)},t.prototype.updateListProp=function(e){var t=this.getActualProperties(e);this.listBaseOption.fields=t,this.listBaseOption.fields.url=t.hasOwnProperty("navigateUrl")?t.navigateUrl:"navigateUrl"},t.prototype.getDataPos=function(e,t,r){for(var o=null,a=0,l=e.length;a<l;a++){var d=i.i(s.getValue)(t.id,e[a]);if(e[a]&&d&&d.toString()===r)return a;if("string"!=typeof t.child||i.i(s.isNullOrUndefined)(i.i(s.getValue)(t.child,e[a]))){if(this.fields.dataSource instanceof n.DataManager&&!i.i(s.isNullOrUndefined)(i.i(s.getValue)("child",e[a]))){var h=i.i(s.getValue)("child",e[a]);if(null!==(o=this.getDataPos(h,this.getChildMapper(t),r)))break}}else{var c=i.i(s.getValue)(t.child,e[a]);if(null!==(o=this.getDataPos(c,this.getChildMapper(t),r)))break}}return o},t.prototype.addChildData=function(e,t,r,o,a){var l;if(i.i(s.isNullOrUndefined)(r)){a=i.i(s.isNullOrUndefined)(a)?e.length:a;for(var d=0,h=o.length;d<h;d++)e.splice(a,0,o[d]),a++;return l}for(var c=0,p=e.length;c<p;c++){var u=i.i(s.getValue)(t.id,e[c]);if(e[c]&&u&&u.toString()===r){if("string"==typeof t.child&&e[c].hasOwnProperty(t.child)&&null!==e[c][t.child]||this.fields.dataSource instanceof n.DataManager&&e[c].hasOwnProperty("child")){var f="string"==typeof t.child?t.child:"child",m=i.i(s.getValue)(f,e[c]);i.i(s.isNullOrUndefined)(m)&&(m=[]),a=i.i(s.isNullOrUndefined)(a)?m.length:a;for(var d=0,h=o.length;d<h;d++)m.splice(a,0,o[d]),a++}else{var f="string"==typeof t.child?t.child:"child";e[c][f]=o}return!0}if("string"!=typeof t.child||i.i(s.isNullOrUndefined)(i.i(s.getValue)(t.child,e[c]))){if(this.fields.dataSource instanceof n.DataManager&&!i.i(s.isNullOrUndefined)(i.i(s.getValue)("child",e[c]))){var m=i.i(s.getValue)("child",e[c]);if(void 0!==(l=this.addChildData(m,this.getChildMapper(t),r,o,a)))break}}else{var v=i.i(s.getValue)(t.child,e[c]);if(void 0!==(l=this.addChildData(v,this.getChildMapper(t),r,o,a)))break}}return l},t.prototype.doDisableAction=function(e){var t=this.nodeType(e),n=this.checkValidId(t);this.validArr=[];for(var r=0,o=n.length;r<o;r++){var a=n[r][this.fields.id].toString();a&&-1===this.disableNode.indexOf(a)&&this.disableNode.push(a);var l=this.getElement(a);l&&(l.setAttribute("aria-disabled","true"),i.i(s.addClass)([l],"e-disable"))}},t.prototype.doEnableAction=function(e){for(var t=this.nodeType(e),n=0,r=t.length;n<r;n++){var o=this.getElement(t[n]),a=t[n];a&&-1!==this.disableNode.indexOf(a)&&this.disableNode.splice(this.disableNode.indexOf(a),1),o&&(o.removeAttribute("aria-disabled"),i.i(s.removeClass)([o],"e-disable"))}},t.prototype.nodeType=function(e){for(var t=[],i=0,s=e.length;i<s;i++){var n=void 0;"string"==typeof e[i]?n=e[i]?e[i].toString():null:"object"==typeof e[i]&&(n=e[i]?e[i].getAttribute("data-uid").toString():null),-1==t.indexOf(n)&&t.push(n)}return t},t.prototype.checkValidId=function(e){var t=this;if(1===this.dataType)this.validArr=this.treeData.filter(function(i){return-1!==e.indexOf(i[t.fields.id]?i[t.fields.id].toString():null)});else if(2===this.dataType)for(var n=0;n<this.treeData.length;n++){var r=this.treeData[n][this.fields.id]?this.treeData[n][this.fields.id].toString():null;-1!==e.indexOf(r)&&this.validArr.push(this.treeData[n]);var o=i.i(s.getValue)(this.fields.child.toString(),this.treeData[n]);o&&this.filterNestedChild(o,e)}return this.validArr},t.prototype.filterNestedChild=function(e,t){for(var n=0;n<e.length;n++){var r=e[n][this.fields.id]?e[n][this.fields.id].toString():null;-1!==t.indexOf(r)&&this.validArr.push(e[n]);var o=i.i(s.getValue)(this.fields.child.toString(),e[n]);o&&this.filterNestedChild(o,t)}},t.prototype.setTouchClass=function(){var e=i.i(s.closest)(this.element,".e-bigger");this.touchClass=i.i(s.isNullOrUndefined)(e)?"":"e-small"},t.prototype.updatePersistProp=function(){this.removeField(this.treeData,this.fields,["selected","expanded"]);for(var e=this.selectedNodes,t=0,i=e.length;t<i;t++)this.updateField(this.treeData,this.fields,e[t],"selected",!0);for(var s=this.expandedNodes,n=0,r=s.length;n<r;n++)this.updateField(this.treeData,this.fields,s[n],"expanded",!0);if(this.showCheckBox){this.removeField(this.treeData,this.fields,["isChecked"]);for(var o=this.checkedNodes,a=0,r=o.length;a<r;a++)this.updateField(this.treeData,this.fields,o[a],"isChecked",!0)}},t.prototype.removeField=function(e,t,r){if(!i.i(s.isNullOrUndefined)(e)&&!i.i(s.isNullOrUndefined)(t))for(var o=0,a=e.length;o<a;o++){for(var l=0;l<r.length;l++){var d=this.getMapperProp(t,r[l]);i.i(s.isNullOrUndefined)(e[o][d])||delete e[o][d]}"string"!=typeof t.child||i.i(s.isNullOrUndefined)(i.i(s.getValue)(t.child,e[o]))?this.fields.dataSource instanceof n.DataManager&&!i.i(s.isNullOrUndefined)(i.i(s.getValue)("child",e[o]))&&this.removeField(i.i(s.getValue)("child",e[o]),this.getChildMapper(t),r):this.removeField(i.i(s.getValue)(t.child,e[o]),this.getChildMapper(t),r)}},t.prototype.getMapperProp=function(e,t){switch(t){case"selected":return i.i(s.isNullOrUndefined)(e.selected)?"selected":e.selected;case"expanded":return i.i(s.isNullOrUndefined)(e.expanded)?"expanded":e.expanded;case"isChecked":return i.i(s.isNullOrUndefined)(e.isChecked)?"isChecked":e.isChecked;case"hasChildren":return i.i(s.isNullOrUndefined)(e.hasChildren)?"hasChildren":e.hasChildren;default:return t}},t.prototype.updateField=function(e,t,r,o,a){if(!i.i(s.isNullOrUndefined)(r))if(1===this.dataType){var l=this.isNumberTypeId?parseFloat(r):r,d=new n.DataManager(this.treeData).executeLocal((new n.Query).where(t.id,"equal",l,!1));i.i(s.setValue)(this.getMapperProp(t,o),a,d[0])}else this.updateChildField(e,t,r,o,a)},t.prototype.updateChildField=function(e,t,r,o,a,l){var d;if(i.i(s.isNullOrUndefined)(e))return d;for(var h=0,c=e.length;h<c;h++){var p=i.i(s.getValue)(t.id,e[h]);if(e[h]&&p&&p.toString()===r)return l?d=e.splice(h,1):(i.i(s.setValue)(this.getMapperProp(t,o),a,e[h]),d=[]),d;if("string"!=typeof t.child||i.i(s.isNullOrUndefined)(i.i(s.getValue)(t.child,e[h]))){if(this.fields.dataSource instanceof n.DataManager&&!i.i(s.isNullOrUndefined)(i.i(s.getValue)("child",e[h]))){var u=i.i(s.getValue)("child",e[h]);if(void 0!==(d=this.updateChildField(u,this.getChildMapper(t),r,o,a,l)))break}}else{var f=i.i(s.getValue)(t.child,e[h]);if(void 0!==(d=this.updateChildField(f,this.getChildMapper(t),r,o,a,l)))break}}return d},t.prototype.triggerEvent=function(e,t){if(this.renderReactTemplates(),"addNodes"===e){for(var n=[],r=0;r<t.length;r++)n.push(this.getNode(this.getElement(i.i(s.isNullOrUndefined)(t[r][this.fields.id])?i.i(s.getValue)(this.fields.id,t[r]).toString():null)));t=n}var o={data:this.treeData,action:e,nodeData:t};this.trigger("dataSourceChanged",o)},t.prototype.wireInputEvents=function(e){s.EventHandler.add(e,"blur",this.inputFocusOut,this)},t.prototype.wireEditingEvents=function(e){var t=this;if(e&&!this.disabled){var i=this;this.touchEditObj=new s.Touch(this.element,{tap:function(e){t.isDoubleTapped(e)&&2===e.tapCount&&(e.originalEvent.preventDefault(),i.editingHandler(e.originalEvent))}})}else this.touchEditObj&&this.touchEditObj.destroy()},t.prototype.wireClickEvent=function(e){if(e){var t=this;this.touchClickObj=new s.Touch(this.element,{tap:function(e){t.clickHandler(e)}})}else this.touchClickObj&&this.touchClickObj.destroy()},t.prototype.wireExpandOnEvent=function(e){var t=this;if(e){var i=this;this.touchExpandObj=new s.Touch(this.element,{tap:function(e){("Click"===t.expandOnType||"DblClick"===t.expandOnType&&t.isDoubleTapped(e)&&2===e.tapCount)&&3!==e.originalEvent.which&&i.expandHandler(e)}})}else this.touchExpandObj&&this.touchExpandObj.destroy()},t.prototype.mouseDownHandler=function(e){this.mouseDownStatus=!0,(e.shiftKey||e.ctrlKey)&&e.preventDefault(),e.ctrlKey&&this.allowMultiSelection&&s.EventHandler.add(this.element,"contextmenu",this.preventContextMenu,this)},t.prototype.preventContextMenu=function(e){e.preventDefault()};t.prototype.wireEvents=function(){s.EventHandler.add(this.element,"mousedown",this.mouseDownHandler,this),this.wireClickEvent(!0),"None"!==this.expandOnType&&this.wireExpandOnEvent(!0),s.EventHandler.add(this.element,"mouseover",this.onMouseOver,this),s.EventHandler.add(this.element,"mouseout",this.onMouseLeave,this),this.keyboardModule=new s.KeyboardEvents(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})},t.prototype.unWireEvents=function(){s.EventHandler.remove(this.element,"mousedown",this.mouseDownHandler),this.wireClickEvent(!1),this.wireExpandOnEvent(!1),s.EventHandler.remove(this.element,"mouseover",this.onMouseOver),s.EventHandler.remove(this.element,"mouseout",this.onMouseLeave),this.disabled||this.keyboardModule.destroy()},t.prototype.parents=function(e,t){for(var n=[],r=e.parentNode;!i.i(s.isNullOrUndefined)(r);)i.i(s.matches)(r,t)&&n.push(r),r=r.parentNode;return n},t.prototype.isDoubleTapped=function(e){var t,n=e.originalEvent.target;return n&&e.tapCount&&(1===e.tapCount?this.firstTap=i.i(s.closest)(n,"."+f):2===e.tapCount&&(t=i.i(s.closest)(n,"."+f))),this.firstTap===t},t.prototype.isDescendant=function(e,t){for(var n=t.parentNode;!i.i(s.isNullOrUndefined)(n);){if(n===e)return!0;n=n.parentNode}return!1},t.prototype.showSpinner=function(e){i.i(s.addClass)([e],y),i.i(l.createSpinner)({target:e,width:s.Browser.isDevice?16:14},this.createElement),i.i(l.showSpinner)(e)},t.prototype.hideSpinner=function(e){i.i(l.hideSpinner)(e),e.innerHTML="",i.i(s.removeClass)([e],y)},t.prototype.setCheckedNodes=function(e){e=JSON.parse(JSON.stringify(e)),this.uncheckAll(this.checkedNodes),this.setIndeterminate(e),e.length>0&&this.checkAll(e)},t.prototype.setValidCheckedNode=function(e){if(1===this.dataType){var t=this.fields,r=new n.DataManager(this.treeData).executeLocal((new n.Query).where(t.id,"equal",e,!0));if(r[0]&&(this.setChildCheckState(r,e,r[0]),this.autoCheck)){for(var o=r[0][this.fields.parentID]?r[0][this.fields.parentID].toString():null,a=this.getChildNodes(this.treeData,o),l=0,d=0;d<a.length;d++){var h=a[d][this.fields.id].toString();-1!==this.checkedNodes.indexOf(h)&&l++}l===a.length&&-1===this.checkedNodes.indexOf(o)&&o&&this.checkedNodes.push(o)}}else if(2===this.dataType)for(var c=0;c<this.treeData.length;c++){var p=this.treeData[c][this.fields.id]?this.treeData[c][this.fields.id].toString():"";if(p===e&&-1===this.checkedNodes.indexOf(e)){this.checkedNodes.push(e);break}var u=i.i(s.getValue)(this.fields.child.toString(),this.treeData[c]);u&&this.setChildCheckState(u,e,this.treeData[c])}},t.prototype.setChildCheckState=function(e,t,n){var r,o=0;if(1===this.dataType){n&&(r=n[this.fields.id]?n[this.fields.id].toString():null);for(var a=0;a<e.length;a++){var l=e[a][this.fields.id]?e[a][this.fields.id].toString():null;n&&r&&this.autoCheck&&-1!==this.checkedNodes.indexOf(r)&&-1===this.checkedNodes.indexOf(l)&&this.checkedNodes.push(l),l===t&&-1===this.checkedNodes.indexOf(t)&&this.checkedNodes.push(t);var d=this.getChildNodes(this.treeData,l);d&&this.setChildCheckState(d,t,n)}}else{n&&(r=n[this.fields.id]?n[this.fields.id].toString():"");for(var a=0;a<e.length;a++){var h=e[a][this.fields.id]?e[a][this.fields.id].toString():"";n&&r&&this.autoCheck&&-1!==this.checkedNodes.indexOf(r)&&-1===this.checkedNodes.indexOf(h)&&this.checkedNodes.push(h),h===t&&-1===this.checkedNodes.indexOf(t)&&this.checkedNodes.push(t);var d=i.i(s.getValue)(this.fields.child.toString(),e[a]);d&&this.setChildCheckState(d,t,e[a]),-1!==this.checkedNodes.indexOf(h)&&this.autoCheck&&o++,o===e.length&&-1===this.checkedNodes.indexOf(r)&&this.autoCheck&&this.checkedNodes.push(r)}}},t.prototype.setIndeterminate=function(e){for(var t=0;t<e.length;t++)this.setValidCheckedNode(e[t])},t.prototype.updatePosition=function(e,t,i,s){if(1===this.dataType){var n=this.getDataPos(this.treeData,this.fields,e);if(this.treeData.splice(n,1,t),i){this.removeChildNodes(e);for(var r=0;r<s.length;r++)this.treeData.splice(n,0,s[r]),n++}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}else this.updateChildPosition(this.treeData,this.fields,e,[t],void 0)},t.prototype.updateChildPosition=function(e,t,r,o,a){for(var l,d=0,h=e.length;d<h;d++){var c=i.i(s.getValue)(t.id,e[d]);if(e[d]&&c&&c.toString()===r)return e[d]=o[0],!0;if("string"!=typeof t.child||i.i(s.isNullOrUndefined)(i.i(s.getValue)(t.child,e[d]))){if(this.fields.dataSource instanceof n.DataManager&&!i.i(s.isNullOrUndefined)(i.i(s.getValue)("child",e[d]))){var p=i.i(s.getValue)("child",e[d]);if(void 0!==(l=this.updateChildPosition(p,this.getChildMapper(t),r,o,a)))break}}else{var u=i.i(s.getValue)(t.child,e[d]);if(void 0!==(l=this.updateChildPosition(u,this.getChildMapper(t),r,o,a)))break}}return l},t.prototype.dynamicState=function(){this.setDragAndDrop(this.allowDragAndDrop),this.wireEditingEvents(this.allowEditing),this.disabled?(this.unWireEvents(),this.rippleFn(),this.rippleIconFn()):(this.wireEvents(),this.setRipple())},t.prototype.crudOperation=function(e,t,n,r,o,a,l){var d,h=this,c=this.fields.dataSource,p=[],u=this.getQuery(this.fields),f=this.fields.id,m={addedRecords:[],deletedRecords:[],changedRecords:[]},v=[];t?v=this.nodeType(t):n&&("string"==typeof n?v[0]=n.toString():"object"==typeof n&&(v[0]=n.getAttribute("data-uid").toString()));for(var g=0,y=v.length;g<y;g++){var b=this.getElement(v[g]);if(!i.i(s.isNullOrUndefined)(b)){var C=this.getNodeObject(v[g]);p.push(C)}}switch(e){case"delete":1==t.length?d=c.remove(f,p[0],u.fromTable,u):(m.deletedRecords=p,d=c.saveChanges(m,f,u.fromTable,u)),d.then(function(e){return h.deleteSuccess(v)}).catch(function(e){return h.dmFailure(e)});break;case"update":p[0][this.fields.text]=r,d=c.update(f,p[0],u.fromTable,u),d.then(function(e){return h.editSucess(n,r,l)}).catch(function(e){return h.dmFailure(e,n,l)});break;case"insert":if(1==o.length)d=c.insert(o[0],u.fromTable,u);else{for(var S=[],g=0,y=o.length;g<y;g++)S.push(o[g]);m.addedRecords=S,d=c.saveChanges(m,f,u.fromTable,u)}d.then(function(e){var t=h.getElement(n);h.addSuccess(o,t,a),h.preventExpand=!1}).catch(function(e){return h.dmFailure(e)})}},t.prototype.deleteSuccess=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=this.getElement(e[n]);t.push(this.getNode(o)),i.i(s.isNullOrUndefined)(o)||this.removeNode(o)}this.updateInstance(),1===this.dataType&&(this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)),this.triggerEvent("removeNode",t)},t.prototype.editSucess=function(e,t,n){var r=this.getElement(e),o=i.i(s.select)("."+m,r);this.appendNewText(r,o,t,n)},t.prototype.addSuccess=function(e,t,i){var s,n=t?t.querySelector("."+C):null,r=this;t&&n&&n.classList.contains(u)&&null===t.querySelector("."+v)?r.renderChildNodes(t,null,function(){s=t.querySelector("."+v),r.addGivenNodes(e,t,i,!0,s),r.triggerEvent("addNodes",e)}):(this.addGivenNodes(e,t,i,!0),this.triggerEvent("addNodes",e))},t.prototype.dmFailure=function(e,t,i){t&&this.updatePreviousText(t,i),this.trigger("actionFailure",{error:e})},t.prototype.updatePreviousText=function(e,t){var n=this.getElement(e),r=i.i(s.select)("."+m,n);this.updateText(n,r,this.oldText,t)},t.prototype.getHierarchicalParentId=function(e,t,n){var r=this,o=t.findIndex(function(t){return t[r.fields.id]&&t[r.fields.id].toString()===e});if(-1==o)for(var a=0;a<t.length;a++){var l=i.i(s.getValue)(this.fields.child.toString(),t[a]);if(!i.i(s.isNullOrUndefined)(l)){if(-1!=(o=l.findIndex(function(t){return t[r.fields.id]&&t[r.fields.id].toString()===e}))){n.push(t[a][this.fields.id].toString()),this.getHierarchicalParentId(t[a][this.fields.id].toString(),this.treeData,n);break}this.getHierarchicalParentId(e,l,n)}}return n},t.prototype.onPropertyChanged=function(e,t){for(var r=0,o=Object.keys(e);r<o.length;r++){switch(o[r]){case"allowDragAndDrop":this.setDragAndDrop(this.allowDragAndDrop);break;case"dragArea":this.allowDragAndDrop&&(this.dragObj.dragArea=this.dragArea);break;case"allowEditing":this.wireEditingEvents(this.allowEditing);break;case"allowMultiSelection":if(this.selectedNodes.length>1){var a=this.getElement(this.selectedNodes[0]);this.isLoaded=!1,this.removeSelectAll(),this.selectNode(a,null),this.isLoaded=!0}this.setMultiSelect(this.allowMultiSelection),this.addMultiSelect(this.allowMultiSelection);break;case"allowTextWrap":this.setTextWrap(),this.updateWrap();break;case"checkedNodes":this.showCheckBox&&(this.checkedNodes=t.checkedNodes,this.setCheckedNodes(e.checkedNodes));break;case"autoCheck":this.showCheckBox&&(this.autoCheck=e.autoCheck,this.ensureIndeterminate());break;case"cssClass":this.setCssClass(t.cssClass,e.cssClass);break;case"enableRtl":this.setEnableRtl();break;case"expandedNodes":this.isAnimate=!1,this.setProperties({expandedNodes:[]},!0),this.collapseAll(),this.isInitalExpand=!0,this.setProperties({expandedNodes:i.i(s.isNullOrUndefined)(e.expandedNodes)?[]:e.expandedNodes},!0),this.doExpandAction(),this.isInitalExpand=!1,this.isAnimate=!0;break;case"expandOn":this.wireExpandOnEvent(!1),this.setExpandOnType(),"None"===this.expandOnType||this.disabled||this.wireExpandOnEvent(!0);break;case"disabled":this.setDisabledMode(),this.dynamicState();break;case"fields":this.isAnimate=!1,this.isFieldChange=!0,this.initialRender=!0,this.isReact&&(!this.isReact||this.fields.dataSource instanceof n.DataManager)||this.reRenderNodes(),this.initialRender=!1,this.isAnimate=!0,this.isFieldChange=!1;break;case"fullRowSelect":this.setFullRow(this.fullRowSelect),this.addFullRow(this.fullRowSelect),this.allowTextWrap&&(this.setTextWrap(),this.updateWrap());break;case"loadOnDemand":if(!1===this.loadOnDemand&&!this.onLoaded){for(var l=this.element.querySelectorAll("li"),d=0;d<l.length;)"true"!==l[d].getAttribute("aria-expanded")&&this.renderChildNodes(l[d],!0,null,!0),d++;this.onLoaded=!0}break;case"nodeTemplate":this.hasTemplate=!1,this.nodeTemplateFn=this.templateComplier(this.nodeTemplate),this.reRenderNodes();break;case"selectedNodes":this.removeSelectAll(),this.setProperties({selectedNodes:e.selectedNodes},!0),this.doSelectionAction();break;case"showCheckBox":case"sortOrder":this.reRenderNodes();break;case"fullRowNavigable":this.setProperties({fullRowNavigable:e.fullRowNavigable},!0),this.listBaseOption.itemNavigable=e.fullRowNavigable,this.reRenderNodes()}}},t.prototype.destroy=function(){this.clearTemplate(),this.element.removeAttribute("aria-activedescendant"),this.unWireEvents(),this.wireEditingEvents(!1),this.disabled||(this.rippleFn(),this.rippleIconFn()),this.setCssClass(this.cssClass,null),this.setDragAndDrop(!1),this.setFullRow(!1),this.ulElement&&this.ulElement.parentElement&&this.ulElement.parentElement.removeChild(this.ulElement),this.ulElement=null,this.liList=null,this.startNode=null,this.firstTap=null,this.expandArgs=null,this.dragLi=null,this.dragTarget=null,this.dragParent=null,this.dragObj=null,this.dropObj=null,this.inputObj=null,this.touchEditObj=null,this.touchExpandObj=null,this.touchClickObj=null,e.prototype.destroy.call(this)},t.prototype.addNodes=function(e,t,r,o){if(!i.i(s.isNullOrUndefined)(e)){e=JSON.parse(JSON.stringify(e));var a=this.getElement(t);if(this.preventExpand=o,this.fields.dataSource instanceof n.DataManager)this.isOffline?this.addSuccess(e,a,r):this.crudOperation("insert",null,t,null,e,r,this.preventExpand);else if(2===this.dataType)this.addGivenNodes(e,a,r);else{if(a)this.addGivenNodes(e,a,r);else{e=this.getSortedData(e);for(var l=0;l<e.length;l++){var d=i.i(s.getValue)(this.fields.parentID,e[l]);a=d?this.getElement(d.toString()):d,this.addGivenNodes([e[l]],a,r)}}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}this.updateCheckedStateFromDS(),this.showCheckBox&&a&&this.ensureParentCheckState(a),this.fields.dataSource instanceof n.DataManager==!1&&(this.preventExpand=!1,this.triggerEvent("addNodes",e))}},t.prototype.beginEdit=function(e){var t=this.getElement(e);i.i(s.isNullOrUndefined)(t)||this.disabled||this.createTextbox(t,null)},t.prototype.checkAll=function(e){this.showCheckBox&&this.doCheckBoxAction(e,!0)},t.prototype.collapseAll=function(e,t,n){i.i(s.isNullOrUndefined)(e)?t>0?this.collapseByLevel(i.i(s.select)("."+v,this.element),t,n):this.collapseAllNodes(n):this.doGivenAction(e,p,!1)},t.prototype.disableNodes=function(e){i.i(s.isNullOrUndefined)(e)||this.doDisableAction(e)},t.prototype.enableNodes=function(e){i.i(s.isNullOrUndefined)(e)||this.doEnableAction(e)},t.prototype.ensureVisible=function(e){var t=[];if(1==this.dataType)for(var n=this.getTreeData(e);0!=n.length&&!i.i(s.isNullOrUndefined)(n[0][this.fields.parentID]);)t.push(n[0][this.fields.parentID].toString()),n=this.getTreeData(n[0][this.fields.parentID].toString());else 2==this.dataType&&(t=this.getHierarchicalParentId(e,this.treeData,t));this.expandAll(t.reverse());var r=this.getElement(e);if(!i.i(s.isNullOrUndefined)(r)){if("object"==typeof e){var o=this.parents(r,"."+f);this.expandAll(o)}setTimeout(function(){r.scrollIntoView({behavior:"smooth"})},450)}},t.prototype.expandAll=function(e,t,n){i.i(s.isNullOrUndefined)(e)?t>0?this.expandByLevel(i.i(s.select)("."+v,this.element),t,n):this.expandAllNodes(n):this.doGivenAction(e,u,!0)},t.prototype.getAllCheckedNodes=function(){return this.checkedNodes},t.prototype.getDisabledNodes=function(){return this.disableNode},t.prototype.getNode=function(e){var t=this.getElement(e);return this.getNodeData(t,!0)},t.prototype.getTreeData=function(e){var t=this.getId(e);if(this.updatePersistProp(),i.i(s.isNullOrUndefined)(t))return this.treeData;var n=this.getNodeObject(t);return i.i(s.isNullOrUndefined)(n)?[]:[n]},t.prototype.moveNodes=function(e,t,r,o){var a=this.getElement(t),l=[];if(!i.i(s.isNullOrUndefined)(a)){for(var d=0;d<e.length;d++){var h=this.getElement(e[d]);l.push(this.getNode(h)),i.i(s.isNullOrUndefined)(h)||a.isSameNode(h)||this.isDescendant(h,a)||(this.preventExpand=o,this.dropAsChildNode(h,a,this,r))}this.fields.dataSource instanceof n.DataManager==!1&&(this.preventExpand=!1),this.triggerEvent("moveNodes",l)}},t.prototype.refreshNode=function(e,t){if(!i.i(s.isNullOrUndefined)(e)&&!i.i(s.isNullOrUndefined)(t)){var n,o=!1;if(1==this.dataType&&t.length>1)o=!0;else if(2==this.dataType&&1===t.length){var a=i.i(s.getValue)(this.fields.child.toString(),t[0]);i.i(s.isNullOrUndefined)(a)||(o=!0)}var l=this.getElement(e);n=l?l.getAttribute("data-uid"):e?e.toString():null,this.refreshData=this.getNodeObject(n),t=JSON.parse(JSON.stringify(t));var d,h;if(1==this.dataType&&o){for(var c=0;c<t.length;c++)if(i.i(s.isNullOrUndefined)(t[c][this.fields.parentID])){h=t[c],t.splice(c,1);break}d=i.i(s.extend)({},this.refreshData,h)}else d=i.i(s.extend)({},this.refreshData,t[0]);if(i.i(s.isNullOrUndefined)(l))return void this.updatePosition(n,d,o,t);this.isRefreshed=!0;var f=parseFloat(l.getAttribute("aria-level")),m=r.ListBase.createListItemFromJson(this.createElement,[d],this.listBaseOption,f),y=i.i(s.select)("."+v,l),b=i.i(s.getValue)(this.fields.child.toString(),d);if(o&&y||o&&!i.i(s.isNullOrUndefined)(b)){var x=l.parentElement,I=Array.prototype.indexOf.call(x.childNodes,l);i.i(s.remove)(l),x.insertBefore(m[0],x.childNodes[I]),this.updatePosition(n,d,o,t),o&&y&&this.expandAll([n])}else{var N=i.i(s.select)("."+S,l),w=i.i(s.select)("."+S,m[0]),O=i.i(s.select)("div."+C,N),L=i.i(s.select)("div."+C,w);O&&L&&(L.classList.contains(u)&&O.classList.contains(p)?(i.i(s.removeClass)([L],u),i.i(s.addClass)([L],p)):L.classList.contains(p)&&O.classList.contains(u)?(i.i(s.removeClass)([L],p),i.i(s.addClass)([L],u)):O.classList.contains("interaction")&&i.i(s.addClass)([L],"interaction")),i.i(s.remove)(N);var k=i.i(s.select)("."+E,l);k.parentNode.insertBefore(w,k.nextSibling),this.updatePosition(n,d,o,t)}if(l=this.getElement(e),d[this.fields.tooltip]&&l.setAttribute("title",d[this.fields.tooltip]),d.hasOwnProperty(this.fields.htmlAttributes)&&d[this.fields.htmlAttributes]){var A={};i.i(s.merge)(A,d[this.fields.htmlAttributes]),A.class?(i.i(s.addClass)([l],A.class.split(" ")),delete A.class):i.i(s.attributes)(l,A)}-1!==this.selectedNodes.indexOf(n)&&(l.setAttribute("aria-selected","true"),i.i(s.addClass)([l],g)),this.isRefreshed=!1,this.triggerEvent("refreshNode",[this.getNode(l)])}},t.prototype.removeNodes=function(e){i.i(s.isNullOrUndefined)(e)||(this.fields.dataSource instanceof n.DataManager&&!this.isOffline?this.crudOperation("delete",e):this.deleteSuccess(e))},t.prototype.updateNode=function(e,t){var r=this;if(!i.i(s.isNullOrUndefined)(e)&&!i.i(s.isNullOrUndefined)(t)&&this.allowEditing){var o=this.getElement(e);if(!i.i(s.isNullOrUndefined)(o)){var a=i.i(s.select)("."+m,o);this.updateOldText(o);var l=this.getEditEvent(o,null,null);this.trigger("nodeEditing",l,function(i){i.cancel||(r.fields.dataSource instanceof n.DataManager&&!r.isOffline?r.crudOperation("update",null,e,t,null,null,!1):r.appendNewText(o,a,t,!1))})}}},t.prototype.uncheckAll=function(e){this.showCheckBox&&this.doCheckBoxAction(e,!1)};var P;return h([i.i(s.Property)(!1)],t.prototype,"allowDragAndDrop",void 0),h([i.i(s.Property)(!1)],t.prototype,"allowEditing",void 0),h([i.i(s.Property)(!1)],t.prototype,"allowMultiSelection",void 0),h([i.i(s.Property)(!1)],t.prototype,"allowTextWrap",void 0),h([i.i(s.Complex)({},T)],t.prototype,"animation",void 0),h([i.i(s.Property)()],t.prototype,"checkedNodes",void 0),h([i.i(s.Property)("")],t.prototype,"cssClass",void 0),h([i.i(s.Property)(!1)],t.prototype,"disabled",void 0),h([i.i(s.Property)(null)],t.prototype,"dragArea",void 0),h([i.i(s.Property)(!1)],t.prototype,"enableHtmlSanitizer",void 0),h([i.i(s.Property)(!1)],t.prototype,"enablePersistence",void 0),h([i.i(s.Property)()],t.prototype,"expandedNodes",void 0),h([i.i(s.Property)("Auto")],t.prototype,"expandOn",void 0),h([i.i(s.Complex)({},A)],t.prototype,"fields",void 0),h([i.i(s.Property)(!0)],t.prototype,"fullRowSelect",void 0),h([i.i(s.Property)(!0)],t.prototype,"loadOnDemand",void 0),h([i.i(s.Property)()],t.prototype,"locale",void 0),h([i.i(s.Property)()],t.prototype,"nodeTemplate",void 0),h([i.i(s.Property)()],t.prototype,"selectedNodes",void 0),h([i.i(s.Property)("None")],t.prototype,"sortOrder",void 0),h([i.i(s.Property)(!1)],t.prototype,"showCheckBox",void 0),h([i.i(s.Property)(!0)],t.prototype,"autoCheck",void 0),h([i.i(s.Property)(!1)],t.prototype,"fullRowNavigable",void 0),h([i.i(s.Event)()],t.prototype,"actionFailure",void 0),h([i.i(s.Event)()],t.prototype,"created",void 0),h([i.i(s.Event)()],t.prototype,"dataBound",void 0),h([i.i(s.Event)()],t.prototype,"dataSourceChanged",void 0),h([i.i(s.Event)()],t.prototype,"drawNode",void 0),h([i.i(s.Event)()],t.prototype,"destroyed",void 0),h([i.i(s.Event)()],t.prototype,"keyPress",void 0),h([i.i(s.Event)()],t.prototype,"nodeChecked",void 0),h([i.i(s.Event)()],t.prototype,"nodeChecking",void 0),h([i.i(s.Event)()],t.prototype,"nodeClicked",void 0),h([i.i(s.Event)()],t.prototype,"nodeCollapsed",void 0),h([i.i(s.Event)()],t.prototype,"nodeCollapsing",void 0),h([i.i(s.Event)()],t.prototype,"nodeDragging",void 0),h([i.i(s.Event)()],t.prototype,"nodeDragStart",void 0),h([i.i(s.Event)()],t.prototype,"nodeDragStop",void 0),h([i.i(s.Event)()],t.prototype,"nodeDropped",void 0),h([i.i(s.Event)()],t.prototype,"nodeEdited",void 0),h([i.i(s.Event)()],t.prototype,"nodeEditing",void 0),h([i.i(s.Event)()],t.prototype,"nodeExpanded",void 0),h([i.i(s.Event)()],t.prototype,"nodeExpanding",void 0),h([i.i(s.Event)()],t.prototype,"nodeSelected",void 0),h([i.i(s.Event)()],t.prototype,"nodeSelecting",void 0),t=P=h([s.NotifyPropertyChanges],t)}(s.Component)},function(e,t){e.exports=n},function(e,t){e.exports=r}])});